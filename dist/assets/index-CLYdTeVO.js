var yd=Object.defineProperty;var bd=(e,t,n)=>t in e?yd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var sl=(e,t,n)=>bd(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Ys(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const ae={},qn=[],At=()=>{},Ed=()=>!1,io=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),qs=e=>e.startsWith("onUpdate:"),Re=Object.assign,Js=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Cd=Object.prototype.hasOwnProperty,Z=(e,t)=>Cd.call(e,t),j=Array.isArray,Jn=e=>oo(e)==="[object Map]",Gu=e=>oo(e)==="[object Set]",H=e=>typeof e=="function",be=e=>typeof e=="string",Gt=e=>typeof e=="symbol",pe=e=>e!==null&&typeof e=="object",Qu=e=>(pe(e)||H(e))&&H(e.then)&&H(e.catch),zu=Object.prototype.toString,oo=e=>zu.call(e),wd=e=>oo(e).slice(8,-1),Ku=e=>oo(e)==="[object Object]",Xs=e=>be(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,kr=Ys(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),so=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Sd=/-(\w)/g,st=so(e=>e.replace(Sd,(t,n)=>n?n.toUpperCase():"")),Td=/\B([A-Z])/g,dn=so(e=>e.replace(Td,"-$1").toLowerCase()),ao=so(e=>e.charAt(0).toUpperCase()+e.slice(1)),Wo=so(e=>e?`on${ao(e)}`:""),nn=(e,t)=>!Object.is(e,t),Ai=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Yu=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},cs=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let al;const lo=()=>al||(al=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function uo(e){if(j(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=be(r)?xd(r):uo(r);if(i)for(const o in i)t[o]=i[o]}return t}else if(be(e)||pe(e))return e}const Id=/;(?![^(]*\))/g,Rd=/:([^]+)/,Ad=/\/\*[^]*?\*\//g;function xd(e){const t={};return e.replace(Ad,"").split(Id).forEach(n=>{if(n){const r=n.split(Rd);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Zs(e){let t="";if(be(e))t=e;else if(j(e))for(let n=0;n<e.length;n++){const r=Zs(e[n]);r&&(t+=r+" ")}else if(pe(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Od="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Pd=Ys(Od);function qu(e){return!!e||e===""}const Ju=e=>!!(e&&e.__v_isRef===!0),It=e=>be(e)?e:e==null?"":j(e)||pe(e)&&(e.toString===zu||!H(e.toString))?Ju(e)?It(e.value):JSON.stringify(e,Xu,2):String(e),Xu=(e,t)=>Ju(t)?Xu(e,t.value):Jn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,i],o)=>(n[Uo(r,o)+" =>"]=i,n),{})}:Gu(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Uo(n))}:Gt(t)?Uo(t):pe(t)&&!j(t)&&!Ku(t)?String(t):t,Uo=(e,t="")=>{var n;return Gt(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ye;class Zu{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ye,!t&&Ye&&(this.index=(Ye.scopes||(Ye.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Ye;try{return Ye=this,t()}finally{Ye=n}}}on(){Ye=this}off(){Ye=this.parent}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Nd(e){return new Zu(e)}function Md(){return Ye}let ce;const jo=new WeakSet;class ec{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ye&&Ye.active&&Ye.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,jo.has(this)&&(jo.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||nc(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ll(this),rc(this);const t=ce,n=pt;ce=this,pt=!0;try{return this.fn()}finally{ic(this),ce=t,pt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)na(t);this.deps=this.depsTail=void 0,ll(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?jo.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){fs(this)&&this.run()}get dirty(){return fs(this)}}let tc=0,Dr,Lr;function nc(e,t=!1){if(e.flags|=8,t){e.next=Lr,Lr=e;return}e.next=Dr,Dr=e}function ea(){tc++}function ta(){if(--tc>0)return;if(Lr){let t=Lr;for(Lr=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Dr;){let t=Dr;for(Dr=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function rc(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function ic(e){let t,n=e.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),na(r),kd(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}e.deps=t,e.depsTail=n}function fs(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(oc(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function oc(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===zr))return;e.globalVersion=zr;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!fs(e)){e.flags&=-3;return}const n=ce,r=pt;ce=e,pt=!0;try{rc(e);const i=e.fn(e._value);(t.version===0||nn(i,e._value))&&(e._value=i,t.version++)}catch(i){throw t.version++,i}finally{ce=n,pt=r,ic(e),e.flags&=-3}}function na(e,t=!1){const{dep:n,prevSub:r,nextSub:i}=e;if(r&&(r.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let o=n.computed.deps;o;o=o.nextDep)na(o,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function kd(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let pt=!0;const sc=[];function pn(){sc.push(pt),pt=!1}function vn(){const e=sc.pop();pt=e===void 0?!0:e}function ll(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=ce;ce=void 0;try{t()}finally{ce=n}}}let zr=0;class Dd{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ra{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!ce||!pt||ce===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==ce)n=this.activeLink=new Dd(ce,this),ce.deps?(n.prevDep=ce.depsTail,ce.depsTail.nextDep=n,ce.depsTail=n):ce.deps=ce.depsTail=n,ac(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=ce.depsTail,n.nextDep=void 0,ce.depsTail.nextDep=n,ce.depsTail=n,ce.deps===n&&(ce.deps=r)}return n}trigger(t){this.version++,zr++,this.notify(t)}notify(t){ea();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{ta()}}}function ac(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)ac(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const hs=new WeakMap,Rn=Symbol(""),ds=Symbol(""),Kr=Symbol("");function Ne(e,t,n){if(pt&&ce){let r=hs.get(e);r||hs.set(e,r=new Map);let i=r.get(n);i||(r.set(n,i=new ra),i.map=r,i.key=n),i.track()}}function Wt(e,t,n,r,i,o){const s=hs.get(e);if(!s){zr++;return}const a=l=>{l&&l.trigger()};if(ea(),t==="clear")s.forEach(a);else{const l=j(e),u=l&&Xs(n);if(l&&n==="length"){const c=Number(r);s.forEach((f,h)=>{(h==="length"||h===Kr||!Gt(h)&&h>=c)&&a(f)})}else switch((n!==void 0||s.has(void 0))&&a(s.get(n)),u&&a(s.get(Kr)),t){case"add":l?u&&a(s.get("length")):(a(s.get(Rn)),Jn(e)&&a(s.get(ds)));break;case"delete":l||(a(s.get(Rn)),Jn(e)&&a(s.get(ds)));break;case"set":Jn(e)&&a(s.get(Rn));break}}ta()}function Vn(e){const t=X(e);return t===e?t:(Ne(t,"iterate",Kr),ot(e)?t:t.map(Me))}function co(e){return Ne(e=X(e),"iterate",Kr),e}const Ld={__proto__:null,[Symbol.iterator](){return Vo(this,Symbol.iterator,Me)},concat(...e){return Vn(this).concat(...e.map(t=>j(t)?Vn(t):t))},entries(){return Vo(this,"entries",e=>(e[1]=Me(e[1]),e))},every(e,t){return Lt(this,"every",e,t,void 0,arguments)},filter(e,t){return Lt(this,"filter",e,t,n=>n.map(Me),arguments)},find(e,t){return Lt(this,"find",e,t,Me,arguments)},findIndex(e,t){return Lt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Lt(this,"findLast",e,t,Me,arguments)},findLastIndex(e,t){return Lt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Lt(this,"forEach",e,t,void 0,arguments)},includes(...e){return Ho(this,"includes",e)},indexOf(...e){return Ho(this,"indexOf",e)},join(e){return Vn(this).join(e)},lastIndexOf(...e){return Ho(this,"lastIndexOf",e)},map(e,t){return Lt(this,"map",e,t,void 0,arguments)},pop(){return Tr(this,"pop")},push(...e){return Tr(this,"push",e)},reduce(e,...t){return ul(this,"reduce",e,t)},reduceRight(e,...t){return ul(this,"reduceRight",e,t)},shift(){return Tr(this,"shift")},some(e,t){return Lt(this,"some",e,t,void 0,arguments)},splice(...e){return Tr(this,"splice",e)},toReversed(){return Vn(this).toReversed()},toSorted(e){return Vn(this).toSorted(e)},toSpliced(...e){return Vn(this).toSpliced(...e)},unshift(...e){return Tr(this,"unshift",e)},values(){return Vo(this,"values",Me)}};function Vo(e,t,n){const r=co(e),i=r[t]();return r!==e&&!ot(e)&&(i._next=i.next,i.next=()=>{const o=i._next();return o.value&&(o.value=n(o.value)),o}),i}const Fd=Array.prototype;function Lt(e,t,n,r,i,o){const s=co(e),a=s!==e&&!ot(e),l=s[t];if(l!==Fd[t]){const f=l.apply(e,o);return a?Me(f):f}let u=n;s!==e&&(a?u=function(f,h){return n.call(this,Me(f),h,e)}:n.length>2&&(u=function(f,h){return n.call(this,f,h,e)}));const c=l.call(s,u,r);return a&&i?i(c):c}function ul(e,t,n,r){const i=co(e);let o=n;return i!==e&&(ot(e)?n.length>3&&(o=function(s,a,l){return n.call(this,s,a,l,e)}):o=function(s,a,l){return n.call(this,s,Me(a),l,e)}),i[t](o,...r)}function Ho(e,t,n){const r=X(e);Ne(r,"iterate",Kr);const i=r[t](...n);return(i===-1||i===!1)&&sa(n[0])?(n[0]=X(n[0]),r[t](...n)):i}function Tr(e,t,n=[]){pn(),ea();const r=X(e)[t].apply(e,n);return ta(),vn(),r}const Bd=Ys("__proto__,__v_isRef,__isVue"),lc=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Gt));function Wd(e){Gt(e)||(e=String(e));const t=X(this);return Ne(t,"has",e),t.hasOwnProperty(e)}class uc{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const i=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return o;if(n==="__v_raw")return r===(i?o?Yd:dc:o?hc:fc).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const s=j(t);if(!i){let l;if(s&&(l=Ld[n]))return l;if(n==="hasOwnProperty")return Wd}const a=Reflect.get(t,n,Le(t)?t:r);return(Gt(n)?lc.has(n):Bd(n))||(i||Ne(t,"get",n),o)?a:Le(a)?s&&Xs(n)?a:a.value:pe(a)?i?vc(a):li(a):a}}class cc extends uc{constructor(t=!1){super(!1,t)}set(t,n,r,i){let o=t[n];if(!this._isShallow){const l=On(o);if(!ot(r)&&!On(r)&&(o=X(o),r=X(r)),!j(t)&&Le(o)&&!Le(r))return l?!1:(o.value=r,!0)}const s=j(t)&&Xs(n)?Number(n)<t.length:Z(t,n),a=Reflect.set(t,n,r,Le(t)?t:i);return t===X(i)&&(s?nn(r,o)&&Wt(t,"set",n,r):Wt(t,"add",n,r)),a}deleteProperty(t,n){const r=Z(t,n);t[n];const i=Reflect.deleteProperty(t,n);return i&&r&&Wt(t,"delete",n,void 0),i}has(t,n){const r=Reflect.has(t,n);return(!Gt(n)||!lc.has(n))&&Ne(t,"has",n),r}ownKeys(t){return Ne(t,"iterate",j(t)?"length":Rn),Reflect.ownKeys(t)}}class Ud extends uc{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const jd=new cc,Vd=new Ud,Hd=new cc(!0);const ps=e=>e,wi=e=>Reflect.getPrototypeOf(e);function $d(e,t,n){return function(...r){const i=this.__v_raw,o=X(i),s=Jn(o),a=e==="entries"||e===Symbol.iterator&&s,l=e==="keys"&&s,u=i[e](...r),c=n?ps:t?vs:Me;return!t&&Ne(o,"iterate",l?ds:Rn),{next(){const{value:f,done:h}=u.next();return h?{value:f,done:h}:{value:a?[c(f[0]),c(f[1])]:c(f),done:h}},[Symbol.iterator](){return this}}}}function Si(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Gd(e,t){const n={get(i){const o=this.__v_raw,s=X(o),a=X(i);e||(nn(i,a)&&Ne(s,"get",i),Ne(s,"get",a));const{has:l}=wi(s),u=t?ps:e?vs:Me;if(l.call(s,i))return u(o.get(i));if(l.call(s,a))return u(o.get(a));o!==s&&o.get(i)},get size(){const i=this.__v_raw;return!e&&Ne(X(i),"iterate",Rn),Reflect.get(i,"size",i)},has(i){const o=this.__v_raw,s=X(o),a=X(i);return e||(nn(i,a)&&Ne(s,"has",i),Ne(s,"has",a)),i===a?o.has(i):o.has(i)||o.has(a)},forEach(i,o){const s=this,a=s.__v_raw,l=X(a),u=t?ps:e?vs:Me;return!e&&Ne(l,"iterate",Rn),a.forEach((c,f)=>i.call(o,u(c),u(f),s))}};return Re(n,e?{add:Si("add"),set:Si("set"),delete:Si("delete"),clear:Si("clear")}:{add(i){!t&&!ot(i)&&!On(i)&&(i=X(i));const o=X(this);return wi(o).has.call(o,i)||(o.add(i),Wt(o,"add",i,i)),this},set(i,o){!t&&!ot(o)&&!On(o)&&(o=X(o));const s=X(this),{has:a,get:l}=wi(s);let u=a.call(s,i);u||(i=X(i),u=a.call(s,i));const c=l.call(s,i);return s.set(i,o),u?nn(o,c)&&Wt(s,"set",i,o):Wt(s,"add",i,o),this},delete(i){const o=X(this),{has:s,get:a}=wi(o);let l=s.call(o,i);l||(i=X(i),l=s.call(o,i)),a&&a.call(o,i);const u=o.delete(i);return l&&Wt(o,"delete",i,void 0),u},clear(){const i=X(this),o=i.size!==0,s=i.clear();return o&&Wt(i,"clear",void 0,void 0),s}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=$d(i,e,t)}),n}function ia(e,t){const n=Gd(e,t);return(r,i,o)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(Z(n,i)&&i in r?n:r,i,o)}const Qd={get:ia(!1,!1)},zd={get:ia(!1,!0)},Kd={get:ia(!0,!1)};const fc=new WeakMap,hc=new WeakMap,dc=new WeakMap,Yd=new WeakMap;function qd(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Jd(e){return e.__v_skip||!Object.isExtensible(e)?0:qd(wd(e))}function li(e){return On(e)?e:oa(e,!1,jd,Qd,fc)}function pc(e){return oa(e,!1,Hd,zd,hc)}function vc(e){return oa(e,!0,Vd,Kd,dc)}function oa(e,t,n,r,i){if(!pe(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=i.get(e);if(o)return o;const s=Jd(e);if(s===0)return e;const a=new Proxy(e,s===2?r:n);return i.set(e,a),a}function Xn(e){return On(e)?Xn(e.__v_raw):!!(e&&e.__v_isReactive)}function On(e){return!!(e&&e.__v_isReadonly)}function ot(e){return!!(e&&e.__v_isShallow)}function sa(e){return e?!!e.__v_raw:!1}function X(e){const t=e&&e.__v_raw;return t?X(t):e}function Xd(e){return!Z(e,"__v_skip")&&Object.isExtensible(e)&&Yu(e,"__v_skip",!0),e}const Me=e=>pe(e)?li(e):e,vs=e=>pe(e)?vc(e):e;function Le(e){return e?e.__v_isRef===!0:!1}function Zd(e){return _c(e,!1)}function ep(e){return _c(e,!0)}function _c(e,t){return Le(e)?e:new tp(e,t)}class tp{constructor(t,n){this.dep=new ra,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:X(t),this._value=n?t:Me(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||ot(t)||On(t);t=r?t:X(t),nn(t,n)&&(this._rawValue=t,this._value=r?t:Me(t),this.dep.trigger())}}function Zn(e){return Le(e)?e.value:e}const np={get:(e,t,n)=>t==="__v_raw"?e:Zn(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return Le(i)&&!Le(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function gc(e){return Xn(e)?e:new Proxy(e,np)}class rp{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new ra(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=zr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&ce!==this)return nc(this,!0),!0}get value(){const t=this.dep.track();return oc(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function ip(e,t,n=!1){let r,i;return H(e)?r=e:(r=e.get,i=e.set),new rp(r,i,n)}const Ti={},ki=new WeakMap;let En;function op(e,t=!1,n=En){if(n){let r=ki.get(n);r||ki.set(n,r=[]),r.push(e)}}function sp(e,t,n=ae){const{immediate:r,deep:i,once:o,scheduler:s,augmentJob:a,call:l}=n,u=D=>i?D:ot(D)||i===!1||i===0?Ut(D,1):Ut(D);let c,f,h,d,_=!1,m=!1;if(Le(e)?(f=()=>e.value,_=ot(e)):Xn(e)?(f=()=>u(e),_=!0):j(e)?(m=!0,_=e.some(D=>Xn(D)||ot(D)),f=()=>e.map(D=>{if(Le(D))return D.value;if(Xn(D))return u(D);if(H(D))return l?l(D,2):D()})):H(e)?t?f=l?()=>l(e,2):e:f=()=>{if(h){pn();try{h()}finally{vn()}}const D=En;En=c;try{return l?l(e,3,[d]):e(d)}finally{En=D}}:f=At,t&&i){const D=f,Y=i===!0?1/0:i;f=()=>Ut(D(),Y)}const b=Md(),C=()=>{c.stop(),b&&b.active&&Js(b.effects,c)};if(o&&t){const D=t;t=(...Y)=>{D(...Y),C()}}let R=m?new Array(e.length).fill(Ti):Ti;const N=D=>{if(!(!(c.flags&1)||!c.dirty&&!D))if(t){const Y=c.run();if(i||_||(m?Y.some((me,he)=>nn(me,R[he])):nn(Y,R))){h&&h();const me=En;En=c;try{const he=[Y,R===Ti?void 0:m&&R[0]===Ti?[]:R,d];l?l(t,3,he):t(...he),R=Y}finally{En=me}}}else c.run()};return a&&a(N),c=new ec(f),c.scheduler=s?()=>s(N,!1):N,d=D=>op(D,!1,c),h=c.onStop=()=>{const D=ki.get(c);if(D){if(l)l(D,4);else for(const Y of D)Y();ki.delete(c)}},t?r?N(!0):R=c.run():s?s(N.bind(null,!0),!0):c.run(),C.pause=c.pause.bind(c),C.resume=c.resume.bind(c),C.stop=C,C}function Ut(e,t=1/0,n){if(t<=0||!pe(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,Le(e))Ut(e.value,t,n);else if(j(e))for(let r=0;r<e.length;r++)Ut(e[r],t,n);else if(Gu(e)||Jn(e))e.forEach(r=>{Ut(r,t,n)});else if(Ku(e)){for(const r in e)Ut(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&Ut(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ui(e,t,n,r){try{return r?e(...r):e()}catch(i){fo(i,t,n)}}function Ot(e,t,n,r){if(H(e)){const i=ui(e,t,n,r);return i&&Qu(i)&&i.catch(o=>{fo(o,t,n)}),i}if(j(e)){const i=[];for(let o=0;o<e.length;o++)i.push(Ot(e[o],t,n,r));return i}}function fo(e,t,n,r=!0){const i=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:s}=t&&t.appContext.config||ae;if(t){let a=t.parent;const l=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const c=a.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](e,l,u)===!1)return}a=a.parent}if(o){pn(),ui(o,null,10,[e,l,u]),vn();return}}ap(e,n,i,r,s)}function ap(e,t,n,r=!0,i=!1){if(i)throw e;console.error(e)}const Be=[];let St=-1;const er=[];let Xt=null,Qn=0;const mc=Promise.resolve();let Di=null;function yc(e){const t=Di||mc;return e?t.then(this?e.bind(this):e):t}function lp(e){let t=St+1,n=Be.length;for(;t<n;){const r=t+n>>>1,i=Be[r],o=Yr(i);o<e||o===e&&i.flags&2?t=r+1:n=r}return t}function aa(e){if(!(e.flags&1)){const t=Yr(e),n=Be[Be.length-1];!n||!(e.flags&2)&&t>=Yr(n)?Be.push(e):Be.splice(lp(t),0,e),e.flags|=1,bc()}}function bc(){Di||(Di=mc.then(Cc))}function up(e){j(e)?er.push(...e):Xt&&e.id===-1?Xt.splice(Qn+1,0,e):e.flags&1||(er.push(e),e.flags|=1),bc()}function cl(e,t,n=St+1){for(;n<Be.length;n++){const r=Be[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;Be.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Ec(e){if(er.length){const t=[...new Set(er)].sort((n,r)=>Yr(n)-Yr(r));if(er.length=0,Xt){Xt.push(...t);return}for(Xt=t,Qn=0;Qn<Xt.length;Qn++){const n=Xt[Qn];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Xt=null,Qn=0}}const Yr=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Cc(e){try{for(St=0;St<Be.length;St++){const t=Be[St];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),ui(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;St<Be.length;St++){const t=Be[St];t&&(t.flags&=-2)}St=-1,Be.length=0,Ec(),Di=null,(Be.length||er.length)&&Cc()}}let Ae=null,wc=null;function Li(e){const t=Ae;return Ae=e,wc=e&&e.type.__scopeId||null,t}function Fi(e,t=Ae,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&yl(-1);const o=Li(t);let s;try{s=e(...i)}finally{Li(o),r._d&&yl(1)}return s};return r._n=!0,r._c=!0,r._d=!0,r}function Sc(e,t){if(Ae===null)return e;const n=_o(Ae),r=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[o,s,a,l=ae]=t[i];o&&(H(o)&&(o={mounted:o,updated:o}),o.deep&&Ut(s),r.push({dir:o,instance:n,value:s,oldValue:void 0,arg:a,modifiers:l}))}return e}function mn(e,t,n,r){const i=e.dirs,o=t&&t.dirs;for(let s=0;s<i.length;s++){const a=i[s];o&&(a.oldValue=o[s].value);let l=a.dir[r];l&&(pn(),Ot(l,n,8,[e.el,a,e,t]),vn())}}const cp=Symbol("_vte"),fp=e=>e.__isTeleport;function la(e,t){e.shapeFlag&6&&e.component?(e.transition=t,la(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function Tc(e,t){return H(e)?Re({name:e.name},t,{setup:e}):e}function Ic(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Bi(e,t,n,r,i=!1){if(j(e)){e.forEach((_,m)=>Bi(_,t&&(j(t)?t[m]:t),n,r,i));return}if(tr(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Bi(e,t,n,r.component.subTree);return}const o=r.shapeFlag&4?_o(r.component):r.el,s=i?null:o,{i:a,r:l}=e,u=t&&t.r,c=a.refs===ae?a.refs={}:a.refs,f=a.setupState,h=X(f),d=f===ae?()=>!1:_=>Z(h,_);if(u!=null&&u!==l&&(be(u)?(c[u]=null,d(u)&&(f[u]=null)):Le(u)&&(u.value=null)),H(l))ui(l,a,12,[s,c]);else{const _=be(l),m=Le(l);if(_||m){const b=()=>{if(e.f){const C=_?d(l)?f[l]:c[l]:l.value;i?j(C)&&Js(C,o):j(C)?C.includes(o)||C.push(o):_?(c[l]=[o],d(l)&&(f[l]=c[l])):(l.value=[o],e.k&&(c[e.k]=l.value))}else _?(c[l]=s,d(l)&&(f[l]=s)):m&&(l.value=s,e.k&&(c[e.k]=s))};s?(b.id=-1,Ke(b,n)):b()}}}lo().requestIdleCallback;lo().cancelIdleCallback;const tr=e=>!!e.type.__asyncLoader,Rc=e=>e.type.__isKeepAlive;function hp(e,t){Ac(e,"a",t)}function dp(e,t){Ac(e,"da",t)}function Ac(e,t,n=De){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(ho(t,r,n),n){let i=n.parent;for(;i&&i.parent;)Rc(i.parent.vnode)&&pp(r,t,n,i),i=i.parent}}function pp(e,t,n,r){const i=ho(t,e,r,!0);xc(()=>{Js(r[t],i)},n)}function ho(e,t,n=De,r=!1){if(n){const i=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...s)=>{pn();const a=ci(n),l=Ot(t,n,e,s);return a(),vn(),l});return r?i.unshift(o):i.push(o),o}}const Qt=e=>(t,n=De)=>{(!Xr||e==="sp")&&ho(e,(...r)=>t(...r),n)},vp=Qt("bm"),_p=Qt("m"),gp=Qt("bu"),mp=Qt("u"),yp=Qt("bum"),xc=Qt("um"),bp=Qt("sp"),Ep=Qt("rtg"),Cp=Qt("rtc");function wp(e,t=De){ho("ec",e,t)}const Sp="components";function sr(e,t){return Ip(Sp,e,!0,t)||e}const Tp=Symbol.for("v-ndc");function Ip(e,t,n=!0,r=!1){const i=Ae||De;if(i){const o=i.type;{const a=pv(o,!1);if(a&&(a===t||a===st(t)||a===ao(st(t))))return o}const s=fl(i[e]||o[e],t)||fl(i.appContext[e],t);return!s&&r?o:s}}function fl(e,t){return e&&(e[t]||e[st(t)]||e[ao(st(t))])}function ua(e,t,n,r){let i;const o=n,s=j(e);if(s||be(e)){const a=s&&Xn(e);let l=!1;a&&(l=!ot(e),e=co(e)),i=new Array(e.length);for(let u=0,c=e.length;u<c;u++)i[u]=t(l?Me(e[u]):e[u],u,void 0,o)}else if(typeof e=="number"){i=new Array(e);for(let a=0;a<e;a++)i[a]=t(a+1,a,void 0,o)}else if(pe(e))if(e[Symbol.iterator])i=Array.from(e,(a,l)=>t(a,l,void 0,o));else{const a=Object.keys(e);i=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];i[l]=t(e[c],c,l,o)}}else i=[];return i}function Rp(e,t,n={},r,i){if(Ae.ce||Ae.parent&&tr(Ae.parent)&&Ae.parent.ce)return oe(),Pn(ke,null,[Ie("slot",n,r)],64);let o=e[t];o&&o._c&&(o._d=!1),oe();const s=o&&Oc(o(n)),a=n.key||s&&s.key,l=Pn(ke,{key:(a&&!Gt(a)?a:`_${t}`)+(!s&&r?"_fb":"")},s||[],s&&e._===1?64:-2);return o&&o._c&&(o._d=!0),l}function Oc(e){return e.some(t=>Jr(t)?!(t.type===sn||t.type===ke&&!Oc(t.children)):!0)?e:null}const _s=e=>e?qc(e)?_o(e):_s(e.parent):null,Fr=Re(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>_s(e.parent),$root:e=>_s(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>ca(e),$forceUpdate:e=>e.f||(e.f=()=>{aa(e.update)}),$nextTick:e=>e.n||(e.n=yc.bind(e.proxy)),$watch:e=>Kp.bind(e)}),$o=(e,t)=>e!==ae&&!e.__isScriptSetup&&Z(e,t),Ap={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:o,accessCache:s,type:a,appContext:l}=e;let u;if(t[0]!=="$"){const d=s[t];if(d!==void 0)switch(d){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return o[t]}else{if($o(r,t))return s[t]=1,r[t];if(i!==ae&&Z(i,t))return s[t]=2,i[t];if((u=e.propsOptions[0])&&Z(u,t))return s[t]=3,o[t];if(n!==ae&&Z(n,t))return s[t]=4,n[t];gs&&(s[t]=0)}}const c=Fr[t];let f,h;if(c)return t==="$attrs"&&Ne(e.attrs,"get",""),c(e);if((f=a.__cssModules)&&(f=f[t]))return f;if(n!==ae&&Z(n,t))return s[t]=4,n[t];if(h=l.config.globalProperties,Z(h,t))return h[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:o}=e;return $o(i,t)?(i[t]=n,!0):r!==ae&&Z(r,t)?(r[t]=n,!0):Z(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:o}},s){let a;return!!n[s]||e!==ae&&Z(e,s)||$o(t,s)||(a=o[0])&&Z(a,s)||Z(r,s)||Z(Fr,s)||Z(i.config.globalProperties,s)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Z(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function hl(e){return j(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let gs=!0;function xp(e){const t=ca(e),n=e.proxy,r=e.ctx;gs=!1,t.beforeCreate&&dl(t.beforeCreate,e,"bc");const{data:i,computed:o,methods:s,watch:a,provide:l,inject:u,created:c,beforeMount:f,mounted:h,beforeUpdate:d,updated:_,activated:m,deactivated:b,beforeDestroy:C,beforeUnmount:R,destroyed:N,unmounted:D,render:Y,renderTracked:me,renderTriggered:he,errorCaptured:mt,serverPrefetch:zt,expose:yt,inheritAttrs:Kt,components:gn,directives:bt,filters:wr}=t;if(u&&Op(u,r,null),s)for(const ie in s){const q=s[ie];H(q)&&(r[ie]=q.bind(n))}if(i){const ie=i.call(n,n);pe(ie)&&(e.data=li(ie))}if(gs=!0,o)for(const ie in o){const q=o[ie],Dt=H(q)?q.bind(n,n):H(q.get)?q.get.bind(n,n):At,Yt=!H(q)&&H(q.set)?q.set.bind(n):At,Et=nt({get:Dt,set:Yt});Object.defineProperty(r,ie,{enumerable:!0,configurable:!0,get:()=>Et.value,set:je=>Et.value=je})}if(a)for(const ie in a)Pc(a[ie],r,n,ie);if(l){const ie=H(l)?l.call(n):l;Reflect.ownKeys(ie).forEach(q=>{xi(q,ie[q])})}c&&dl(c,e,"c");function we(ie,q){j(q)?q.forEach(Dt=>ie(Dt.bind(n))):q&&ie(q.bind(n))}if(we(vp,f),we(_p,h),we(gp,d),we(mp,_),we(hp,m),we(dp,b),we(wp,mt),we(Cp,me),we(Ep,he),we(yp,R),we(xc,D),we(bp,zt),j(yt))if(yt.length){const ie=e.exposed||(e.exposed={});yt.forEach(q=>{Object.defineProperty(ie,q,{get:()=>n[q],set:Dt=>n[q]=Dt})})}else e.exposed||(e.exposed={});Y&&e.render===At&&(e.render=Y),Kt!=null&&(e.inheritAttrs=Kt),gn&&(e.components=gn),bt&&(e.directives=bt),zt&&Ic(e)}function Op(e,t,n=At){j(e)&&(e=ms(e));for(const r in e){const i=e[r];let o;pe(i)?"default"in i?o=Vt(i.from||r,i.default,!0):o=Vt(i.from||r):o=Vt(i),Le(o)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:s=>o.value=s}):t[r]=o}}function dl(e,t,n){Ot(j(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function Pc(e,t,n,r){let i=r.includes(".")?Gc(n,r):()=>n[r];if(be(e)){const o=t[e];H(o)&&rr(i,o)}else if(H(e))rr(i,e.bind(n));else if(pe(e))if(j(e))e.forEach(o=>Pc(o,t,n,r));else{const o=H(e.handler)?e.handler.bind(n):t[e.handler];H(o)&&rr(i,o,e)}}function ca(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=e.appContext,a=o.get(t);let l;return a?l=a:!i.length&&!n&&!r?l=t:(l={},i.length&&i.forEach(u=>Wi(l,u,s,!0)),Wi(l,t,s)),pe(t)&&o.set(t,l),l}function Wi(e,t,n,r=!1){const{mixins:i,extends:o}=t;o&&Wi(e,o,n,!0),i&&i.forEach(s=>Wi(e,s,n,!0));for(const s in t)if(!(r&&s==="expose")){const a=Pp[s]||n&&n[s];e[s]=a?a(e[s],t[s]):t[s]}return e}const Pp={data:pl,props:vl,emits:vl,methods:Mr,computed:Mr,beforeCreate:Fe,created:Fe,beforeMount:Fe,mounted:Fe,beforeUpdate:Fe,updated:Fe,beforeDestroy:Fe,beforeUnmount:Fe,destroyed:Fe,unmounted:Fe,activated:Fe,deactivated:Fe,errorCaptured:Fe,serverPrefetch:Fe,components:Mr,directives:Mr,watch:Mp,provide:pl,inject:Np};function pl(e,t){return t?e?function(){return Re(H(e)?e.call(this,this):e,H(t)?t.call(this,this):t)}:t:e}function Np(e,t){return Mr(ms(e),ms(t))}function ms(e){if(j(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Fe(e,t){return e?[...new Set([].concat(e,t))]:t}function Mr(e,t){return e?Re(Object.create(null),e,t):t}function vl(e,t){return e?j(e)&&j(t)?[...new Set([...e,...t])]:Re(Object.create(null),hl(e),hl(t??{})):t}function Mp(e,t){if(!e)return t;if(!t)return e;const n=Re(Object.create(null),e);for(const r in t)n[r]=Fe(e[r],t[r]);return n}function Nc(){return{app:null,config:{isNativeTag:Ed,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let kp=0;function Dp(e,t){return function(r,i=null){H(r)||(r=Re({},r)),i!=null&&!pe(i)&&(i=null);const o=Nc(),s=new WeakSet,a=[];let l=!1;const u=o.app={_uid:kp++,_component:r,_props:i,_container:null,_context:o,_instance:null,version:_v,get config(){return o.config},set config(c){},use(c,...f){return s.has(c)||(c&&H(c.install)?(s.add(c),c.install(u,...f)):H(c)&&(s.add(c),c(u,...f))),u},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),u},component(c,f){return f?(o.components[c]=f,u):o.components[c]},directive(c,f){return f?(o.directives[c]=f,u):o.directives[c]},mount(c,f,h){if(!l){const d=u._ceVNode||Ie(r,i);return d.appContext=o,h===!0?h="svg":h===!1&&(h=void 0),f&&t?t(d,c):e(d,c,h),l=!0,u._container=c,c.__vue_app__=u,_o(d.component)}},onUnmount(c){a.push(c)},unmount(){l&&(Ot(a,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(c,f){return o.provides[c]=f,u},runWithContext(c){const f=nr;nr=u;try{return c()}finally{nr=f}}};return u}}let nr=null;function xi(e,t){if(De){let n=De.provides;const r=De.parent&&De.parent.provides;r===n&&(n=De.provides=Object.create(r)),n[e]=t}}function Vt(e,t,n=!1){const r=De||Ae;if(r||nr){const i=nr?nr._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&H(t)?t.call(r&&r.proxy):t}}const Mc={},kc=()=>Object.create(Mc),Dc=e=>Object.getPrototypeOf(e)===Mc;function Lp(e,t,n,r=!1){const i={},o=kc();e.propsDefaults=Object.create(null),Lc(e,t,i,o);for(const s in e.propsOptions[0])s in i||(i[s]=void 0);n?e.props=r?i:pc(i):e.type.props?e.props=i:e.props=o,e.attrs=o}function Fp(e,t,n,r){const{props:i,attrs:o,vnode:{patchFlag:s}}=e,a=X(i),[l]=e.propsOptions;let u=!1;if((r||s>0)&&!(s&16)){if(s&8){const c=e.vnode.dynamicProps;for(let f=0;f<c.length;f++){let h=c[f];if(po(e.emitsOptions,h))continue;const d=t[h];if(l)if(Z(o,h))d!==o[h]&&(o[h]=d,u=!0);else{const _=st(h);i[_]=ys(l,a,_,d,e,!1)}else d!==o[h]&&(o[h]=d,u=!0)}}}else{Lc(e,t,i,o)&&(u=!0);let c;for(const f in a)(!t||!Z(t,f)&&((c=dn(f))===f||!Z(t,c)))&&(l?n&&(n[f]!==void 0||n[c]!==void 0)&&(i[f]=ys(l,a,f,void 0,e,!0)):delete i[f]);if(o!==a)for(const f in o)(!t||!Z(t,f))&&(delete o[f],u=!0)}u&&Wt(e.attrs,"set","")}function Lc(e,t,n,r){const[i,o]=e.propsOptions;let s=!1,a;if(t)for(let l in t){if(kr(l))continue;const u=t[l];let c;i&&Z(i,c=st(l))?!o||!o.includes(c)?n[c]=u:(a||(a={}))[c]=u:po(e.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,s=!0)}if(o){const l=X(n),u=a||ae;for(let c=0;c<o.length;c++){const f=o[c];n[f]=ys(i,l,f,u[f],e,!Z(u,f))}}return s}function ys(e,t,n,r,i,o){const s=e[n];if(s!=null){const a=Z(s,"default");if(a&&r===void 0){const l=s.default;if(s.type!==Function&&!s.skipFactory&&H(l)){const{propsDefaults:u}=i;if(n in u)r=u[n];else{const c=ci(i);r=u[n]=l.call(null,t),c()}}else r=l;i.ce&&i.ce._setProp(n,r)}s[0]&&(o&&!a?r=!1:s[1]&&(r===""||r===dn(n))&&(r=!0))}return r}const Bp=new WeakMap;function Fc(e,t,n=!1){const r=n?Bp:t.propsCache,i=r.get(e);if(i)return i;const o=e.props,s={},a=[];let l=!1;if(!H(e)){const c=f=>{l=!0;const[h,d]=Fc(f,t,!0);Re(s,h),d&&a.push(...d)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!o&&!l)return pe(e)&&r.set(e,qn),qn;if(j(o))for(let c=0;c<o.length;c++){const f=st(o[c]);_l(f)&&(s[f]=ae)}else if(o)for(const c in o){const f=st(c);if(_l(f)){const h=o[c],d=s[f]=j(h)||H(h)?{type:h}:Re({},h),_=d.type;let m=!1,b=!0;if(j(_))for(let C=0;C<_.length;++C){const R=_[C],N=H(R)&&R.name;if(N==="Boolean"){m=!0;break}else N==="String"&&(b=!1)}else m=H(_)&&_.name==="Boolean";d[0]=m,d[1]=b,(m||Z(d,"default"))&&a.push(f)}}const u=[s,a];return pe(e)&&r.set(e,u),u}function _l(e){return e[0]!=="$"&&!kr(e)}const Bc=e=>e[0]==="_"||e==="$stable",fa=e=>j(e)?e.map(Tt):[Tt(e)],Wp=(e,t,n)=>{if(t._n)return t;const r=Fi((...i)=>fa(t(...i)),n);return r._c=!1,r},Wc=(e,t,n)=>{const r=e._ctx;for(const i in e){if(Bc(i))continue;const o=e[i];if(H(o))t[i]=Wp(i,o,r);else if(o!=null){const s=fa(o);t[i]=()=>s}}},Uc=(e,t)=>{const n=fa(t);e.slots.default=()=>n},jc=(e,t,n)=>{for(const r in t)(n||r!=="_")&&(e[r]=t[r])},Up=(e,t,n)=>{const r=e.slots=kc();if(e.vnode.shapeFlag&32){const i=t._;i?(jc(r,t,n),n&&Yu(r,"_",i,!0)):Wc(t,r)}else t&&Uc(e,t)},jp=(e,t,n)=>{const{vnode:r,slots:i}=e;let o=!0,s=ae;if(r.shapeFlag&32){const a=t._;a?n&&a===1?o=!1:jc(i,t,n):(o=!t.$stable,Wc(t,i)),s=t}else t&&(Uc(e,t),s={default:1});if(o)for(const a in i)!Bc(a)&&s[a]==null&&delete i[a]},Ke=tv;function Vp(e){return Hp(e)}function Hp(e,t){const n=lo();n.__VUE__=!0;const{insert:r,remove:i,patchProp:o,createElement:s,createText:a,createComment:l,setText:u,setElementText:c,parentNode:f,nextSibling:h,setScopeId:d=At,insertStaticContent:_}=e,m=(p,v,g,w=null,y=null,S=null,O=void 0,x=null,A=!!v.dynamicChildren)=>{if(p===v)return;p&&!Ir(p,v)&&(w=E(p),je(p,y,S,!0),p=null),v.patchFlag===-2&&(A=!1,v.dynamicChildren=null);const{type:T,ref:B,shapeFlag:M}=v;switch(T){case vo:b(p,v,g,w);break;case sn:C(p,v,g,w);break;case Oi:p==null&&R(v,g,w,O);break;case ke:gn(p,v,g,w,y,S,O,x,A);break;default:M&1?Y(p,v,g,w,y,S,O,x,A):M&6?bt(p,v,g,w,y,S,O,x,A):(M&64||M&128)&&T.process(p,v,g,w,y,S,O,x,A,L)}B!=null&&y&&Bi(B,p&&p.ref,S,v||p,!v)},b=(p,v,g,w)=>{if(p==null)r(v.el=a(v.children),g,w);else{const y=v.el=p.el;v.children!==p.children&&u(y,v.children)}},C=(p,v,g,w)=>{p==null?r(v.el=l(v.children||""),g,w):v.el=p.el},R=(p,v,g,w)=>{[p.el,p.anchor]=_(p.children,v,g,w,p.el,p.anchor)},N=({el:p,anchor:v},g,w)=>{let y;for(;p&&p!==v;)y=h(p),r(p,g,w),p=y;r(v,g,w)},D=({el:p,anchor:v})=>{let g;for(;p&&p!==v;)g=h(p),i(p),p=g;i(v)},Y=(p,v,g,w,y,S,O,x,A)=>{v.type==="svg"?O="svg":v.type==="math"&&(O="mathml"),p==null?me(v,g,w,y,S,O,x,A):zt(p,v,y,S,O,x,A)},me=(p,v,g,w,y,S,O,x)=>{let A,T;const{props:B,shapeFlag:M,transition:F,dirs:U}=p;if(A=p.el=s(p.type,S,B&&B.is,B),M&8?c(A,p.children):M&16&&mt(p.children,A,null,w,y,Go(p,S),O,x),U&&mn(p,null,w,"created"),he(A,p,p.scopeId,O,w),B){for(const ue in B)ue!=="value"&&!kr(ue)&&o(A,ue,null,B[ue],S,w);"value"in B&&o(A,"value",null,B.value,S),(T=B.onVnodeBeforeMount)&&wt(T,w,p)}U&&mn(p,null,w,"beforeMount");const z=$p(y,F);z&&F.beforeEnter(A),r(A,v,g),((T=B&&B.onVnodeMounted)||z||U)&&Ke(()=>{T&&wt(T,w,p),z&&F.enter(A),U&&mn(p,null,w,"mounted")},y)},he=(p,v,g,w,y)=>{if(g&&d(p,g),w)for(let S=0;S<w.length;S++)d(p,w[S]);if(y){let S=y.subTree;if(v===S||zc(S.type)&&(S.ssContent===v||S.ssFallback===v)){const O=y.vnode;he(p,O,O.scopeId,O.slotScopeIds,y.parent)}}},mt=(p,v,g,w,y,S,O,x,A=0)=>{for(let T=A;T<p.length;T++){const B=p[T]=x?Zt(p[T]):Tt(p[T]);m(null,B,v,g,w,y,S,O,x)}},zt=(p,v,g,w,y,S,O)=>{const x=v.el=p.el;let{patchFlag:A,dynamicChildren:T,dirs:B}=v;A|=p.patchFlag&16;const M=p.props||ae,F=v.props||ae;let U;if(g&&yn(g,!1),(U=F.onVnodeBeforeUpdate)&&wt(U,g,v,p),B&&mn(v,p,g,"beforeUpdate"),g&&yn(g,!0),(M.innerHTML&&F.innerHTML==null||M.textContent&&F.textContent==null)&&c(x,""),T?yt(p.dynamicChildren,T,x,g,w,Go(v,y),S):O||q(p,v,x,null,g,w,Go(v,y),S,!1),A>0){if(A&16)Kt(x,M,F,g,y);else if(A&2&&M.class!==F.class&&o(x,"class",null,F.class,y),A&4&&o(x,"style",M.style,F.style,y),A&8){const z=v.dynamicProps;for(let ue=0;ue<z.length;ue++){const re=z[ue],Ge=M[re],Oe=F[re];(Oe!==Ge||re==="value")&&o(x,re,Ge,Oe,y,g)}}A&1&&p.children!==v.children&&c(x,v.children)}else!O&&T==null&&Kt(x,M,F,g,y);((U=F.onVnodeUpdated)||B)&&Ke(()=>{U&&wt(U,g,v,p),B&&mn(v,p,g,"updated")},w)},yt=(p,v,g,w,y,S,O)=>{for(let x=0;x<v.length;x++){const A=p[x],T=v[x],B=A.el&&(A.type===ke||!Ir(A,T)||A.shapeFlag&70)?f(A.el):g;m(A,T,B,null,w,y,S,O,!0)}},Kt=(p,v,g,w,y)=>{if(v!==g){if(v!==ae)for(const S in v)!kr(S)&&!(S in g)&&o(p,S,v[S],null,y,w);for(const S in g){if(kr(S))continue;const O=g[S],x=v[S];O!==x&&S!=="value"&&o(p,S,x,O,y,w)}"value"in g&&o(p,"value",v.value,g.value,y)}},gn=(p,v,g,w,y,S,O,x,A)=>{const T=v.el=p?p.el:a(""),B=v.anchor=p?p.anchor:a("");let{patchFlag:M,dynamicChildren:F,slotScopeIds:U}=v;U&&(x=x?x.concat(U):U),p==null?(r(T,g,w),r(B,g,w),mt(v.children||[],g,B,y,S,O,x,A)):M>0&&M&64&&F&&p.dynamicChildren?(yt(p.dynamicChildren,F,g,y,S,O,x),(v.key!=null||y&&v===y.subTree)&&Vc(p,v,!0)):q(p,v,g,B,y,S,O,x,A)},bt=(p,v,g,w,y,S,O,x,A)=>{v.slotScopeIds=x,p==null?v.shapeFlag&512?y.ctx.activate(v,g,w,O,A):wr(v,g,w,y,S,O,A):Wn(p,v,A)},wr=(p,v,g,w,y,S,O)=>{const x=p.component=uv(p,w,y);if(Rc(p)&&(x.ctx.renderer=L),cv(x,!1,O),x.asyncDep){if(y&&y.registerDep(x,we,O),!p.el){const A=x.subTree=Ie(sn);C(null,A,v,g)}}else we(x,p,v,g,y,S,O)},Wn=(p,v,g)=>{const w=v.component=p.component;if(Zp(p,v,g))if(w.asyncDep&&!w.asyncResolved){ie(w,v,g);return}else w.next=v,w.update();else v.el=p.el,w.vnode=v},we=(p,v,g,w,y,S,O)=>{const x=()=>{if(p.isMounted){let{next:M,bu:F,u:U,parent:z,vnode:ue}=p;{const Qe=Hc(p);if(Qe){M&&(M.el=ue.el,ie(p,M,O)),Qe.asyncDep.then(()=>{p.isUnmounted||x()});return}}let re=M,Ge;yn(p,!1),M?(M.el=ue.el,ie(p,M,O)):M=ue,F&&Ai(F),(Ge=M.props&&M.props.onVnodeBeforeUpdate)&&wt(Ge,z,M,ue),yn(p,!0);const Oe=Qo(p),ut=p.subTree;p.subTree=Oe,m(ut,Oe,f(ut.el),E(ut),p,y,S),M.el=Oe.el,re===null&&ev(p,Oe.el),U&&Ke(U,y),(Ge=M.props&&M.props.onVnodeUpdated)&&Ke(()=>wt(Ge,z,M,ue),y)}else{let M;const{el:F,props:U}=v,{bm:z,m:ue,parent:re,root:Ge,type:Oe}=p,ut=tr(v);if(yn(p,!1),z&&Ai(z),!ut&&(M=U&&U.onVnodeBeforeMount)&&wt(M,re,v),yn(p,!0),F&&ve){const Qe=()=>{p.subTree=Qo(p),ve(F,p.subTree,p,y,null)};ut&&Oe.__asyncHydrate?Oe.__asyncHydrate(F,p,Qe):Qe()}else{Ge.ce&&Ge.ce._injectChildStyle(Oe);const Qe=p.subTree=Qo(p);m(null,Qe,g,w,p,y,S),v.el=Qe.el}if(ue&&Ke(ue,y),!ut&&(M=U&&U.onVnodeMounted)){const Qe=v;Ke(()=>wt(M,re,Qe),y)}(v.shapeFlag&256||re&&tr(re.vnode)&&re.vnode.shapeFlag&256)&&p.a&&Ke(p.a,y),p.isMounted=!0,v=g=w=null}};p.scope.on();const A=p.effect=new ec(x);p.scope.off();const T=p.update=A.run.bind(A),B=p.job=A.runIfDirty.bind(A);B.i=p,B.id=p.uid,A.scheduler=()=>aa(B),yn(p,!0),T()},ie=(p,v,g)=>{v.component=p;const w=p.vnode.props;p.vnode=v,p.next=null,Fp(p,v.props,w,g),jp(p,v.children,g),pn(),cl(p),vn()},q=(p,v,g,w,y,S,O,x,A=!1)=>{const T=p&&p.children,B=p?p.shapeFlag:0,M=v.children,{patchFlag:F,shapeFlag:U}=v;if(F>0){if(F&128){Yt(T,M,g,w,y,S,O,x,A);return}else if(F&256){Dt(T,M,g,w,y,S,O,x,A);return}}U&8?(B&16&&tt(T,y,S),M!==T&&c(g,M)):B&16?U&16?Yt(T,M,g,w,y,S,O,x,A):tt(T,y,S,!0):(B&8&&c(g,""),U&16&&mt(M,g,w,y,S,O,x,A))},Dt=(p,v,g,w,y,S,O,x,A)=>{p=p||qn,v=v||qn;const T=p.length,B=v.length,M=Math.min(T,B);let F;for(F=0;F<M;F++){const U=v[F]=A?Zt(v[F]):Tt(v[F]);m(p[F],U,g,null,y,S,O,x,A)}T>B?tt(p,y,S,!0,!1,M):mt(v,g,w,y,S,O,x,A,M)},Yt=(p,v,g,w,y,S,O,x,A)=>{let T=0;const B=v.length;let M=p.length-1,F=B-1;for(;T<=M&&T<=F;){const U=p[T],z=v[T]=A?Zt(v[T]):Tt(v[T]);if(Ir(U,z))m(U,z,g,null,y,S,O,x,A);else break;T++}for(;T<=M&&T<=F;){const U=p[M],z=v[F]=A?Zt(v[F]):Tt(v[F]);if(Ir(U,z))m(U,z,g,null,y,S,O,x,A);else break;M--,F--}if(T>M){if(T<=F){const U=F+1,z=U<B?v[U].el:w;for(;T<=F;)m(null,v[T]=A?Zt(v[T]):Tt(v[T]),g,z,y,S,O,x,A),T++}}else if(T>F)for(;T<=M;)je(p[T],y,S,!0),T++;else{const U=T,z=T,ue=new Map;for(T=z;T<=F;T++){const ze=v[T]=A?Zt(v[T]):Tt(v[T]);ze.key!=null&&ue.set(ze.key,T)}let re,Ge=0;const Oe=F-z+1;let ut=!1,Qe=0;const Sr=new Array(Oe);for(T=0;T<Oe;T++)Sr[T]=0;for(T=U;T<=M;T++){const ze=p[T];if(Ge>=Oe){je(ze,y,S,!0);continue}let Ct;if(ze.key!=null)Ct=ue.get(ze.key);else for(re=z;re<=F;re++)if(Sr[re-z]===0&&Ir(ze,v[re])){Ct=re;break}Ct===void 0?je(ze,y,S,!0):(Sr[Ct-z]=T+1,Ct>=Qe?Qe=Ct:ut=!0,m(ze,v[Ct],g,null,y,S,O,x,A),Ge++)}const il=ut?Gp(Sr):qn;for(re=il.length-1,T=Oe-1;T>=0;T--){const ze=z+T,Ct=v[ze],ol=ze+1<B?v[ze+1].el:w;Sr[T]===0?m(null,Ct,g,ol,y,S,O,x,A):ut&&(re<0||T!==il[re]?Et(Ct,g,ol,2):re--)}}},Et=(p,v,g,w,y=null)=>{const{el:S,type:O,transition:x,children:A,shapeFlag:T}=p;if(T&6){Et(p.component.subTree,v,g,w);return}if(T&128){p.suspense.move(v,g,w);return}if(T&64){O.move(p,v,g,L);return}if(O===ke){r(S,v,g);for(let M=0;M<A.length;M++)Et(A[M],v,g,w);r(p.anchor,v,g);return}if(O===Oi){N(p,v,g);return}if(w!==2&&T&1&&x)if(w===0)x.beforeEnter(S),r(S,v,g),Ke(()=>x.enter(S),y);else{const{leave:M,delayLeave:F,afterLeave:U}=x,z=()=>r(S,v,g),ue=()=>{M(S,()=>{z(),U&&U()})};F?F(S,z,ue):ue()}else r(S,v,g)},je=(p,v,g,w=!1,y=!1)=>{const{type:S,props:O,ref:x,children:A,dynamicChildren:T,shapeFlag:B,patchFlag:M,dirs:F,cacheIndex:U}=p;if(M===-2&&(y=!1),x!=null&&Bi(x,null,g,p,!0),U!=null&&(v.renderCache[U]=void 0),B&256){v.ctx.deactivate(p);return}const z=B&1&&F,ue=!tr(p);let re;if(ue&&(re=O&&O.onVnodeBeforeUnmount)&&wt(re,v,p),B&6)Ci(p.component,g,w);else{if(B&128){p.suspense.unmount(g,w);return}z&&mn(p,null,v,"beforeUnmount"),B&64?p.type.remove(p,v,g,L,w):T&&!T.hasOnce&&(S!==ke||M>0&&M&64)?tt(T,v,g,!1,!0):(S===ke&&M&384||!y&&B&16)&&tt(A,v,g),w&&Un(p)}(ue&&(re=O&&O.onVnodeUnmounted)||z)&&Ke(()=>{re&&wt(re,v,p),z&&mn(p,null,v,"unmounted")},g)},Un=p=>{const{type:v,el:g,anchor:w,transition:y}=p;if(v===ke){jn(g,w);return}if(v===Oi){D(p);return}const S=()=>{i(g),y&&!y.persisted&&y.afterLeave&&y.afterLeave()};if(p.shapeFlag&1&&y&&!y.persisted){const{leave:O,delayLeave:x}=y,A=()=>O(g,S);x?x(p.el,S,A):A()}else S()},jn=(p,v)=>{let g;for(;p!==v;)g=h(p),i(p),p=g;i(v)},Ci=(p,v,g)=>{const{bum:w,scope:y,job:S,subTree:O,um:x,m:A,a:T}=p;gl(A),gl(T),w&&Ai(w),y.stop(),S&&(S.flags|=8,je(O,p,v,g)),x&&Ke(x,v),Ke(()=>{p.isUnmounted=!0},v),v&&v.pendingBranch&&!v.isUnmounted&&p.asyncDep&&!p.asyncResolved&&p.suspenseId===v.pendingId&&(v.deps--,v.deps===0&&v.resolve())},tt=(p,v,g,w=!1,y=!1,S=0)=>{for(let O=S;O<p.length;O++)je(p[O],v,g,w,y)},E=p=>{if(p.shapeFlag&6)return E(p.component.subTree);if(p.shapeFlag&128)return p.suspense.next();const v=h(p.anchor||p.el),g=v&&v[cp];return g?h(g):v};let k=!1;const P=(p,v,g)=>{p==null?v._vnode&&je(v._vnode,null,null,!0):m(v._vnode||null,p,v,null,null,null,g),v._vnode=p,k||(k=!0,cl(),Ec(),k=!1)},L={p:m,um:je,m:Et,r:Un,mt:wr,mc:mt,pc:q,pbc:yt,n:E,o:e};let ne,ve;return{render:P,hydrate:ne,createApp:Dp(P,ne)}}function Go({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function yn({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function $p(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Vc(e,t,n=!1){const r=e.children,i=t.children;if(j(r)&&j(i))for(let o=0;o<r.length;o++){const s=r[o];let a=i[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[o]=Zt(i[o]),a.el=s.el),!n&&a.patchFlag!==-2&&Vc(s,a)),a.type===vo&&(a.el=s.el)}}function Gp(e){const t=e.slice(),n=[0];let r,i,o,s,a;const l=e.length;for(r=0;r<l;r++){const u=e[r];if(u!==0){if(i=n[n.length-1],e[i]<u){t[r]=i,n.push(r);continue}for(o=0,s=n.length-1;o<s;)a=o+s>>1,e[n[a]]<u?o=a+1:s=a;u<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}for(o=n.length,s=n[o-1];o-- >0;)n[o]=s,s=t[s];return n}function Hc(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Hc(t)}function gl(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Qp=Symbol.for("v-scx"),zp=()=>Vt(Qp);function rr(e,t,n){return $c(e,t,n)}function $c(e,t,n=ae){const{immediate:r,deep:i,flush:o,once:s}=n,a=Re({},n),l=t&&r||!t&&o!=="post";let u;if(Xr){if(o==="sync"){const d=zp();u=d.__watcherHandles||(d.__watcherHandles=[])}else if(!l){const d=()=>{};return d.stop=At,d.resume=At,d.pause=At,d}}const c=De;a.call=(d,_,m)=>Ot(d,c,_,m);let f=!1;o==="post"?a.scheduler=d=>{Ke(d,c&&c.suspense)}:o!=="sync"&&(f=!0,a.scheduler=(d,_)=>{_?d():aa(d)}),a.augmentJob=d=>{t&&(d.flags|=4),f&&(d.flags|=2,c&&(d.id=c.uid,d.i=c))};const h=sp(e,t,a);return Xr&&(u?u.push(h):l&&h()),h}function Kp(e,t,n){const r=this.proxy,i=be(e)?e.includes(".")?Gc(r,e):()=>r[e]:e.bind(r,r);let o;H(t)?o=t:(o=t.handler,n=t);const s=ci(this),a=$c(i,o.bind(r),n);return s(),a}function Gc(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}const Yp=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${st(t)}Modifiers`]||e[`${dn(t)}Modifiers`];function qp(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||ae;let i=n;const o=t.startsWith("update:"),s=o&&Yp(r,t.slice(7));s&&(s.trim&&(i=n.map(c=>be(c)?c.trim():c)),s.number&&(i=n.map(cs)));let a,l=r[a=Wo(t)]||r[a=Wo(st(t))];!l&&o&&(l=r[a=Wo(dn(t))]),l&&Ot(l,e,6,i);const u=r[a+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Ot(u,e,6,i)}}function Qc(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(i!==void 0)return i;const o=e.emits;let s={},a=!1;if(!H(e)){const l=u=>{const c=Qc(u,t,!0);c&&(a=!0,Re(s,c))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!o&&!a?(pe(e)&&r.set(e,null),null):(j(o)?o.forEach(l=>s[l]=null):Re(s,o),pe(e)&&r.set(e,s),s)}function po(e,t){return!e||!io(t)?!1:(t=t.slice(2).replace(/Once$/,""),Z(e,t[0].toLowerCase()+t.slice(1))||Z(e,dn(t))||Z(e,t))}function Qo(e){const{type:t,vnode:n,proxy:r,withProxy:i,propsOptions:[o],slots:s,attrs:a,emit:l,render:u,renderCache:c,props:f,data:h,setupState:d,ctx:_,inheritAttrs:m}=e,b=Li(e);let C,R;try{if(n.shapeFlag&4){const D=i||r,Y=D;C=Tt(u.call(Y,D,c,f,d,h,_)),R=a}else{const D=t;C=Tt(D.length>1?D(f,{attrs:a,slots:s,emit:l}):D(f,null)),R=t.props?a:Jp(a)}}catch(D){Br.length=0,fo(D,e,1),C=Ie(sn)}let N=C;if(R&&m!==!1){const D=Object.keys(R),{shapeFlag:Y}=N;D.length&&Y&7&&(o&&D.some(qs)&&(R=Xp(R,o)),N=ar(N,R,!1,!0))}return n.dirs&&(N=ar(N,null,!1,!0),N.dirs=N.dirs?N.dirs.concat(n.dirs):n.dirs),n.transition&&la(N,n.transition),C=N,Li(b),C}const Jp=e=>{let t;for(const n in e)(n==="class"||n==="style"||io(n))&&((t||(t={}))[n]=e[n]);return t},Xp=(e,t)=>{const n={};for(const r in e)(!qs(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function Zp(e,t,n){const{props:r,children:i,component:o}=e,{props:s,children:a,patchFlag:l}=t,u=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?ml(r,s,u):!!s;if(l&8){const c=t.dynamicProps;for(let f=0;f<c.length;f++){const h=c[f];if(s[h]!==r[h]&&!po(u,h))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===s?!1:r?s?ml(r,s,u):!0:!!s;return!1}function ml(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(t[o]!==e[o]&&!po(n,o))return!0}return!1}function ev({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const zc=e=>e.__isSuspense;function tv(e,t){t&&t.pendingBranch?j(e)?t.effects.push(...e):t.effects.push(e):up(e)}const ke=Symbol.for("v-fgt"),vo=Symbol.for("v-txt"),sn=Symbol.for("v-cmt"),Oi=Symbol.for("v-stc"),Br=[];let qe=null;function oe(e=!1){Br.push(qe=e?null:[])}function nv(){Br.pop(),qe=Br[Br.length-1]||null}let qr=1;function yl(e,t=!1){qr+=e,e<0&&qe&&t&&(qe.hasOnce=!0)}function Kc(e){return e.dynamicChildren=qr>0?qe||qn:null,nv(),qr>0&&qe&&qe.push(e),e}function ye(e,t,n,r,i,o){return Kc(ee(e,t,n,r,i,o,!0))}function Pn(e,t,n,r,i){return Kc(Ie(e,t,n,r,i,!0))}function Jr(e){return e?e.__v_isVNode===!0:!1}function Ir(e,t){return e.type===t.type&&e.key===t.key}const Yc=({key:e})=>e??null,Pi=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?be(e)||Le(e)||H(e)?{i:Ae,r:e,k:t,f:!!n}:e:null);function ee(e,t=null,n=null,r=0,i=null,o=e===ke?0:1,s=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Yc(t),ref:t&&Pi(t),scopeId:wc,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Ae};return a?(ha(l,n),o&128&&e.normalize(l)):n&&(l.shapeFlag|=be(n)?8:16),qr>0&&!s&&qe&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&qe.push(l),l}const Ie=rv;function rv(e,t=null,n=null,r=0,i=null,o=!1){if((!e||e===Tp)&&(e=sn),Jr(e)){const a=ar(e,t,!0);return n&&ha(a,n),qr>0&&!o&&qe&&(a.shapeFlag&6?qe[qe.indexOf(e)]=a:qe.push(a)),a.patchFlag=-2,a}if(vv(e)&&(e=e.__vccOpts),t){t=iv(t);let{class:a,style:l}=t;a&&!be(a)&&(t.class=Zs(a)),pe(l)&&(sa(l)&&!j(l)&&(l=Re({},l)),t.style=uo(l))}const s=be(e)?1:zc(e)?128:fp(e)?64:pe(e)?4:H(e)?2:0;return ee(e,t,n,r,i,s,o,!0)}function iv(e){return e?sa(e)||Dc(e)?Re({},e):e:null}function ar(e,t,n=!1,r=!1){const{props:i,ref:o,patchFlag:s,children:a,transition:l}=e,u=t?sv(i||{},t):i,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&Yc(u),ref:t&&t.ref?n&&o?j(o)?o.concat(Pi(t)):[o,Pi(t)]:Pi(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ke?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ar(e.ssContent),ssFallback:e.ssFallback&&ar(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&r&&la(c,l.clone(c)),c}function ir(e=" ",t=0){return Ie(vo,null,e,t)}function ov(e,t){const n=Ie(Oi,null,e);return n.staticCount=t,n}function Rt(e="",t=!1){return t?(oe(),Pn(sn,null,e)):Ie(sn,null,e)}function Tt(e){return e==null||typeof e=="boolean"?Ie(sn):j(e)?Ie(ke,null,e.slice()):Jr(e)?Zt(e):Ie(vo,null,String(e))}function Zt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ar(e)}function ha(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(j(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),ha(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!Dc(t)?t._ctx=Ae:i===3&&Ae&&(Ae.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else H(t)?(t={default:t,_ctx:Ae},n=32):(t=String(t),r&64?(n=16,t=[ir(t)]):n=8);e.children=t,e.shapeFlag|=n}function sv(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=Zs([t.class,r.class]));else if(i==="style")t.style=uo([t.style,r.style]);else if(io(i)){const o=t[i],s=r[i];s&&o!==s&&!(j(o)&&o.includes(s))&&(t[i]=o?[].concat(o,s):s)}else i!==""&&(t[i]=r[i])}return t}function wt(e,t,n,r=null){Ot(e,t,7,[n,r])}const av=Nc();let lv=0;function uv(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||av,o={uid:lv++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Zu(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Fc(r,i),emitsOptions:Qc(r,i),emit:null,emitted:null,propsDefaults:ae,inheritAttrs:r.inheritAttrs,ctx:ae,data:ae,props:ae,attrs:ae,slots:ae,refs:ae,setupState:ae,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=qp.bind(null,o),e.ce&&e.ce(o),o}let De=null,Ui,bs;{const e=lo(),t=(n,r)=>{let i;return(i=e[n])||(i=e[n]=[]),i.push(r),o=>{i.length>1?i.forEach(s=>s(o)):i[0](o)}};Ui=t("__VUE_INSTANCE_SETTERS__",n=>De=n),bs=t("__VUE_SSR_SETTERS__",n=>Xr=n)}const ci=e=>{const t=De;return Ui(e),e.scope.on(),()=>{e.scope.off(),Ui(t)}},bl=()=>{De&&De.scope.off(),Ui(null)};function qc(e){return e.vnode.shapeFlag&4}let Xr=!1;function cv(e,t=!1,n=!1){t&&bs(t);const{props:r,children:i}=e.vnode,o=qc(e);Lp(e,r,o,t),Up(e,i,n);const s=o?fv(e,t):void 0;return t&&bs(!1),s}function fv(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Ap);const{setup:r}=n;if(r){pn();const i=e.setupContext=r.length>1?dv(e):null,o=ci(e),s=ui(r,e,0,[e.props,i]),a=Qu(s);if(vn(),o(),(a||e.sp)&&!tr(e)&&Ic(e),a){if(s.then(bl,bl),t)return s.then(l=>{El(e,l,t)}).catch(l=>{fo(l,e,0)});e.asyncDep=s}else El(e,s,t)}else Jc(e,t)}function El(e,t,n){H(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:pe(t)&&(e.setupState=gc(t)),Jc(e,n)}let Cl;function Jc(e,t,n){const r=e.type;if(!e.render){if(!t&&Cl&&!r.render){const i=r.template||ca(e).template;if(i){const{isCustomElement:o,compilerOptions:s}=e.appContext.config,{delimiters:a,compilerOptions:l}=r,u=Re(Re({isCustomElement:o,delimiters:a},s),l);r.render=Cl(i,u)}}e.render=r.render||At}{const i=ci(e);pn();try{xp(e)}finally{vn(),i()}}}const hv={get(e,t){return Ne(e,"get",""),e[t]}};function dv(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,hv),slots:e.slots,emit:e.emit,expose:t}}function _o(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(gc(Xd(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Fr)return Fr[n](e)},has(t,n){return n in t||n in Fr}})):e.proxy}function pv(e,t=!0){return H(e)?e.displayName||e.name:e.name||t&&e.__name}function vv(e){return H(e)&&"__vccOpts"in e}const nt=(e,t)=>ip(e,t,Xr);function Xc(e,t,n){const r=arguments.length;return r===2?pe(t)&&!j(t)?Jr(t)?Ie(e,null,[t]):Ie(e,t):Ie(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Jr(n)&&(n=[n]),Ie(e,t,n))}const _v="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Es;const wl=typeof window<"u"&&window.trustedTypes;if(wl)try{Es=wl.createPolicy("vue",{createHTML:e=>e})}catch{}const Zc=Es?e=>Es.createHTML(e):e=>e,gv="http://www.w3.org/2000/svg",mv="http://www.w3.org/1998/Math/MathML",Bt=typeof document<"u"?document:null,Sl=Bt&&Bt.createElement("template"),yv={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t==="svg"?Bt.createElementNS(gv,e):t==="mathml"?Bt.createElementNS(mv,e):n?Bt.createElement(e,{is:n}):Bt.createElement(e);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>Bt.createTextNode(e),createComment:e=>Bt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Bt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,o){const s=n?n.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{Sl.innerHTML=Zc(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const a=Sl.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},bv=Symbol("_vtc");function Ev(e,t,n){const r=e[bv];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const ji=Symbol("_vod"),ef=Symbol("_vsh"),Cv={beforeMount(e,{value:t},{transition:n}){e[ji]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Rr(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),Rr(e,!0),r.enter(e)):r.leave(e,()=>{Rr(e,!1)}):Rr(e,t))},beforeUnmount(e,{value:t}){Rr(e,t)}};function Rr(e,t){e.style.display=t?e[ji]:"none",e[ef]=!t}const wv=Symbol(""),Sv=/(^|;)\s*display\s*:/;function Tv(e,t,n){const r=e.style,i=be(n);let o=!1;if(n&&!i){if(t)if(be(t))for(const s of t.split(";")){const a=s.slice(0,s.indexOf(":")).trim();n[a]==null&&Ni(r,a,"")}else for(const s in t)n[s]==null&&Ni(r,s,"");for(const s in n)s==="display"&&(o=!0),Ni(r,s,n[s])}else if(i){if(t!==n){const s=r[wv];s&&(n+=";"+s),r.cssText=n,o=Sv.test(n)}}else t&&e.removeAttribute("style");ji in e&&(e[ji]=o?r.display:"",e[ef]&&(r.display="none"))}const Tl=/\s*!important$/;function Ni(e,t,n){if(j(n))n.forEach(r=>Ni(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=Iv(e,t);Tl.test(n)?e.setProperty(dn(r),n.replace(Tl,""),"important"):e[r]=n}}const Il=["Webkit","Moz","ms"],zo={};function Iv(e,t){const n=zo[t];if(n)return n;let r=st(t);if(r!=="filter"&&r in e)return zo[t]=r;r=ao(r);for(let i=0;i<Il.length;i++){const o=Il[i]+r;if(o in e)return zo[t]=o}return t}const Rl="http://www.w3.org/1999/xlink";function Al(e,t,n,r,i,o=Pd(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Rl,t.slice(6,t.length)):e.setAttributeNS(Rl,t,n):n==null||o&&!qu(n)?e.removeAttribute(t):e.setAttribute(t,o?"":Gt(n)?String(n):n)}function xl(e,t,n,r,i){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Zc(n):n);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const a=o==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let s=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=qu(n):n==null&&a==="string"?(n="",s=!0):a==="number"&&(n=0,s=!0)}try{e[t]=n}catch{}s&&e.removeAttribute(i||t)}function zn(e,t,n,r){e.addEventListener(t,n,r)}function Rv(e,t,n,r){e.removeEventListener(t,n,r)}const Ol=Symbol("_vei");function Av(e,t,n,r,i=null){const o=e[Ol]||(e[Ol]={}),s=o[t];if(r&&s)s.value=r;else{const[a,l]=xv(t);if(r){const u=o[t]=Nv(r,i);zn(e,a,u,l)}else s&&(Rv(e,a,s,l),o[t]=void 0)}}const Pl=/(?:Once|Passive|Capture)$/;function xv(e){let t;if(Pl.test(e)){t={};let r;for(;r=e.match(Pl);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):dn(e.slice(2)),t]}let Ko=0;const Ov=Promise.resolve(),Pv=()=>Ko||(Ov.then(()=>Ko=0),Ko=Date.now());function Nv(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Ot(Mv(r,n.value),t,5,[r])};return n.value=e,n.attached=Pv(),n}function Mv(e,t){if(j(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const Nl=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,kv=(e,t,n,r,i,o)=>{const s=i==="svg";t==="class"?Ev(e,r,s):t==="style"?Tv(e,n,r):io(t)?qs(t)||Av(e,t,n,r,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Dv(e,t,r,s))?(xl(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Al(e,t,r,s,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!be(r))?xl(e,st(t),r,o,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Al(e,t,r,s))};function Dv(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&Nl(t)&&H(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Nl(t)&&be(n)?!1:t in e}const Ml=e=>{const t=e.props["onUpdate:modelValue"]||!1;return j(t)?n=>Ai(t,n):t};function Lv(e){e.target.composing=!0}function kl(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Yo=Symbol("_assign"),Fv={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e[Yo]=Ml(i);const o=r||i.props&&i.props.type==="number";zn(e,t?"change":"input",s=>{if(s.target.composing)return;let a=e.value;n&&(a=a.trim()),o&&(a=cs(a)),e[Yo](a)}),n&&zn(e,"change",()=>{e.value=e.value.trim()}),t||(zn(e,"compositionstart",Lv),zn(e,"compositionend",kl),zn(e,"change",kl))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:i,number:o}},s){if(e[Yo]=Ml(s),e.composing)return;const a=(o||e.type==="number")&&!/^0\d/.test(e.value)?cs(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||i&&e.value.trim()===l)||(e.value=l))}},Bv={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Wv=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const o=dn(i.key);if(t.some(s=>s===o||Bv[s]===o))return e(i)})},Uv=Re({patchProp:kv},yv);let Dl;function jv(){return Dl||(Dl=Vp(Uv))}const Vv=(...e)=>{const t=jv().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=$v(r);if(!i)return;const o=t._component;!H(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const s=n(i,!1,Hv(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},t};function Hv(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function $v(e){return be(e)?document.querySelector(e):e}function Gv(){return tf().__VUE_DEVTOOLS_GLOBAL_HOOK__}function tf(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const Qv=typeof Proxy=="function",zv="devtools-plugin:setup",Kv="plugin:settings:set";let Hn,Cs;function Yv(){var e;return Hn!==void 0||(typeof window<"u"&&window.performance?(Hn=!0,Cs=window.performance):typeof globalThis<"u"&&(!((e=globalThis.perf_hooks)===null||e===void 0)&&e.performance)?(Hn=!0,Cs=globalThis.perf_hooks.performance):Hn=!1),Hn}function qv(){return Yv()?Cs.now():Date.now()}class Jv{constructor(t,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=n;const r={};if(t.settings)for(const s in t.settings){const a=t.settings[s];r[s]=a.defaultValue}const i=`__vue-devtools-plugin-settings__${t.id}`;let o=Object.assign({},r);try{const s=localStorage.getItem(i),a=JSON.parse(s);Object.assign(o,a)}catch{}this.fallbacks={getSettings(){return o},setSettings(s){try{localStorage.setItem(i,JSON.stringify(s))}catch{}o=s},now(){return qv()}},n&&n.on(Kv,(s,a)=>{s===this.plugin.id&&this.fallbacks.setSettings(a)}),this.proxiedOn=new Proxy({},{get:(s,a)=>this.target?this.target.on[a]:(...l)=>{this.onQueue.push({method:a,args:l})}}),this.proxiedTarget=new Proxy({},{get:(s,a)=>this.target?this.target[a]:a==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(a)?(...l)=>(this.targetQueue.push({method:a,args:l,resolve:()=>{}}),this.fallbacks[a](...l)):(...l)=>new Promise(u=>{this.targetQueue.push({method:a,args:l,resolve:u})})})}async setRealTarget(t){this.target=t;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function Xv(e,t){const n=e,r=tf(),i=Gv(),o=Qv&&n.enableEarlyProxy;if(i&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!o))i.emit(zv,e,t);else{const s=o?new Jv(n,i):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:s}),s&&t(s.proxiedTarget)}}/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var Zv="store";function _r(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function nf(e){return e!==null&&typeof e=="object"}function e_(e){return e&&typeof e.then=="function"}function t_(e,t){return function(){return e(t)}}function rf(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}}function of(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;go(e,n,[],e._modules.root,!0),da(e,n,t)}function da(e,t,n){var r=e._state,i=e._scope;e.getters={},e._makeLocalGettersCache=Object.create(null);var o=e._wrappedGetters,s={},a={},l=Nd(!0);l.run(function(){_r(o,function(u,c){s[c]=t_(u,e),a[c]=nt(function(){return s[c]()}),Object.defineProperty(e.getters,c,{get:function(){return a[c].value},enumerable:!0})})}),e._state=li({data:t}),e._scope=l,e.strict&&s_(e),r&&n&&e._withCommit(function(){r.data=null}),i&&i.stop()}function go(e,t,n,r,i){var o=!n.length,s=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[s],e._modulesNamespaceMap[s]=r),!o&&!i){var a=pa(t,n.slice(0,-1)),l=n[n.length-1];e._withCommit(function(){a[l]=r.state})}var u=r.context=n_(e,s,n);r.forEachMutation(function(c,f){var h=s+f;r_(e,h,c,u)}),r.forEachAction(function(c,f){var h=c.root?f:s+f,d=c.handler||c;i_(e,h,d,u)}),r.forEachGetter(function(c,f){var h=s+f;o_(e,h,c,u)}),r.forEachChild(function(c,f){go(e,t,n.concat(f),c,i)})}function n_(e,t,n){var r=t==="",i={dispatch:r?e.dispatch:function(o,s,a){var l=Vi(o,s,a),u=l.payload,c=l.options,f=l.type;return(!c||!c.root)&&(f=t+f),e.dispatch(f,u)},commit:r?e.commit:function(o,s,a){var l=Vi(o,s,a),u=l.payload,c=l.options,f=l.type;(!c||!c.root)&&(f=t+f),e.commit(f,u,c)}};return Object.defineProperties(i,{getters:{get:r?function(){return e.getters}:function(){return sf(e,t)}},state:{get:function(){return pa(e.state,n)}}}),i}function sf(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach(function(i){if(i.slice(0,r)===t){var o=i.slice(r);Object.defineProperty(n,o,{get:function(){return e.getters[i]},enumerable:!0})}}),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function r_(e,t,n,r){var i=e._mutations[t]||(e._mutations[t]=[]);i.push(function(s){n.call(e,r.state,s)})}function i_(e,t,n,r){var i=e._actions[t]||(e._actions[t]=[]);i.push(function(s){var a=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},s);return e_(a)||(a=Promise.resolve(a)),e._devtoolHook?a.catch(function(l){throw e._devtoolHook.emit("vuex:error",l),l}):a})}function o_(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(o){return n(r.state,r.getters,o.state,o.getters)})}function s_(e){rr(function(){return e._state.data},function(){},{deep:!0,flush:"sync"})}function pa(e,t){return t.reduce(function(n,r){return n[r]},e)}function Vi(e,t,n){return nf(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var a_="vuex bindings",Ll="vuex:mutations",qo="vuex:actions",$n="vuex",l_=0;function u_(e,t){Xv({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[a_]},function(n){n.addTimelineLayer({id:Ll,label:"Vuex Mutations",color:Fl}),n.addTimelineLayer({id:qo,label:"Vuex Actions",color:Fl}),n.addInspector({id:$n,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===e&&r.inspectorId===$n)if(r.filter){var i=[];cf(i,t._modules.root,r.filter,""),r.rootNodes=i}else r.rootNodes=[uf(t._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===e&&r.inspectorId===$n){var i=r.nodeId;sf(t,i),r.state=h_(p_(t._modules,i),i==="root"?t.getters:t._makeLocalGettersCache,i)}}),n.on.editInspectorState(function(r){if(r.app===e&&r.inspectorId===$n){var i=r.nodeId,o=r.path;i!=="root"&&(o=i.split("/").filter(Boolean).concat(o)),t._withCommit(function(){r.set(t._state.data,o,r.state.value)})}}),t.subscribe(function(r,i){var o={};r.payload&&(o.payload=r.payload),o.state=i,n.notifyComponentUpdate(),n.sendInspectorTree($n),n.sendInspectorState($n),n.addTimelineEvent({layerId:Ll,event:{time:Date.now(),title:r.type,data:o}})}),t.subscribeAction({before:function(r,i){var o={};r.payload&&(o.payload=r.payload),r._id=l_++,r._time=Date.now(),o.state=i,n.addTimelineEvent({layerId:qo,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:o}})},after:function(r,i){var o={},s=Date.now()-r._time;o.duration={_custom:{type:"duration",display:s+"ms",tooltip:"Action duration",value:s}},r.payload&&(o.payload=r.payload),o.state=i,n.addTimelineEvent({layerId:qo,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:o}})}})})}var Fl=8702998,c_=6710886,f_=16777215,af={label:"namespaced",textColor:f_,backgroundColor:c_};function lf(e){return e&&e!=="root"?e.split("/").slice(-2,-1)[0]:"Root"}function uf(e,t){return{id:t||"root",label:lf(t),tags:e.namespaced?[af]:[],children:Object.keys(e._children).map(function(n){return uf(e._children[n],t+n+"/")})}}function cf(e,t,n,r){r.includes(n)&&e.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:t.namespaced?[af]:[]}),Object.keys(t._children).forEach(function(i){cf(e,t._children[i],n,r+i+"/")})}function h_(e,t,n){t=n==="root"?t:t[n];var r=Object.keys(t),i={state:Object.keys(e.state).map(function(s){return{key:s,editable:!0,value:e.state[s]}})};if(r.length){var o=d_(t);i.getters=Object.keys(o).map(function(s){return{key:s.endsWith("/")?lf(s):s,editable:!1,value:ws(function(){return o[s]})}})}return i}function d_(e){var t={};return Object.keys(e).forEach(function(n){var r=n.split("/");if(r.length>1){var i=t,o=r.pop();r.forEach(function(s){i[s]||(i[s]={_custom:{value:{},display:s,tooltip:"Module",abstract:!0}}),i=i[s]._custom.value}),i[o]=ws(function(){return e[n]})}else t[n]=ws(function(){return e[n]})}),t}function p_(e,t){var n=t.split("/").filter(function(r){return r});return n.reduce(function(r,i,o){var s=r[i];if(!s)throw new Error('Missing module "'+i+'" for path "'+t+'".');return o===n.length-1?s:s._children},t==="root"?e:e.root._children)}function ws(e){try{return e()}catch(t){return t}}var _t=function(t,n){this.runtime=n,this._children=Object.create(null),this._rawModule=t;var r=t.state;this.state=(typeof r=="function"?r():r)||{}},ff={namespaced:{configurable:!0}};ff.namespaced.get=function(){return!!this._rawModule.namespaced};_t.prototype.addChild=function(t,n){this._children[t]=n};_t.prototype.removeChild=function(t){delete this._children[t]};_t.prototype.getChild=function(t){return this._children[t]};_t.prototype.hasChild=function(t){return t in this._children};_t.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};_t.prototype.forEachChild=function(t){_r(this._children,t)};_t.prototype.forEachGetter=function(t){this._rawModule.getters&&_r(this._rawModule.getters,t)};_t.prototype.forEachAction=function(t){this._rawModule.actions&&_r(this._rawModule.actions,t)};_t.prototype.forEachMutation=function(t){this._rawModule.mutations&&_r(this._rawModule.mutations,t)};Object.defineProperties(_t.prototype,ff);var Dn=function(t){this.register([],t,!1)};Dn.prototype.get=function(t){return t.reduce(function(n,r){return n.getChild(r)},this.root)};Dn.prototype.getNamespace=function(t){var n=this.root;return t.reduce(function(r,i){return n=n.getChild(i),r+(n.namespaced?i+"/":"")},"")};Dn.prototype.update=function(t){hf([],this.root,t)};Dn.prototype.register=function(t,n,r){var i=this;r===void 0&&(r=!0);var o=new _t(n,r);if(t.length===0)this.root=o;else{var s=this.get(t.slice(0,-1));s.addChild(t[t.length-1],o)}n.modules&&_r(n.modules,function(a,l){i.register(t.concat(l),a,r)})};Dn.prototype.unregister=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1],i=n.getChild(r);i&&i.runtime&&n.removeChild(r)};Dn.prototype.isRegistered=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1];return n?n.hasChild(r):!1};function hf(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return;hf(e.concat(r),t.getChild(r),n.modules[r])}}function v_(e){return new $e(e)}var $e=function(t){var n=this;t===void 0&&(t={});var r=t.plugins;r===void 0&&(r=[]);var i=t.strict;i===void 0&&(i=!1);var o=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Dn(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=o;var s=this,a=this,l=a.dispatch,u=a.commit;this.dispatch=function(h,d){return l.call(s,h,d)},this.commit=function(h,d,_){return u.call(s,h,d,_)},this.strict=i;var c=this._modules.root.state;go(this,c,[],this._modules.root),da(this,c),r.forEach(function(f){return f(n)})},va={state:{configurable:!0}};$e.prototype.install=function(t,n){t.provide(n||Zv,this),t.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&u_(t,this)};va.state.get=function(){return this._state.data};va.state.set=function(e){};$e.prototype.commit=function(t,n,r){var i=this,o=Vi(t,n,r),s=o.type,a=o.payload,l={type:s,payload:a},u=this._mutations[s];u&&(this._withCommit(function(){u.forEach(function(f){f(a)})}),this._subscribers.slice().forEach(function(c){return c(l,i.state)}))};$e.prototype.dispatch=function(t,n){var r=this,i=Vi(t,n),o=i.type,s=i.payload,a={type:o,payload:s},l=this._actions[o];if(l){try{this._actionSubscribers.slice().filter(function(c){return c.before}).forEach(function(c){return c.before(a,r.state)})}catch{}var u=l.length>1?Promise.all(l.map(function(c){return c(s)})):l[0](s);return new Promise(function(c,f){u.then(function(h){try{r._actionSubscribers.filter(function(d){return d.after}).forEach(function(d){return d.after(a,r.state)})}catch{}c(h)},function(h){try{r._actionSubscribers.filter(function(d){return d.error}).forEach(function(d){return d.error(a,r.state,h)})}catch{}f(h)})})}};$e.prototype.subscribe=function(t,n){return rf(t,this._subscribers,n)};$e.prototype.subscribeAction=function(t,n){var r=typeof t=="function"?{before:t}:t;return rf(r,this._actionSubscribers,n)};$e.prototype.watch=function(t,n,r){var i=this;return rr(function(){return t(i.state,i.getters)},n,Object.assign({},r))};$e.prototype.replaceState=function(t){var n=this;this._withCommit(function(){n._state.data=t})};$e.prototype.registerModule=function(t,n,r){r===void 0&&(r={}),typeof t=="string"&&(t=[t]),this._modules.register(t,n),go(this,this.state,t,this._modules.get(t),r.preserveState),da(this,this.state)};$e.prototype.unregisterModule=function(t){var n=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var r=pa(n.state,t.slice(0,-1));delete r[t[t.length-1]]}),of(this)};$e.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};$e.prototype.hotUpdate=function(t){this._modules.update(t),of(this,!0)};$e.prototype._withCommit=function(t){var n=this._committing;this._committing=!0,t(),this._committing=n};Object.defineProperties($e.prototype,va);var __=y_(function(e,t){var n={};return g_(t).forEach(function(r){var i=r.key,o=r.val;n[i]=function(){var a=this.$store.state,l=this.$store.getters;if(e){var u=b_(this.$store,"mapState",e);if(!u)return;a=u.context.state,l=u.context.getters}return typeof o=="function"?o.call(this,a,l):a[o]},n[i].vuex=!0}),n});function g_(e){return m_(e)?Array.isArray(e)?e.map(function(t){return{key:t,val:t}}):Object.keys(e).map(function(t){return{key:t,val:e[t]}}):[]}function m_(e){return Array.isArray(e)||nf(e)}function y_(e){return function(t,n){return typeof t!="string"?(n=t,t=""):t.charAt(t.length-1)!=="/"&&(t+="/"),e(t,n)}}function b_(e,t,n){var r=e._modulesNamespaceMap[n];return r}class E_{getAllFilialen(){this.abstractError()}addMededeling(){this.abstractError()}abstractError(){throw new Error("This class is abstract")}}var Ss=function(e,t){return Ss=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Ss(e,t)};function ge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ss(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var an=function(){return an=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},an.apply(this,arguments)};function df(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(f){s(f)}}function l(c){try{u(r.throw(c))}catch(f){s(f)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})}function pf(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Je(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function We(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function ln(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vf={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var I=function(e,t){if(!e)throw gr(t)},gr=function(e){return new Error("Firebase Database ("+vf.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _f=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},C_=function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){var o=e[n++],s=e[n++],a=e[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{var o=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")},_a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],s=i+1<e.length,a=s?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=o>>2,f=(o&3)<<4|a>>4,h=(a&15)<<2|u>>6,d=u&63;l||(d=64,s||(h=64)),r.push(n[c],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(_f(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):C_(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],s=i<e.length,a=s?n[e.charAt(i)]:0;++i;var l=i<e.length,u=l?n[e.charAt(i)]:64;++i;var c=i<e.length,f=c?n[e.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw Error();var h=o<<2|a>>4;if(r.push(h),u!==64){var d=a<<4&240|u>>2;if(r.push(d),f!==64){var _=u<<6&192|f;r.push(_)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},gf=function(e){var t=_f(e);return _a.encodeByteArray(t,!0)},Bl=function(e){return gf(e).replace(/\./g,"")},Wl=function(e){try{return _a.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mf(e){return Zr(void 0,e)}function Zr(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)!t.hasOwnProperty(r)||!w_(r)||(e[r]=Zr(e[r],t[r]));return e}function w_(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){t.resolve=n,t.reject=r})}return e.prototype.wrapCallback=function(t){var n=this;return function(r,i){r?n.reject(r):n.resolve(i),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(r):t(r,i))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var s=an({iss:"https://securetoken.google.com/"+r,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[Bl(JSON.stringify(n)),Bl(JSON.stringify(s)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yf(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(T_())}function I_(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function R_(){return typeof self=="object"&&self.self===self}function A_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bf(){return vf.NODE_ADMIN===!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var x_="FirebaseError",O_=function(e){ge(t,e);function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name=x_,Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,ga.prototype.create),o}return t}(Error),ga=function(){function e(t,n,r){this.service=t,this.serviceName=n,this.errors=r}return e.prototype.create=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n[0]||{},o=this.service+"/"+t,s=this.errors[t],a=s?P_(s,i):"Error",l=this.serviceName+": "+a+" ("+o+").",u=new O_(o,l,i);return u},e}();function P_(e,t){return e.replace(N_,function(n,r){var i=t[r];return i!=null?String(i):"<"+r+"?>"})}var N_=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(e){return JSON.parse(e)}function Ee(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ef=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=ei(Wl(o[0])||""),n=ei(Wl(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},M_=function(e){var t=Ef(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},k_=function(e){var t=Ef(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Nn(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Ts(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Hi(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(e){for(var t=[],n=function(l,u){Array.isArray(u)?u.forEach(function(c){t.push(encodeURIComponent(l)+"="+encodeURIComponent(c))}):t.push(encodeURIComponent(l)+"="+encodeURIComponent(u))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r],s=o[0],a=o[1];n(s,a)}return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var L_=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,n){n||(n=0);var r=this.W_;if(typeof t=="string")for(var i=0;i<16;i++)r[i]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(var i=0;i<16;i++)r[i]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(var i=16;i<80;i++){var o=r[i-3]^r[i-8]^r[i-14]^r[i-16];r[i]=(o<<1|o>>>31)&4294967295}for(var s=this.chain_[0],a=this.chain_[1],l=this.chain_[2],u=this.chain_[3],c=this.chain_[4],f,h,i=0;i<80;i++){i<40?i<20?(f=u^a&(l^u),h=1518500249):(f=a^l^u,h=1859775393):i<60?(f=a&l|u&(a|l),h=2400959708):(f=a^l^u,h=3395469782);var o=(s<<5|s>>>27)+f+c+h+r[i]&4294967295;c=u,u=l,l=(a<<30|a>>>2)&4294967295,a=s,s=o}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295},e.prototype.update=function(t,n){if(t!=null){n===void 0&&(n=t.length);for(var r=n-this.blockSize,i=0,o=this.buf_,s=this.inbuf_;i<n;){if(s===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(o[s]=t.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=t[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}},e.prototype.digest=function(){var t=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);for(var i=0,r=0;r<5;r++)for(var o=24;o>=0;o-=8)t[i]=this.chain_[r]>>o&255,++i;return t},e}();function F_(e,t){var n=new B_(e,t);return n.subscribe.bind(n)}var B_=function(){function e(t,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(i){r.error(i)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,r){var i=this,o;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");W_(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:r},o.next===void 0&&(o.next=Jo),o.error===void 0&&(o.error=Jo),o.complete===void 0&&(o.complete=Jo);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?o.error(i.finalError):o.complete()}catch{}}),this.observers.push(o),s},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[t]!==void 0)try{n(r.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function W_(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&typeof e[i]=="function")return!0}return!1}function Jo(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var W=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=n===0?"none":"no more than "+n),i){var o=e+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(o)}};function He(e,t){return e+" failed: "+t+" argument "}function Se(e,t,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(He(e,t)+"must be a valid function.")}function Ul(e,t,n,r){if(n&&(typeof n!="object"||n===null))throw new Error(He(e,t)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var U_=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,I(r<e.length,"Surrogate pair missing trail surrogate.");var s=e.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},mo=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(e){return e&&e._delegate?e._delegate:e}var fi=function(){function e(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cf=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var r=new Ve;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,r;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(V_(t))try{this.getOrInitializeService({instanceIdentifier:Cn})}catch{}try{for(var i=Je(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=We(o.value,2),a=s[0],l=s[1],u=this.normalizeInstanceIdentifier(a);try{var c=this.getOrInitializeService({instanceIdentifier:u});l.resolve(c)}catch{}}}catch(f){n={error:f}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=Cn),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return df(this,void 0,void 0,function(){var t;return pf(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(ln(ln([],We(t.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),We(t.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=Cn),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=Cn),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var n,r;t===void 0&&(t={});var i=t.options,o=i===void 0?{}:i,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:s,options:o});try{for(var l=Je(this.instancesDeferred.entries()),u=l.next();!u.done;u=l.next()){var c=We(u.value,2),f=c[0],h=c[1],d=this.normalizeInstanceIdentifier(f);s===d&&h.resolve(a)}}catch(_){n={error:_}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return a},e.prototype.onInit=function(t,n){var r,i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);var s=this.instances.get(i);return s&&t(s,i),function(){o.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var r,i,o=this.onInitCallbacks.get(n);if(o)try{for(var s=Je(o),a=s.next();!a.done;a=s.next()){var l=a.value;try{l(t,n)}catch{}}}catch(u){r={error:u}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,r=t.options,i=r===void 0?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:j_(n),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch{}return o||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=Cn),this.component?this.component.multipleInstances?t:Cn:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function j_(e){return e===Cn?void 0:e}function V_(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wf=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new Cf(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function ft(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bn,ma=[],se;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(se||(se={}));var Sf={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},H_=se.INFO,$_=(bn={},bn[se.DEBUG]="log",bn[se.VERBOSE]="log",bn[se.INFO]="info",bn[se.WARN]="warn",bn[se.ERROR]="error",bn),G_=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=new Date().toISOString(),o=$_[t];if(o)console[o].apply(console,ft(["["+i+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},Tf=function(){function e(t){this.name=t,this._logLevel=H_,this._logHandler=G_,this._userLogHandler=null,ma.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in se))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?Sf[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ft([this,se.DEBUG],t)),this._logHandler.apply(this,ft([this,se.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ft([this,se.VERBOSE],t)),this._logHandler.apply(this,ft([this,se.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ft([this,se.INFO],t)),this._logHandler.apply(this,ft([this,se.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ft([this,se.WARN],t)),this._logHandler.apply(this,ft([this,se.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ft([this,se.ERROR],t)),this._logHandler.apply(this,ft([this,se.ERROR],t))},e}();function Q_(e){ma.forEach(function(t){t.setLogLevel(e)})}function z_(e,t){for(var n=function(s){var a=null;t&&t.level&&(a=Sf[t.level]),e===null?s.userLogHandler=null:s.userLogHandler=function(l,u){for(var c=[],f=2;f<arguments.length;f++)c[f-2]=arguments[f];var h=c.map(function(d){if(d==null)return null;if(typeof d=="string")return d;if(typeof d=="number"||typeof d=="boolean")return d.toString();if(d instanceof Error)return d.message;try{return JSON.stringify(d)}catch{return null}}).filter(function(d){return d}).join(" ");u>=(a??l.logLevel)&&e({level:se[u].toLowerCase(),message:h,args:c,type:l.name})}},r=0,i=ma;r<i.length;r++){var o=i[r];n(o)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt,K_=(qt={},qt["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",qt["bad-app-name"]="Illegal App name: '{$appName}",qt["duplicate-app"]="Firebase App named '{$appName}' already exists",qt["app-deleted"]="Firebase App named '{$appName}' already deleted",qt["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",qt["invalid-log-argument"]="First argument to `onLog` must be null or a function.",qt),Kn=new ga("app","Firebase",K_),If="@firebase/app",Y_="0.6.30",q_="@firebase/analytics",J_="@firebase/app-check",X_="@firebase/auth",Z_="@firebase/database",eg="@firebase/functions",tg="@firebase/installations",ng="@firebase/messaging",rg="@firebase/performance",ig="@firebase/remote-config",og="@firebase/storage",sg="@firebase/firestore",ag="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe,$i="[DEFAULT]",lg=(Pe={},Pe[If]="fire-core",Pe[q_]="fire-analytics",Pe[J_]="fire-app-check",Pe[X_]="fire-auth",Pe[Z_]="fire-rtdb",Pe[eg]="fire-fn",Pe[tg]="fire-iid",Pe[ng]="fire-fcm",Pe[rg]="fire-perf",Pe[ig]="fire-rc",Pe[og]="fire-gcs",Pe[sg]="fire-fst",Pe["fire-js"]="fire-js",Pe[ag]="fire-js-all",Pe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lr=new Tf("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mi=function(){function e(t,n,r){var i=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=mf(t),this.container=new wf(n.name),this._addComponent(new fi("app",function(){return i},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(o){return i._addComponent(o)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var r;n===void 0&&(n=$i),this.checkDestroyed_();var i=this.container.getProvider(t);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=$i),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){lr.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Kn.create("app-deleted",{appName:this.name_})},e}();Mi.prototype.name&&Mi.prototype.options||Mi.prototype.delete||console.log("dc");var ug="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(e){var t={},n=new Map,r={__esModule:!0,initializeApp:s,app:o,registerVersion:u,setLogLevel:Q_,onLog:c,apps:null,SDK_VERSION:ug,INTERNAL:{registerComponent:l,removeApp:i,components:n,useAsService:f}};r.default=r,Object.defineProperty(r,"apps",{get:a});function i(h){delete t[h]}function o(h){if(h=h||$i,!Xe(t,h))throw Kn.create("no-app",{appName:h});return t[h]}o.App=e;function s(h,d){if(d===void 0&&(d={}),typeof d!="object"||d===null){var _=d;d={name:_}}var m=d;m.name===void 0&&(m.name=$i);var b=m.name;if(typeof b!="string"||!b)throw Kn.create("bad-app-name",{appName:String(b)});if(Xe(t,b))throw Kn.create("duplicate-app",{appName:b});var C=new e(h,m,r);return t[b]=C,C}function a(){return Object.keys(t).map(function(h){return t[h]})}function l(h){var d=h.name;if(n.has(d))return lr.debug("There were multiple attempts to register component "+d+"."),h.type==="PUBLIC"?r[d]:null;if(n.set(d,h),h.type==="PUBLIC"){var _=function(R){if(R===void 0&&(R=o()),typeof R[d]!="function")throw Kn.create("invalid-app-argument",{appName:d});return R[d]()};h.serviceProps!==void 0&&Zr(_,h.serviceProps),r[d]=_,e.prototype[d]=function(){for(var R=[],N=0;N<arguments.length;N++)R[N]=arguments[N];var D=this._getService.bind(this,d);return D.apply(this,h.multipleInstances?R:[])}}for(var m=0,b=Object.keys(t);m<b.length;m++){var C=b[m];t[C]._addComponent(h)}return h.type==="PUBLIC"?r[d]:null}function u(h,d,_){var m,b=(m=lg[h])!==null&&m!==void 0?m:h;_&&(b+="-"+_);var C=b.match(/\s|\//),R=d.match(/\s|\//);if(C||R){var N=['Unable to register library "'+b+'" with version "'+d+'":'];C&&N.push('library name "'+b+'" contains illegal characters (whitespace or "/")'),C&&R&&N.push("and"),R&&N.push('version name "'+d+'" contains illegal characters (whitespace or "/")'),lr.warn(N.join(" "));return}l(new fi(b+"-version",function(){return{library:b,version:d}},"VERSION"))}function c(h,d){if(h!==null&&typeof h!="function")throw Kn.create("invalid-log-argument");z_(h,d)}function f(h,d){if(d==="serverAuth")return null;var _=d;return _}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(){var e=cg(Mi);e.INTERNAL=an(an({},e.INTERNAL),{createFirebaseNamespace:Rf,extendNamespace:t,createSubscribe:F_,ErrorFactory:ga,deepExtend:Zr});function t(n){Zr(e,n)}return e}var ya=Rf();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fg=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(hg(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},e}();function hg(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(e,t){e.INTERNAL.registerComponent(new fi("platform-logger",function(n){return new fg(n)},"PRIVATE")),e.registerVersion(If,Y_,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(R_()&&self.firebase!==void 0){lr.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var jl=self.firebase.SDK_VERSION;jl&&jl.indexOf("LITE")>=0&&lr.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var pg=ya.initializeApp;ya.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return I_()&&lr.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),pg.apply(void 0,e)};var mr=ya;dg(mr);var vg="firebase",Af="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mr.registerVersion(vg,Af,"app");mr.SDK_VERSION=Af;var _g={},gg="@firebase/database",mg="0.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xf="";function Of(e){xf=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yg=function(){function e(t){this.domStorage_=t,this.prefix_="firebase:"}return e.prototype.set=function(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Ee(n))},e.prototype.get=function(t){var n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:ei(n)},e.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},e.prototype.prefixedName_=function(t){return this.prefix_+t},e.prototype.toString=function(){return this.domStorage_.toString()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bg=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n},e.prototype.get=function(t){return Xe(this.cache_,t)?this.cache_[t]:null},e.prototype.remove=function(t){delete this.cache_[t]},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pf=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new yg(t)}}catch{}return new bg},Tn=Pf("localStorage"),Is=Pf("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var or=new Tf("@firebase/database"),Nf=function(){var e=1;return function(){return e++}}(),Mf=function(e){var t=U_(e),n=new L_;n.update(t);var r=n.digest();return _a.encodeByteArray(r)},hi=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++){var i=e[r];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?n+=hi.apply(null,i):typeof i=="object"?n+=Ee(i):n+=i,n+=" "}return n},An=null,Vl=!0,kf=function(e,t){I(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(or.logLevel=se.VERBOSE,An=or.log.bind(or),t&&Is.set("logging_enabled",!0)):typeof e=="function"?An=e:(An=null,Is.remove("logging_enabled"))},Te=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(Vl===!0&&(Vl=!1,An===null&&Is.get("logging_enabled")===!0&&kf(!0)),An){var n=hi.apply(null,e);An(n)}},di=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Te.apply(void 0,ln([e],We(t)))}},Rs=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+hi.apply(void 0,ln([],We(e)));or.error(n)},Pt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+hi.apply(void 0,ln([],We(e)));throw or.error(n),new Error(n)},xe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+hi.apply(void 0,ln([],We(e)));or.warn(n)},Eg=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&xe("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},yo=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Cg=function(e){if(document.readyState==="complete")e();else{var t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},$t="[MIN_NAME]",Nt="[MAX_NAME]",Ln=function(e,t){if(e===t)return 0;if(e===$t||t===Nt)return-1;if(t===$t||e===Nt)return 1;var n=Gi(e),r=Gi(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1},wg=function(e,t){return e===t?0:e<t?-1:1},Ar=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Ee(t))},ba=function(e){if(typeof e!="object"||e===null)return Ee(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",i=0;i<t.length;i++)i!==0&&(r+=","),r+=Ee(t[i]),r+=":",r+=ba(e[t[i]]);return r+="}",r},Df=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Ce(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var Lf=function(e){I(!yo(e),"Invalid JSON number");var t=11,n=52,r=(1<<t-1)-1,i,o,s,a,l;e===0?(o=0,s=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),r),o=a+r,s=Math.round(e*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(e/Math.pow(2,1-r-n))));var u=[];for(l=n;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);for(l=t;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);u.push(i?1:0),u.reverse();var c=u.join(""),f="";for(l=0;l<64;l+=8){var h=parseInt(c.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),f=f+h}return f.toLowerCase()},Sg=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Tg=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Ig(e,t){var n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}var Rg=new RegExp("^-?(0*)\\d{1,10}$"),Ff=-2147483648,Ea=2147483647,Gi=function(e){if(Rg.test(e)){var t=Number(e);if(t>=Ff&&t<=Ea)return t}return null},yr=function(e){try{e()}catch(t){setTimeout(function(){var n=t.stack||"";throw xe("Exception was thrown by user callback.",n),t},Math.floor(0))}},Ag=function(){var e=typeof window=="object"&&window.navigator&&window.navigator.userAgent||"";return e.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Wr=function(e,t){var n=setTimeout(e,t);return typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xg=function(){function e(t,n){var r=this;this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(function(i){return r.appCheck=i})}return e.prototype.getToken=function(t){var n=this;return this.appCheck?this.appCheck.getToken(t):new Promise(function(r,i){setTimeout(function(){n.appCheck?n.getToken(t).then(r,i):r(null)},0)})},e.prototype.addTokenChangeListener=function(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(function(r){return r.addTokenListener(t)})},e.prototype.notifyForInvalidToken=function(){xe('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Og=function(){function e(t,n,r){var i=this;this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(function(o){return i.auth_=o})}return e.prototype.getToken=function(t){var n=this;return this.auth_?this.auth_.getToken(t).catch(function(r){return r&&r.code==="auth/token-not-initialized"?(Te("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)}):new Promise(function(r,i){setTimeout(function(){n.auth_?n.getToken(t).then(r,i):r(null)},0)})},e.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(function(n){return n.addAuthTokenListener(t)})},e.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then(function(n){return n.removeAuthTokenListener(t)})},e.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',xe(t)},e}(),Ur=function(){function e(t){this.accessToken=t}return e.prototype.getToken=function(t){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(t){t(this.accessToken)},e.prototype.removeTokenChangeListener=function(t){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ca="5",Bf="v",Wf="s",Uf="r",jf="f",Vf=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Hf="ls",Pg="p",As="ac",$f="websocket",Gf="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wa=function(){function e(t,n,r,i,o,s,a){o===void 0&&(o=!1),s===void 0&&(s=""),a===void 0&&(a=!1),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Tn.get("host:"+t)||this._host}return e.prototype.isCacheableHost=function(){return this.internalHost.substr(0,2)==="s-"},e.prototype.isCustomHost=function(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Tn.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},e.prototype.toURLString=function(){var t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+t+this.host+"/"+n},e}();function Ng(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function Qf(e,t,n){I(typeof t=="string","typeof type must == string"),I(typeof n=="object","typeof params must == object");var r;if(t===$f)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===Gf)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);Ng(e)&&(n.ns=e.namespace);var i=[];return Ce(n,function(o,s){i.push(o+"="+s)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mg=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(t,n){n===void 0&&(n=1),Xe(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n},e.prototype.get=function(){return mf(this.counters_)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xo={},Zo={};function Sa(e){var t=e.toString();return Xo[t]||(Xo[t]=new Mg),Xo[t]}function kg(e,t){var n=e.toString();return Zo[n]||(Zo[n]=t()),Zo[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dg=function(){function e(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(t,n){var r=this;this.pendingResponses[t]=n;for(var i=function(){var a=o.pendingResponses[o.currentResponseNum];delete o.pendingResponses[o.currentResponseNum];for(var l=function(c){a[c]&&yr(function(){r.onMessage_(a[c])})},u=0;u<a.length;++u)l(u);if(o.currentResponseNum===o.closeAfterResponse)return o.onClose&&(o.onClose(),o.onClose=null),"break";o.currentResponseNum++},o=this;this.pendingResponses[this.currentResponseNum];){var s=i();if(s==="break")break}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hl="start",Lg="close",Fg="pLPCommand",Bg="pRTLPCB",zf="id",Kf="pw",Yf="ser",Wg="cb",Ug="seg",jg="ts",Vg="d",Hg="dframe",qf=1870,Jf=30,$g=qf-Jf,Gg=25e3,Qg=3e4,Ta=function(){function e(t,n,r,i,o,s,a){var l=this;this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=di(t),this.stats_=Sa(n),this.urlFn=function(u){return l.appCheckToken&&(u[As]=l.appCheckToken),Qf(n,Gf,u)}}return e.prototype.open=function(t,n){var r=this;this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Dg(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){r.log_("Timed out trying to connect."),r.onClosed_(),r.connectTimeoutTimer_=null},Math.floor(Qg)),Cg(function(){if(!r.isClosed_){r.scriptTagHolder=new zg(function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];var l=We(s,5),u=l[0],c=l[1],f=l[2];if(l[3],l[4],r.incrementIncomingBytes_(s),!!r.scriptTagHolder)if(r.connectTimeoutTimer_&&(clearTimeout(r.connectTimeoutTimer_),r.connectTimeoutTimer_=null),r.everConnected_=!0,u===Hl)r.id=c,r.password=f;else if(u===Lg)c?(r.scriptTagHolder.sendNewPolls=!1,r.myPacketOrderer.closeAfter(c,function(){r.onClosed_()})):r.onClosed_();else throw new Error("Unrecognized command received: "+u)},function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];var l=We(s,2),u=l[0],c=l[1];r.incrementIncomingBytes_(s),r.myPacketOrderer.handleResponse(u,c)},function(){r.onClosed_()},r.urlFn);var i={};i[Hl]="t",i[Yf]=Math.floor(Math.random()*1e8),r.scriptTagHolder.uniqueCallbackIdentifier&&(i[Wg]=r.scriptTagHolder.uniqueCallbackIdentifier),i[Bf]=Ca,r.transportSessionId&&(i[Wf]=r.transportSessionId),r.lastSessionId&&(i[Hf]=r.lastSessionId),r.applicationId&&(i[Pg]=r.applicationId),r.appCheckToken&&(i[As]=r.appCheckToken),typeof location<"u"&&location.hostname&&Vf.test(location.hostname)&&(i[Uf]=jf);var o=r.urlFn(i);r.log_("Connecting via long-poll to "+o),r.scriptTagHolder.addTag(o,function(){})}})},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return e.forceAllow_?!0:!e.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Sg()&&!Tg()},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(t){var n=Ee(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);for(var r=gf(n),i=Df(r,$g),o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(t,n){this.myDisconnFrame=document.createElement("iframe");var r={};r[Hg]="t",r[zf]=t,r[Kf]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},e.prototype.incrementIncomingBytes_=function(t){var n=Ee(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)},e}(),zg=function(){function e(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Nf(),window[Fg+this.uniqueCallbackIdentifier]=t,window[Bg+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var o="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"){var s=document.domain;o='<script>document.domain="'+s+'";<\/script>'}var a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(l){Te("frame writing exception"),l.stack&&Te(l.stack),Te(l)}}}return e.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{var n=t.contentWindow.document;n||Te("No IE domain setting required")}catch{var r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},e.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){t.myIFrame!==null&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0)));var n=this.onDisconnect;n&&(this.onDisconnect=null,n())},e.prototype.startLongPoll=function(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t[zf]=this.myID,t[Kf]=this.myPW,t[Yf]=this.currentSerial;for(var n=this.urlFn(t),r="",i=0;this.pendingSegs.length>0;){var o=this.pendingSegs[0];if(o.d.length+Jf+r.length<=qf){var s=this.pendingSegs.shift();r=r+"&"+Ug+i+"="+s.seg+"&"+jg+i+"="+s.ts+"&"+Vg+i+"="+s.d,i++}else break}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1},e.prototype.enqueueSegment=function(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(t,n){var r=this;this.outstandingRequests.add(n);var i=function(){r.outstandingRequests.delete(n),r.newRequest_()},o=setTimeout(i,Math.floor(Gg)),s=function(){clearTimeout(o),i()};this.addTag(t,s)},e.prototype.addTag=function(t,n){var r=this;setTimeout(function(){try{if(!r.sendNewPolls)return;var i=r.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){var o=i.readyState;(!o||o==="loaded"||o==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=function(){Te("Long-poll script failed to load: "+t),r.sendNewPolls=!1,r.close()},r.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kg=16384,Yg=45e3,Qi=null;typeof MozWebSocket<"u"?Qi=MozWebSocket:typeof WebSocket<"u"&&(Qi=WebSocket);var Sn=function(){function e(t,n,r,i,o,s,a){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=di(this.connId),this.stats_=Sa(n),this.connURL=e.connectionURL_(n,s,a,i),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(t,n,r,i){var o={};return o[Bf]=Ca,typeof location<"u"&&location.hostname&&Vf.test(location.hostname)&&(o[Uf]=jf),n&&(o[Wf]=n),r&&(o[Hf]=r),i&&(o[As]=i),Qf(t,$f,o)},e.prototype.open=function(t,n){var r=this;this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Tn.set("previous_websocket_failure",!0);try{var i,o,s,a;if(!bf()){var o={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new Qi(this.connURL,[],o)}}catch(u){this.log_("Error instantiating WebSocket.");var l=u.message||u.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(u){r.handleIncomingFrame(u)},this.mySock.onerror=function(u){r.log_("WebSocket error.  Closing connection.");var c=u.message||u.data;c&&r.log_(c),r.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if(typeof navigator<"u"&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&Qi!==null&&!e.forceDisallow_},e.previouslyFailed=function(){return Tn.isInMemoryStorage||Tn.get("previous_websocket_failure")===!0},e.prototype.markConnectionHealthy=function(){Tn.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var n=this.frames.join("");this.frames=null;var r=ei(n);this.onMessage(r)}},e.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},e.prototype.extractFrameCount_=function(t){if(I(this.frames===null,"We already have a frame buffer"),t.length<=6){var n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t},e.prototype.handleIncomingFrame=function(t){if(this.mySock!==null){var n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{var r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}},e.prototype.send=function(t){this.resetKeepAlive();var n=Ee(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);var r=Df(n,Kg);r.length>1&&this.sendString_(String(r.length));for(var i=0;i<r.length;i++)this.sendString_(r[i])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(Yg))},e.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qg=function(){function e(t){this.initTransports_(t)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[Ta,Sn]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=Sn&&Sn.isAvailable(),o=i&&!Sn.previouslyFailed();if(t.webSocketOnly&&(i||xe("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Sn];else{var s=this.transports_=[];try{for(var a=Je(e.ALL_TRANSPORTS),l=a.next();!l.done;l=a.next()){var u=l.value;u&&u.isAvailable()&&s.push(u)}}catch(c){n={error:c}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jg=6e4,Xg=5e3,Zg=10*1024,em=100*1024,es="t",$l="d",tm="s",Gl="r",nm="e",Ql="o",zl="a",Kl="n",Yl="p",rm="h",Xf=function(){function e(t,n,r,i,o,s,a,l,u,c){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=di("c:"+this.id+":"),this.transportManager_=new qg(n),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var t=this,n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(r,i)},Math.floor(0));var o=n.healthyTimeout||0;o>0&&(this.healthyTimeout_=Wr(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>em?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>Zg?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(o)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(t){var n=this;return function(r){t===n.conn_?n.onConnectionLost_(r):t===n.secondaryConn_?(n.log_("Secondary connection lost."),n.onSecondaryConnectionLost_()):n.log_("closing an old connection")}},e.prototype.connReceiver_=function(t){var n=this;return function(r){n.state_!==2&&(t===n.rx_?n.onPrimaryMessageReceived_(r):t===n.secondaryConn_?n.onSecondaryMessageReceived_(r):n.log_("message on old connection"))}},e.prototype.sendRequest=function(t){var n={t:"d",d:t};this.sendData_(n)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(t){if(es in t){var n=t[es];n===zl?this.upgradeIfSecondaryHealthy_():n===Gl?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Ql&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(t){var n=Ar("t",t),r=Ar("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Yl,d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:zl,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Kl,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(t){var n=Ar("t",t),r=Ar("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)},e.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(t){var n=Ar(es,t);if($l in t){var r=t[$l];if(n===rm)this.onHandshake_(r);else if(n===Kl){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===tm?this.onConnectionShutdown_(r):n===Gl?this.onReset_(r):n===nm?Rs("Server Error: "+r):n===Ql?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Rs("Unknown control packet command: "+n)}},e.prototype.onHandshake_=function(t){var n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Ca!==r&&xe("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},e.prototype.startUpgrade_=function(t){var n=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,i),Wr(function(){n.secondaryConn_&&(n.log_("Timed out trying to upgrade."),n.secondaryConn_.close())},Math.floor(Jg))},e.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(t,n){var r=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Wr(function(){r.sendPingOnPrimaryIfNecessary_()},Math.floor(Xg))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Yl,d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()},e.prototype.onConnectionLost_=function(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Tn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()},e.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)},e.prototype.close=function(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zf=function(){function e(){}return e.prototype.put=function(t,n,r,i){},e.prototype.merge=function(t,n,r,i){},e.prototype.refreshAuthToken=function(t){},e.prototype.refreshAppCheckToken=function(t){},e.prototype.onDisconnectPut=function(t,n,r){},e.prototype.onDisconnectMerge=function(t,n,r){},e.prototype.onDisconnectCancel=function(t,n){},e.prototype.reportStats=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eh=function(){function e(t){this.allowedEvents_=t,this.listeners_={},I(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(Array.isArray(this.listeners_[t]))for(var i=ln([],We(this.listeners_[t])),o=0;o<i.length;o++)i[o].callback.apply(i[o].context,n)},e.prototype.on=function(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});var i=this.getInitialEvent(t);i&&n.apply(r,i)},e.prototype.off=function(t,n,r){this.validateEventType_(t);for(var i=this.listeners_[t]||[],o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}},e.prototype.validateEventType_=function(t){I(this.allowedEvents_.find(function(n){return n===t}),"Unknown event: "+t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ql=function(e){ge(t,e);function t(){var n=e.call(this,["online"])||this;return n.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!yf()&&(window.addEventListener("online",function(){n.online_||(n.online_=!0,n.trigger("online",!0))},!1),window.addEventListener("offline",function(){n.online_&&(n.online_=!1,n.trigger("online",!1))},!1)),n}return t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(n){return I(n==="online","Unknown event type: "+n),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(eh);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jl=32,Xl=768,te=function(){function e(t,n){if(n===void 0){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return e.prototype.toString=function(){for(var t="",n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"},e}();function K(){return new te("")}function $(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function un(e){return e.pieces_.length-e.pieceNum_}function le(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new te(e.pieces_,t)}function Ia(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function im(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function ti(e,t){return t===void 0&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function th(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new te(t,0)}function de(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof te)for(var r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else for(var i=t.split("/"),r=0;r<i.length;r++)i[r].length>0&&n.push(i[r]);return new te(n,0)}function G(e){return e.pieceNum_>=e.pieces_.length}function Ue(e,t){var n=$(e),r=$(t);if(n===null)return t;if(n===r)return Ue(le(e),le(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function om(e,t){for(var n=ti(e,0),r=ti(t,0),i=0;i<n.length&&i<r.length;i++){var o=Ln(n[i],r[i]);if(o!==0)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Ra(e,t){if(un(e)!==un(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function rt(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(un(e)>un(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var sm=function(){function e(t,n){this.errorPrefix_=n,this.parts_=ti(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=mo(this.parts_[r]);nh(this)}return e}();function am(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=mo(t),nh(e)}function lm(e){var t=e.parts_.pop();e.byteLength_-=mo(t),e.parts_.length>0&&(e.byteLength_-=1)}function nh(e){if(e.byteLength_>Xl)throw new Error(e.errorPrefix_+"has a key path longer than "+Xl+" bytes ("+e.byteLength_+").");if(e.parts_.length>Jl)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Jl+") or object contains a cycle "+wn(e))}function wn(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var um=function(e){ge(t,e);function t(){var n=e.call(this,["visible"])||this,r,i;return typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",r="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",r="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",r="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",r="webkitHidden")),n.visible_=!0,i&&document.addEventListener(i,function(){var o=!document[r];o!==n.visible_&&(n.visible_=o,n.trigger("visible",o))},!1),n}return t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(n){return I(n==="visible","Unknown event type: "+n),[this.visible_]},t}(eh);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xr=1e3,cm=60*5*1e3,fm=3*1e3,Zl=30*1e3,hm=1.3,dm=3e4,pm="server_kill",eu=3,xn=function(e){ge(t,e);function t(n,r,i,o,s,a,l,u){var c=e.call(this)||this;if(c.repoInfo_=n,c.applicationId_=r,c.onDataUpdate_=i,c.onConnectStatus_=o,c.onServerInfoUpdate_=s,c.authTokenProvider_=a,c.appCheckTokenProvider_=l,c.authOverride_=u,c.id=t.nextPersistentConnectionId_++,c.log_=di("p:"+c.id+":"),c.interruptReasons_={},c.listens=new Map,c.outstandingPuts_=[],c.outstandingGets_=[],c.outstandingPutCount_=0,c.outstandingGetCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=xr,c.maxReconnectDelay_=cm,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.appCheckToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.invalidAppCheckTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,u&&!bf())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return um.getInstance().on("visible",c.onVisible_,c),n.host.indexOf("fblocal")===-1&&ql.getInstance().on("online",c.onOnline_,c),c}return t.prototype.sendRequest=function(n,r,i){var o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(Ee(s)),I(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)},t.prototype.get=function(n){var r=this;this.initConnection_();var i=new Ve,o={p:n._path.toString(),q:n._queryObject},s={action:"g",request:o,onComplete:function(l){var u=l.d;l.s==="ok"?(r.onDataUpdate_(o.p,u,!1,null),i.resolve(u)):i.reject(u)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var l=r.outstandingGets_[a];l===void 0||s!==l||(delete r.outstandingGets_[a],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),r.log_("get "+a+" timed out on connection"),i.reject(new Error("Client is offline.")))},fm),this.connected_&&this.sendGet_(a),i.promise},t.prototype.listen=function(n,r,i,o){this.initConnection_();var s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),I(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),I(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");var l={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)},t.prototype.sendGet_=function(n){var r=this,i=this.outstandingGets_[n];this.sendRequest("g",i.request,function(o){delete r.outstandingGets_[n],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),i.onComplete&&i.onComplete(o)})},t.prototype.sendListen_=function(n){var r=this,i=n.query,o=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+o+" for "+s);var a={p:o},l="q";n.tag&&(a.q=i._queryObject,a.t=n.tag),a.h=n.hashFn(),this.sendRequest(l,a,function(u){var c=u.d,f=u.s;t.warnOnListenWarnings_(c,i);var h=r.listens.get(o)&&r.listens.get(o).get(s);h===n&&(r.log_("listen response",u),f!=="ok"&&r.removeListen_(o,s),n.onComplete&&n.onComplete(f,c))})},t.warnOnListenWarnings_=function(n,r){if(n&&typeof n=="object"&&Xe(n,"w")){var i=Nn(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){var o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();xe("Using an unspecified index. Your data will be downloaded and "+("filtered on the client. Consider adding "+o+" at ")+(s+" to your security rules for better performance."))}}},t.prototype.refreshAuthToken=function(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(n)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(n){var r=n&&n.length===40;(r||k_(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Zl)},t.prototype.refreshAppCheckToken=function(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},t.prototype.tryAuth=function(){var n=this;if(this.connected_&&this.authToken_){var r=this.authToken_,i=M_(r)?"auth":"gauth",o={cred:r};this.authOverride_===null?o.noauth=!0:typeof this.authOverride_=="object"&&(o.authvar=this.authOverride_),this.sendRequest(i,o,function(s){var a=s.s,l=s.d||"error";n.authToken_===r&&(a==="ok"?n.invalidAuthTokenCount_=0:n.onAuthRevoked_(a,l))})}},t.prototype.tryAppCheck=function(){var n=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(r){var i=r.s,o=r.d||"error";i==="ok"?n.invalidAppCheckTokenCount_=0:n.onAppCheckRevoked_(i,o)})},t.prototype.unlisten=function(n,r){var i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),I(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");var s=this.removeListen_(i,o);s&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)},t.prototype.sendUnlisten_=function(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);var s={p:n},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)},t.prototype.onDisconnectPut=function(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})},t.prototype.onDisconnectMerge=function(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})},t.prototype.onDisconnectCancel=function(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})},t.prototype.sendOnDisconnect_=function(n,r,i,o){var s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,function(a){o&&setTimeout(function(){o(a.s,a.d)},Math.floor(0))})},t.prototype.put=function(n,r,i,o){this.putInternal("p",n,r,i,o)},t.prototype.merge=function(n,r,i,o){this.putInternal("m",n,r,i,o)},t.prototype.putInternal=function(n,r,i,o,s){this.initConnection_();var a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;var l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+r)},t.prototype.sendPut_=function(n){var r=this,i=this.outstandingPuts_[n].action,o=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,o,function(a){r.log_(i+" response",a),delete r.outstandingPuts_[n],r.outstandingPutCount_--,r.outstandingPutCount_===0&&(r.outstandingPuts_=[]),s&&s(a.s,a.d)})},t.prototype.reportStats=function(n){var r=this;if(this.connected_){var i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,function(o){var s=o.s;if(s!=="ok"){var a=o.d;r.log_("reportStats","Error sending stats: "+a)}})}},t.prototype.onDataMessage_=function(n){if("r"in n){this.log_("from server: "+Ee(n));var r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}},t.prototype.onDataPush_=function(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):Rs("Unrecognized action received from server: "+Ee(n)+`
Are you using the latest client?`)},t.prototype.onReady_=function(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(n){var r=this;I(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){r.establishConnectionTimer_=null,r.establishConnection_()},Math.floor(n))},t.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},t.prototype.onVisible_=function(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=xr,this.realtime_||this.scheduleConnect_(0)),this.visible_=n},t.prototype.onOnline_=function(n){n?(this.log_("Browser went online."),this.reconnectDelay_=xr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(!this.visible_)this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime();else if(this.lastConnectionEstablishedTime_){var n=new Date().getTime()-this.lastConnectionEstablishedTime_;n>dm&&(this.reconnectDelay_=xr),this.lastConnectionEstablishedTime_=null}var r=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-r);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*hm)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return df(this,void 0,void 0,function(){var n,r,i,o,s,a,l,u,c,f,h,d,_,m,b=this;return pf(this,function(C){switch(C.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null,n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,a=!1,l=null,u=function(){l?l.close():(a=!0,i())},c=function(R){I(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(R)},this.realtime_={close:u,sendRequest:c},f=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,C.label=1;case 1:return C.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)])];case 2:return h=We.apply(void 0,[C.sent(),2]),d=h[0],_=h[1],a?Te("getToken() completed but was canceled"):(Te("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=_&&_.token,l=new Xf(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,function(R){xe(R+" ("+b.repoInfo_.toString()+")"),b.interrupt(pm)},s)),[3,4];case 3:return m=C.sent(),this.log_("Failed to get token: "+m),a||(this.repoInfo_.nodeAdmin&&xe(m),u()),[3,4];case 4:return[2]}})})},t.prototype.interrupt=function(n){Te("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(n){Te("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Ts(this.interruptReasons_)&&(this.reconnectDelay_=xr,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(n){var r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})},t.prototype.cancelSentTransactions_=function(){for(var n=0;n<this.outstandingPuts_.length;n++){var r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(n,r){var i;r?i=r.map(function(s){return ba(s)}).join("$"):i="default";var o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")},t.prototype.removeListen_=function(n,r){var i=new te(n).toString(),o;if(this.listens.has(i)){var s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o},t.prototype.onAuthRevoked_=function(n,r){Te("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=eu&&(this.reconnectDelay_=Zl,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(n,r){Te("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=eu&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))},t.prototype.restoreState_=function(){var n,r,i,o;this.tryAuth(),this.tryAppCheck();try{for(var s=Je(this.listens.values()),a=s.next();!a.done;a=s.next()){var l=a.value;try{for(var u=(i=void 0,Je(l.values())),c=u.next();!c.done;c=u.next()){var f=c.value;this.sendListen_(f)}}catch(_){i={error:_}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}}}catch(_){n={error:_}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}for(var h=0;h<this.outstandingPuts_.length;h++)this.outstandingPuts_[h]&&this.sendPut_(h);for(;this.onDisconnectRequestQueue_.length;){var d=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(d.action,d.pathString,d.data,d.onComplete)}for(var h=0;h<this.outstandingGets_.length;h++)this.outstandingGets_[h]&&this.sendGet_(h)},t.prototype.sendConnectStats_=function(){var n={},r="js";n["sdk."+r+"."+xf.replace(/\./g,"-")]=1,yf()?n["framework.cordova"]=1:A_()&&(n["framework.reactnative"]=1),this.reportStats(n)},t.prototype.shouldReconnect_=function(){var n=ql.getInstance().currentlyOnline();return Ts(this.interruptReasons_)&&n},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(Zf);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Q=function(){function e(t,n){this.name=t,this.node=n}return e.Wrap=function(t,n){return new e(t,n)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bo=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(t,n){var r=new Q($t,t),i=new Q($t,n);return this.compare(r,i)!==0},e.prototype.minPost=function(){return Q.MIN},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ii,rh=function(e){ge(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return Ii},set:function(n){Ii=n},enumerable:!1,configurable:!0}),t.prototype.compare=function(n,r){return Ln(n.name,r.name)},t.prototype.isDefinedOn=function(n){throw gr("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(n,r){return!1},t.prototype.minPost=function(){return Q.MIN},t.prototype.maxPost=function(){return new Q(Nt,Ii)},t.prototype.makePost=function(n,r){return I(typeof n=="string","KeyIndex indexValue must always be a string."),new Q(n,Ii)},t.prototype.toString=function(){return".key"},t}(bo),xt=new rh;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ri=function(){function e(t,n,r,i,o){o===void 0&&(o=null),this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];for(var s=1;!t.isEmpty();)if(t=t,s=n?r(t.key,n):1,i&&(s*=-1),s<0)this.isReverse_?t=t.left:t=t.right;else if(s===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}return e.prototype.getNext=function(){if(this.nodeStack_.length===0)return null;var t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(this.nodeStack_.length===0)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},e}(),ht=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??jt.EMPTY_NODE,this.right=o??jt.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(t??this.key,n??this.value,r??this.color,i??this.left,o??this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var i=this,o=r(t,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):o===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return jt.EMPTY_NODE;var t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()},e.prototype.remove=function(t,n){var r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return jt.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},e.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t},e.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),vm=function(){function e(){}return e.prototype.copy=function(t,n,r,i,o){return this},e.prototype.insert=function(t,n,r){return new ht(t,n,null)},e.prototype.remove=function(t,n){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),jt=function(){function e(t,n){n===void 0&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,ht.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ht.BLACK,null,null))},e.prototype.get=function(t){for(var n,r=this.root_;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null},e.prototype.getPredecessorKey=function(t){for(var n,r=this.root_,i=null;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},e.prototype.getIterator=function(t){return new Ri(this.root_,null,this.comparator_,!1,t)},e.prototype.getIteratorFrom=function(t,n){return new Ri(this.root_,t,this.comparator_,!1,n)},e.prototype.getReverseIteratorFrom=function(t,n){return new Ri(this.root_,t,this.comparator_,!0,n)},e.prototype.getReverseIterator=function(t){return new Ri(this.root_,null,this.comparator_,!0,t)},e.EMPTY_NODE=new vm,e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(e,t){return Ln(e.name,t.name)}function Aa(e,t){return Ln(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xs;function gm(e){xs=e}var ih=function(e){return typeof e=="number"?"number:"+Lf(e):"string:"+e},oh=function(e){if(e.isLeafNode()){var t=e.val();I(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Xe(t,".sv"),"Priority must be a string or number.")}else I(e===xs||e.isEmpty(),"priority of unexpected type.");I(e===xs||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tu,ur=function(){function e(t,n){n===void 0&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,I(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),oh(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return tu},set:function(t){tu=t},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return t===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return G(t)?this:$(t)===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(t,n){return null},e.prototype.updateImmediateChild=function(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=$(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(I(r!==".priority"||un(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(le(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(t,n){return!1},e.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(this.lazyHash_===null){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+ih(this.priorityNode_.val())+":");var n=typeof this.value_;t+=n+":",n==="number"?t+=Lf(this.value_):t+=this.value_,this.lazyHash_=Mf(t)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(I(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),o=e.VALUE_TYPE_ORDER.indexOf(r);return I(i>=0,"Unknown leaf type: "+n),I(o>=0,"Unknown leaf type: "+r),i===o?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sh,ah;function mm(e){sh=e}function ym(e){ah=e}var bm=function(e){ge(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.compare=function(n,r){var i=n.node.getPriority(),o=r.node.getPriority(),s=i.compareTo(o);return s===0?Ln(n.name,r.name):s},t.prototype.isDefinedOn=function(n){return!n.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(n,r){return!n.getPriority().equals(r.getPriority())},t.prototype.minPost=function(){return Q.MIN},t.prototype.maxPost=function(){return new Q(Nt,new ur("[PRIORITY-POST]",ah))},t.prototype.makePost=function(n,r){var i=sh(n);return new Q(r,new ur("[PRIORITY-POST]",i))},t.prototype.toString=function(){return".priority"},t}(bo),fe=new bm;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Em=Math.log(2),Cm=function(){function e(t){var n=function(o){return parseInt(Math.log(o)/Em,10)},r=function(o){return parseInt(Array(o+1).join("1"),2)};this.count=n(t+1),this.current_=this.count-1;var i=r(this.count);this.bits_=t+1&i}return e.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},e}(),zi=function(e,t,n,r){e.sort(t);var i=function(l,u){var c=u-l,f,h;if(c===0)return null;if(c===1)return f=e[l],h=n?n(f):f,new ht(h,f.node,ht.BLACK,null,null);var d=parseInt(c/2,10)+l,_=i(l,d),m=i(d+1,u);return f=e[d],h=n?n(f):f,new ht(h,f.node,ht.BLACK,_,m)},o=function(l){for(var u=null,c=null,f=e.length,h=function(C,R){var N=f-C,D=f;f-=C;var Y=i(N+1,D),me=e[N],he=n?n(me):me;d(new ht(he,me.node,R,null,Y))},d=function(C){u?(u.left=C,u=C):(c=C,u=C)},_=0;_<l.count;++_){var m=l.nextBitIsOne(),b=Math.pow(2,l.count-(_+1));m?h(b,ht.BLACK):(h(b,ht.BLACK),h(b,ht.RED))}return c},s=new Cm(e.length),a=o(s);return new jt(r||t,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ts,Gn={},Ki=function(){function e(t,n){this.indexes_=t,this.indexSet_=n}return Object.defineProperty(e,"Default",{get:function(){return I(Gn&&fe,"ChildrenNode.ts has not been loaded"),ts=ts||new e({".priority":Gn},{".priority":fe}),ts},enumerable:!1,configurable:!0}),e.prototype.get=function(t){var n=Nn(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof jt?n:null},e.prototype.hasIndex=function(t){return Xe(this.indexSet_,t.toString())},e.prototype.addIndex=function(t,n){I(t!==xt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,o=n.getIterator(Q.Wrap),s=o.getNext();s;)i=i||t.isDefinedOn(s.node),r.push(s),s=o.getNext();var a;i?a=zi(r,t.getCompare()):a=Gn;var l=t.toString(),u=an({},this.indexSet_);u[l]=t;var c=an({},this.indexes_);return c[l]=a,new e(c,u)},e.prototype.addToIndexes=function(t,n){var r=this,i=Hi(this.indexes_,function(o,s){var a=Nn(r.indexSet_,s);if(I(a,"Missing index implementation for "+s),o===Gn)if(a.isDefinedOn(t.node)){for(var l=[],u=n.getIterator(Q.Wrap),c=u.getNext();c;)c.name!==t.name&&l.push(c),c=u.getNext();return l.push(t),zi(l,a.getCompare())}else return Gn;else{var f=n.get(t.name),h=o;return f&&(h=h.remove(new Q(t.name,f))),h.insert(t,t.node)}});return new e(i,this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){var r=Hi(this.indexes_,function(i){if(i===Gn)return i;var o=n.get(t.name);return o?i.remove(new Q(t.name,o)):i});return new e(r,this.indexSet_)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Or,V=function(){function e(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&oh(this.priorityNode_),this.children_.isEmpty()&&I(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return Or||(Or=new e(new jt(Aa),null,Ki.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||Or},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(t){if(t===".priority")return this.getPriority();var n=this.children_.get(t);return n===null?Or:n},e.prototype.getChild=function(t){var n=$(t);return n===null?this:this.getImmediateChild(n).getChild(le(t))},e.prototype.hasChild=function(t){return this.children_.get(t)!==null},e.prototype.updateImmediateChild=function(t,n){if(I(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);var r=new Q(t,n),i=void 0,o=void 0;n.isEmpty()?(i=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),o=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?Or:this.priorityNode_;return new e(i,s,o)},e.prototype.updateChild=function(t,n){var r=$(t);if(r===null)return n;I($(t)!==".priority"||un(t)===1,".priority must be the last token in a path");var i=this.getImmediateChild(r).updateChild(le(t),n);return this.updateImmediateChild(r,i)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(fe,function(l,u){n[l]=u.val(t),r++,o&&e.INTEGER_REGEXP_.test(l)?i=Math.max(i,Number(l)):o=!1}),!t&&o&&i<2*r){var s=[];for(var a in n)s[a]=n[a];return s}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(this.lazyHash_===null){var t="";this.getPriority().isEmpty()||(t+="priority:"+ih(this.getPriority().val())+":"),this.forEachChild(fe,function(n,r){var i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":Mf(t)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(t,n,r){var i=this.resolveIndex_(r);if(i){var o=i.getPredecessorKey(new Q(t,n));return o?o.name:null}else return this.children_.getPredecessorKey(t)},e.prototype.getFirstChildName=function(t){var n=this.resolveIndex_(t);if(n){var r=n.minKey();return r&&r.name}else return this.children_.minKey()},e.prototype.getFirstChild=function(t){var n=this.getFirstChildName(t);return n?new Q(n,this.children_.get(n)):null},e.prototype.getLastChildName=function(t){var n=this.resolveIndex_(t);if(n){var r=n.maxKey();return r&&r.name}else return this.children_.maxKey()},e.prototype.getLastChild=function(t){var n=this.getLastChildName(t);return n?new Q(n,this.children_.get(n)):null},e.prototype.forEachChild=function(t,n){var r=this.resolveIndex_(t);return r?r.inorderTraversal(function(i){return n(i.name,i.node)}):this.children_.inorderTraversal(n)},e.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},e.prototype.getIteratorFrom=function(t,n){var r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,function(s){return s});for(var i=this.children_.getIteratorFrom(t.name,Q.Wrap),o=i.peek();o!=null&&n.compare(o,t)<0;)i.getNext(),o=i.peek();return i},e.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},e.prototype.getReverseIteratorFrom=function(t,n){var r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,function(s){return s});for(var i=this.children_.getReverseIteratorFrom(t.name,Q.Wrap),o=i.peek();o!=null&&n.compare(o,t)>0;)i.getNext(),o=i.peek();return i},e.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===pi?-1:0},e.prototype.withIndex=function(t){if(t===xt||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(t){return t===xt||this.indexMap_.hasIndex(t)},e.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){for(var r=this.getIterator(fe),i=n.getIterator(fe),o=r.getNext(),s=i.getNext();o&&s;){if(o.name!==s.name||!o.node.equals(s.node))return!1;o=r.getNext(),s=i.getNext()}return o===null&&s===null}else return!1;else return!1},e.prototype.resolveIndex_=function(t){return t===xt?null:this.indexMap_.get(t.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),wm=function(e){ge(t,e);function t(){return e.call(this,new jt(Aa),V.EMPTY_NODE,Ki.Default)||this}return t.prototype.compareTo=function(n){return n===this?0:1},t.prototype.equals=function(n){return n===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(n){return V.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(V),pi=new wm;Object.defineProperties(Q,{MIN:{value:new Q($t,V.EMPTY_NODE)},MAX:{value:new Q(Nt,pi)}});rh.__EMPTY_NODE=V.EMPTY_NODE;ur.__childrenNodeConstructor=V;gm(pi);ym(pi);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sm=!0;function _e(e,t){if(t===void 0&&(t=null),e===null)return V.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),I(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){var n=e;return new ur(n,_e(t))}if(!(e instanceof Array)&&Sm){var r=[],i=!1,o=e;if(Ce(o,function(u,c){if(u.substring(0,1)!=="."){var f=_e(c);f.isEmpty()||(i=i||!f.getPriority().isEmpty(),r.push(new Q(u,f)))}}),r.length===0)return V.EMPTY_NODE;var s=zi(r,_m,function(u){return u.name},Aa);if(i){var a=zi(r,fe.getCompare());return new V(s,_e(t),new Ki({".priority":a},{".priority":fe}))}else return new V(s,_e(t),Ki.Default)}else{var l=V.EMPTY_NODE;return Ce(e,function(u,c){if(Xe(e,u)&&u.substring(0,1)!=="."){var f=_e(c);(f.isLeafNode()||!f.isEmpty())&&(l=l.updateImmediateChild(u,f))}}),l.updatePriority(_e(t))}}mm(_e);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xa=function(e){ge(t,e);function t(n){var r=e.call(this)||this;return r.indexPath_=n,I(!G(n)&&$(n)!==".priority","Can't create PathIndex with empty path or .priority key"),r}return t.prototype.extractChild=function(n){return n.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(n){return!n.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(n,r){var i=this.extractChild(n.node),o=this.extractChild(r.node),s=i.compareTo(o);return s===0?Ln(n.name,r.name):s},t.prototype.makePost=function(n,r){var i=_e(n),o=V.EMPTY_NODE.updateChild(this.indexPath_,i);return new Q(r,o)},t.prototype.maxPost=function(){var n=V.EMPTY_NODE.updateChild(this.indexPath_,pi);return new Q(Nt,n)},t.prototype.toString=function(){return ti(this.indexPath_,0).join("/")},t}(bo);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tm=function(e){ge(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.compare=function(n,r){var i=n.node.compareTo(r.node);return i===0?Ln(n.name,r.name):i},t.prototype.isDefinedOn=function(n){return!0},t.prototype.indexedValueChanged=function(n,r){return!n.equals(r)},t.prototype.minPost=function(){return Q.MIN},t.prototype.maxPost=function(){return Q.MAX},t.prototype.makePost=function(n,r){var i=_e(n);return new Q(r,i)},t.prototype.toString=function(){return".value"},t}(bo),Oa=new Tm;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cr="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Os="-",lh="z",uh=786,Im=function(){var e=0,t=[];return function(n){var r=n===e;e=n;var i,o=new Array(8);for(i=7;i>=0;i--)o[i]=cr.charAt(n%64),n=Math.floor(n/64);I(n===0,"Cannot push at time == 0");var s=o.join("");if(r){for(i=11;i>=0&&t[i]===63;i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)s+=cr.charAt(t[i]);return I(s.length===20,"nextPushId: Length should be 20."),s}}(),nu=function(e){if(e===""+Ea)return Os;var t=Gi(e);if(t!=null)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<uh)return n.push(Os),n.join("");for(var i=n.length-1;i>=0&&n[i]===lh;)i--;if(i===-1)return Nt;var o=n[i],s=cr.charAt(cr.indexOf(o)+1);return n[i]=s,n.slice(0,i+1).join("")},ru=function(e){if(e===""+Ff)return $t;var t=Gi(e);if(t!=null)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return n[n.length-1]===Os?n.length===1?""+Ea:(delete n[n.length-1],n.join("")):(n[n.length-1]=cr.charAt(cr.indexOf(n[n.length-1])-1),n.join("")+lh.repeat(uh-n.length))};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(e){return{type:"value",snapshotNode:e}}function fr(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function ni(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function ri(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function Rm(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pa=function(){function e(t){this.index_=t}return e.prototype.updateChild=function(t,n,r,i,o,s){I(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?t.hasChild(n)?s.trackChildChange(ni(n,a)):I(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(fr(n,r)):s.trackChildChange(ri(n,r,a))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)},e.prototype.updateFullNode=function(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(fe,function(i,o){n.hasChild(i)||r.trackChildChange(ni(i,o))}),n.isLeafNode()||n.forEachChild(fe,function(i,o){if(t.hasChild(i)){var s=t.getImmediateChild(i);s.equals(o)||r.trackChildChange(ri(i,o,s))}else r.trackChildChange(fr(i,o))})),n.withIndex(this.index_)},e.prototype.updatePriority=function(t,n){return t.isEmpty()?V.EMPTY_NODE:t.updatePriority(n)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fh=function(){function e(t){this.indexedFilter_=new Pa(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},e.prototype.updateChild=function(t,n,r,i,o,s){return this.matches(new Q(n,r))||(r=V.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,o,s)},e.prototype.updateFullNode=function(t,n,r){n.isLeafNode()&&(n=V.EMPTY_NODE);var i=n.withIndex(this.index_);i=i.updatePriority(V.EMPTY_NODE);var o=this;return n.forEachChild(fe,function(s,a){o.matches(new Q(s,a))||(i=i.updateImmediateChild(s,V.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)},e.prototype.updatePriority=function(t,n){return t},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(t){if(t.hasStart()){var n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()},e.getEndPost_=function(t){if(t.hasEnd()){var n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Am=function(){function e(t){this.rangedFilter_=new fh(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return e.prototype.updateChild=function(t,n,r,i,o,s){return this.rangedFilter_.matches(new Q(n,r))||(r=V.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,o,s):this.fullLimitUpdateChild_(t,n,r,o,s)},e.prototype.updateFullNode=function(t,n,r){var i;if(n.isLeafNode()||n.isEmpty())i=V.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=V.EMPTY_NODE.withIndex(this.index_);var o=void 0;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var s=0;o.hasNext()&&s<this.limit_;){var a=o.getNext(),l=void 0;if(this.reverse_?l=this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:l=this.index_.compare(a,this.rangedFilter_.getEndPost())<=0,l)i=i.updateImmediateChild(a.name,a.node),s++;else break}}else{i=n.withIndex(this.index_),i=i.updatePriority(V.EMPTY_NODE);var u=void 0,c=void 0,f=void 0,o=void 0;if(this.reverse_){o=i.getReverseIterator(this.index_),u=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();var h=this.index_.getCompare();f=function(b,C){return h(C,b)}}else o=i.getIterator(this.index_),u=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),f=this.index_.getCompare();for(var s=0,d=!1;o.hasNext();){var a=o.getNext();!d&&f(u,a)<=0&&(d=!0);var l=d&&s<this.limit_&&f(a,c)<=0;l?s++:i=i.updateImmediateChild(a.name,V.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)},e.prototype.updatePriority=function(t,n){return t},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(t,n,r,i,o){var s;if(this.reverse_){var a=this.index_.getCompare();s=function(R,N){return a(N,R)}}else s=this.index_.getCompare();var l=t;I(l.numChildren()===this.limit_,"");var u=new Q(n,r),c=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),f=this.rangedFilter_.matches(u);if(l.hasChild(n)){for(var h=l.getImmediateChild(n),d=i.getChildAfterChild(this.index_,c,this.reverse_);d!=null&&(d.name===n||l.hasChild(d.name));)d=i.getChildAfterChild(this.index_,d,this.reverse_);var _=d==null?1:s(d,u),m=f&&!r.isEmpty()&&_>=0;if(m)return o!=null&&o.trackChildChange(ri(n,r,h)),l.updateImmediateChild(n,r);o!=null&&o.trackChildChange(ni(n,h));var b=l.updateImmediateChild(n,V.EMPTY_NODE),C=d!=null&&this.rangedFilter_.matches(d);return C?(o!=null&&o.trackChildChange(fr(d.name,d.node)),b.updateImmediateChild(d.name,d.node)):b}else return r.isEmpty()?t:f&&s(c,u)>=0?(o!=null&&(o.trackChildChange(ni(c.name,c.node)),o.trackChildChange(fr(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(c.name,V.EMPTY_NODE)):t},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hh=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=fe}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"},e.prototype.getIndexStartValue=function(){return I(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return I(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:$t},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return I(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return I(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Nt},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&this.viewFrom_!==""},e.prototype.getLimit=function(){return I(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===fe},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function xm(e){return e.loadsAllData()?new Pa(e.getIndex()):e.hasLimit()?new Am(e):new fh(e)}function Om(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}function Pm(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}function Ps(e,t,n){var r=e.copy();return r.startSet_=!0,t===void 0&&(t=null),r.indexStartValue_=t,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Nm(e,t,n){var r;if(e.index_===xt)typeof t=="string"&&(t=nu(t)),r=Ps(e,t,n);else{var i=void 0;n==null?i=Nt:i=nu(n),r=Ps(e,t,i)}return r.startAfterSet_=!0,r}function Ns(e,t,n){var r=e.copy();return r.endSet_=!0,t===void 0&&(t=null),r.indexEndValue_=t,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Mm(e,t,n){var r,i;return e.index_===xt?(typeof t=="string"&&(t=ru(t)),i=Ns(e,t,n)):(n==null?r=$t:r=ru(n),i=Ns(e,t,r)),i.endBeforeSet_=!0,i}function Eo(e,t){var n=e.copy();return n.index_=t,n}function iu(e){var t={};if(e.isDefault())return t;var n;return e.index_===fe?n="$priority":e.index_===Oa?n="$value":e.index_===xt?n="$key":(I(e.index_ instanceof xa,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Ee(n),e.startSet_&&(t.startAt=Ee(e.indexStartValue_),e.startNameSet_&&(t.startAt+=","+Ee(e.indexStartName_))),e.endSet_&&(t.endAt=Ee(e.indexEndValue_),e.endNameSet_&&(t.endAt+=","+Ee(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function ou(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==fe&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var km=function(e){ge(t,e);function t(n,r,i,o){var s=e.call(this)||this;return s.repoInfo_=n,s.onDataUpdate_=r,s.authTokenProvider_=i,s.appCheckTokenProvider_=o,s.log_=di("p:rest:"),s.listens_={},s}return t.prototype.reportStats=function(n){throw new Error("Method not implemented.")},t.getListenId_=function(n,r){return r!==void 0?"tag$"+r:(I(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())},t.prototype.listen=function(n,r,i,o){var s=this,a=n._path.toString();this.log_("Listen called for "+a+" "+n._queryIdentifier);var l=t.getListenId_(n,i),u={};this.listens_[l]=u;var c=iu(n._queryParams);this.restRequest_(a+".json",c,function(f,h){var d=h;if(f===404&&(d=null,f=null),f===null&&s.onDataUpdate_(a,d,!1,i),Nn(s.listens_,l)===u){var _;f?f===401?_="permission_denied":_="rest_error:"+f:_="ok",o(_,null)}})},t.prototype.unlisten=function(n,r){var i=t.getListenId_(n,r);delete this.listens_[i]},t.prototype.get=function(n){var r=this,i=iu(n._queryParams),o=n._path.toString(),s=new Ve;return this.restRequest_(o+".json",i,function(a,l){var u=l;a===404&&(u=null,a=null),a===null?(r.onDataUpdate_(o,u,!1,null),s.resolve(u)):s.reject(new Error(u))}),s.promise},t.prototype.refreshAuthToken=function(n){},t.prototype.restRequest_=function(n,r,i){var o=this;return r===void 0&&(r={}),r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(s){var a=We(s,2),l=a[0],u=a[1];l&&l.accessToken&&(r.auth=l.accessToken),u&&u.token&&(r.ac=u.token);var c=(o.repoInfo_.secure?"https://":"http://")+o.repoInfo_.host+n+"?ns="+o.repoInfo_.namespace+D_(r);o.log_("Sending REST request for "+c);var f=new XMLHttpRequest;f.onreadystatechange=function(){if(i&&f.readyState===4){o.log_("REST Response for "+c+" received. status:",f.status,"response:",f.responseText);var h=null;if(f.status>=200&&f.status<300){try{h=ei(f.responseText)}catch{xe("Failed to parse JSON response for "+c+": "+f.responseText)}i(null,h)}else f.status!==401&&f.status!==404&&xe("Got unsuccessful REST response for "+c+" Status: "+f.status),i(f.status);i=null}},f.open("GET",c,!0),f.send()})},t}(Zf);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dm=function(){function e(){this.rootNode_=V.EMPTY_NODE}return e.prototype.getNode=function(t){return this.rootNode_.getChild(t)},e.prototype.updateSnapshot=function(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(){return{value:null,children:new Map}}function br(e,t,n){if(G(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{var r=$(t);e.children.has(r)||e.children.set(r,Yi());var i=e.children.get(r);t=le(t),br(i,t,n)}}function Ms(e,t){if(G(t))return e.value=null,e.children.clear(),!0;if(e.value!==null){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(fe,function(o,s){br(e,new te(o),s)}),Ms(e,t)}else if(e.children.size>0){var r=$(t);if(t=le(t),e.children.has(r)){var i=Ms(e.children.get(r),t);i&&e.children.delete(r)}return e.children.size===0}else return!0}function ks(e,t,n){e.value!==null?n(t,e.value):Lm(e,function(r,i){var o=new te(t.toString()+"/"+r);ks(i,o,n)})}function Lm(e,t){e.children.forEach(function(n,r){t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dh=function(){function e(t){this.collection_=t,this.last_=null}return e.prototype.get=function(){var t=this.collection_.get(),n=an({},t);return this.last_&&Ce(this.last_,function(r,i){n[r]=n[r]-i}),this.last_=t,n},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var su=10*1e3,Fm=30*1e3,Bm=5*60*1e3,Wm=function(){function e(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new dh(t);var r=su+(Fm-su)*Math.random();Wr(this.reportStats_.bind(this),Math.floor(r))}return e.prototype.reportStats_=function(){var t=this,n=this.statsListener_.get(),r={},i=!1;Ce(n,function(o,s){s>0&&Xe(t.statsToReport_,o)&&(r[o]=s,i=!0)}),i&&this.server_.reportStats(r),Wr(this.reportStats_.bind(this),Math.floor(Math.random()*2*Bm))},e}();function Um(e,t){e.statsToReport_[t]=!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(dt||(dt={}));function Na(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Ma(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function ka(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jm=function(){function e(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=dt.ACK_USER_WRITE,this.source=Na()}return e.prototype.operationForChild=function(t){if(G(this.path)){if(this.affectedTree.value!=null)return I(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new te(t));return new e(K(),n,this.revert)}else return I($(this.path)===t,"operationForChild called for unrelated child."),new e(le(this.path),this.affectedTree,this.revert)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ph=function(){function e(t,n){this.source=t,this.path=n,this.type=dt.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return G(this.path)?new e(this.source,K()):new e(this.source,le(this.path))},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Co=function(){function e(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=dt.OVERWRITE}return e.prototype.operationForChild=function(t){return G(this.path)?new e(this.source,K(),this.snap.getImmediateChild(t)):new e(this.source,le(this.path),this.snap)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Da=function(){function e(t,n,r){this.source=t,this.path=n,this.children=r,this.type=dt.MERGE}return e.prototype.operationForChild=function(t){if(G(this.path)){var n=this.children.subtree(new te(t));return n.isEmpty()?null:n.value?new Co(this.source,K(),n.value):new e(this.source,K(),n)}else return I($(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,le(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cn=function(){function e(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(t){if(G(t))return this.isFullyInitialized()&&!this.filtered_;var n=$(t);return this.isCompleteForChild(n)},e.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},e.prototype.getNode=function(){return this.node_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vm=function(){function e(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}return e}();function Hm(e,t,n,r){var i=[],o=[];return t.forEach(function(s){s.type==="child_changed"&&e.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(Rm(s.childName,s.snapshotNode))}),Pr(e,i,"child_removed",t,r,n),Pr(e,i,"child_added",t,r,n),Pr(e,i,"child_moved",o,r,n),Pr(e,i,"child_changed",t,r,n),Pr(e,i,"value",t,r,n),i}function Pr(e,t,n,r,i,o){var s=r.filter(function(a){return a.type===n});s.sort(function(a,l){return Gm(e,a,l)}),s.forEach(function(a){var l=$m(e,a,o);i.forEach(function(u){u.respondsTo(a.type)&&t.push(u.createEvent(l,e.query_))})})}function $m(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function Gm(e,t,n){if(t.childName==null||n.childName==null)throw gr("Should only compare child_ events.");var r=new Q(t.childName,t.snapshotNode),i=new Q(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wo(e,t){return{eventCache:e,serverCache:t}}function jr(e,t,n,r){return wo(new cn(t,n,r),e.serverCache)}function vh(e,t,n,r){return wo(e.eventCache,new cn(t,n,r))}function qi(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Mn(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ns,Qm=function(){return ns||(ns=new jt(wg)),ns},Ze=function(){function e(t,n){n===void 0&&(n=Qm()),this.value=t,this.children=n}return e.fromObject=function(t){var n=new e(null);return Ce(t,function(r,i){n=n.set(new te(r),i)}),n},e.prototype.isEmpty=function(){return this.value===null&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(t,n){if(this.value!=null&&n(this.value))return{path:K(),value:this.value};if(G(t))return null;var r=$(t),i=this.children.get(r);if(i!==null){var o=i.findRootMostMatchingPathAndValue(le(t),n);if(o!=null){var s=de(new te(r),o.path);return{path:s,value:o.value}}else return null}else return null},e.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},e.prototype.subtree=function(t){if(G(t))return this;var n=$(t),r=this.children.get(n);return r!==null?r.subtree(le(t)):new e(null)},e.prototype.set=function(t,n){if(G(t))return new e(n,this.children);var r=$(t),i=this.children.get(r)||new e(null),o=i.set(le(t),n),s=this.children.insert(r,o);return new e(this.value,s)},e.prototype.remove=function(t){if(G(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=$(t),r=this.children.get(n);if(r){var i=r.remove(le(t)),o=void 0;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new e(null):new e(this.value,o)}else return this},e.prototype.get=function(t){if(G(t))return this.value;var n=$(t),r=this.children.get(n);return r?r.get(le(t)):null},e.prototype.setTree=function(t,n){if(G(t))return n;var r=$(t),i=this.children.get(r)||new e(null),o=i.setTree(le(t),n),s=void 0;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new e(this.value,s)},e.prototype.fold=function(t){return this.fold_(K(),t)},e.prototype.fold_=function(t,n){var r={};return this.children.inorderTraversal(function(i,o){r[i]=o.fold_(de(t,i),n)}),n(t,this.value,r)},e.prototype.findOnPath=function(t,n){return this.findOnPath_(t,K(),n)},e.prototype.findOnPath_=function(t,n,r){var i=this.value?r(n,this.value):!1;if(i)return i;if(G(t))return null;var o=$(t),s=this.children.get(o);return s?s.findOnPath_(le(t),de(n,o),r):null},e.prototype.foreachOnPath=function(t,n){return this.foreachOnPath_(t,K(),n)},e.prototype.foreachOnPath_=function(t,n,r){if(G(t))return this;this.value&&r(n,this.value);var i=$(t),o=this.children.get(i);return o?o.foreachOnPath_(le(t),de(n,i),r):new e(null)},e.prototype.foreach=function(t){this.foreach_(K(),t)},e.prototype.foreach_=function(t,n){this.children.inorderTraversal(function(r,i){i.foreach_(de(t,r),n)}),this.value&&n(t,this.value)},e.prototype.foreachChild=function(t){this.children.inorderTraversal(function(n,r){r.value&&t(n,r.value)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht=function(){function e(t){this.writeTree_=t}return e.empty=function(){return new e(new Ze(null))},e}();function Vr(e,t,n){if(G(t))return new Ht(new Ze(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){var i=r.path,o=r.value,s=Ue(i,t);return o=o.updateChild(s,n),new Ht(e.writeTree_.set(i,o))}else{var a=new Ze(n),l=e.writeTree_.setTree(t,a);return new Ht(l)}}function Ds(e,t,n){var r=e;return Ce(n,function(i,o){r=Vr(r,de(t,i),o)}),r}function au(e,t){if(G(t))return Ht.empty();var n=e.writeTree_.setTree(t,new Ze(null));return new Ht(n)}function Ls(e,t){return Fn(e,t)!=null}function Fn(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Ue(n.path,t)):null}function lu(e){var t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(fe,function(r,i){t.push(new Q(r,i))}):e.writeTree_.children.inorderTraversal(function(r,i){i.value!=null&&t.push(new Q(r,i.value))}),t}function rn(e,t){if(G(t))return e;var n=Fn(e,t);return n!=null?new Ht(new Ze(n)):new Ht(e.writeTree_.subtree(t))}function Fs(e){return e.writeTree_.isEmpty()}function hr(e,t){return _h(K(),e.writeTree_,t)}function _h(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal(function(i,o){i===".priority"?(I(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=_h(de(e,i),o,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(de(e,".priority"),r)),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function So(e,t){return bh(t,e)}function zm(e,t,n,r,i){I(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Vr(e.visibleWrites,t,n)),e.lastWriteId=r}function Km(e,t,n,r){I(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=Ds(e.visibleWrites,t,n),e.lastWriteId=r}function Ym(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function qm(e,t){var n=e.allWrites.findIndex(function(u){return u.writeId===t});I(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,o=!1,s=e.allWrites.length-1;i&&s>=0;){var a=e.allWrites[s];a.visible&&(s>=n&&Jm(a,r.path)?i=!1:rt(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return Xm(e),!0;if(r.snap)e.visibleWrites=au(e.visibleWrites,r.path);else{var l=r.children;Ce(l,function(u){e.visibleWrites=au(e.visibleWrites,de(r.path,u))})}return!0}else return!1}function Jm(e,t){if(e.snap)return rt(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&rt(de(e.path,n),t))return!0;return!1}function Xm(e){e.visibleWrites=gh(e.allWrites,Zm,K()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function Zm(e){return e.visible}function gh(e,t,n){for(var r=Ht.empty(),i=0;i<e.length;++i){var o=e[i];if(t(o)){var s=o.path,a=void 0;if(o.snap)rt(n,s)?(a=Ue(n,s),r=Vr(r,a,o.snap)):rt(s,n)&&(a=Ue(s,n),r=Vr(r,K(),o.snap.getChild(a)));else if(o.children){if(rt(n,s))a=Ue(n,s),r=Ds(r,a,o.children);else if(rt(s,n))if(a=Ue(s,n),G(a))r=Ds(r,K(),o.children);else{var l=Nn(o.children,$(a));if(l){var u=l.getChild(le(a));r=Vr(r,K(),u)}}}else throw gr("WriteRecord should have .snap or .children")}}return r}function mh(e,t,n,r,i){if(!r&&!i){var o=Fn(e.visibleWrites,t);if(o!=null)return o;var s=rn(e.visibleWrites,t);if(Fs(s))return n;if(n==null&&!Ls(s,K()))return null;var a=n||V.EMPTY_NODE;return hr(s,a)}else{var l=rn(e.visibleWrites,t);if(!i&&Fs(l))return n;if(!i&&n==null&&!Ls(l,K()))return null;var u=function(h){return(h.visible||i)&&(!r||!~r.indexOf(h.writeId))&&(rt(h.path,t)||rt(t,h.path))},c=gh(e.allWrites,u,t),a=n||V.EMPTY_NODE;return hr(c,a)}}function ey(e,t,n){var r=V.EMPTY_NODE,i=Fn(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(fe,function(a,l){r=r.updateImmediateChild(a,l)}),r;if(n){var o=rn(e.visibleWrites,t);return n.forEachChild(fe,function(a,l){var u=hr(rn(o,new te(a)),l);r=r.updateImmediateChild(a,u)}),lu(o).forEach(function(a){r=r.updateImmediateChild(a.name,a.node)}),r}else{var s=rn(e.visibleWrites,t);return lu(s).forEach(function(a){r=r.updateImmediateChild(a.name,a.node)}),r}}function ty(e,t,n,r,i){I(r||i,"Either existingEventSnap or existingServerSnap must exist");var o=de(t,n);if(Ls(e.visibleWrites,o))return null;var s=rn(e.visibleWrites,o);return Fs(s)?i.getChild(n):hr(s,i.getChild(n))}function ny(e,t,n,r){var i=de(t,n),o=Fn(e.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){var s=rn(e.visibleWrites,i);return hr(s,r.getNode().getImmediateChild(n))}else return null}function ry(e,t){return Fn(e.visibleWrites,t)}function iy(e,t,n,r,i,o,s){var a,l=rn(e.visibleWrites,t),u=Fn(l,K());if(u!=null)a=u;else if(n!=null)a=hr(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){for(var c=[],f=s.getCompare(),h=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),d=h.getNext();d&&c.length<i;)f(d,r)!==0&&c.push(d),d=h.getNext();return c}else return[]}function oy(){return{visibleWrites:Ht.empty(),allWrites:[],lastWriteId:-1}}function Ji(e,t,n,r){return mh(e.writeTree,e.treePath,t,n,r)}function La(e,t){return ey(e.writeTree,e.treePath,t)}function uu(e,t,n,r){return ty(e.writeTree,e.treePath,t,n,r)}function Xi(e,t){return ry(e.writeTree,de(e.treePath,t))}function sy(e,t,n,r,i,o){return iy(e.writeTree,e.treePath,t,n,r,i,o)}function Fa(e,t,n){return ny(e.writeTree,e.treePath,t,n)}function yh(e,t){return bh(de(e.treePath,t),e.writeTree)}function bh(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ay=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(t){var n=t.type,r=t.childName;I(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),I(r!==".priority","Only non-priority child changes can be tracked.");var i=this.changeMap.get(r);if(i){var o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,ri(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,ni(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,fr(r,t.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,ri(r,t.snapshotNode,i.oldSnap));else throw gr("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ly=function(){function e(){}return e.prototype.getCompleteChild=function(t){return null},e.prototype.getChildAfterChild=function(t,n,r){return null},e}(),Eh=new ly,Ba=function(){function e(t,n,r){r===void 0&&(r=null),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return e.prototype.getCompleteChild=function(t){var n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);var r=this.optCompleteServerCache_!=null?new cn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Fa(this.writes_,t,r)},e.prototype.getChildAfterChild=function(t,n,r){var i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Mn(this.viewCache_),o=sy(this.writes_,i,n,1,r,t);return o.length===0?null:o[0]},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(e){return{filter:e}}function cy(e,t){I(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),I(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function fy(e,t,n,r,i){var o=new ay,s,a;if(n.type===dt.OVERWRITE){var l=n;l.source.fromUser?s=Bs(e,t,l.path,l.snap,r,i,o):(I(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!G(l.path),s=Zi(e,t,l.path,l.snap,r,i,a,o))}else if(n.type===dt.MERGE){var u=n;u.source.fromUser?s=dy(e,t,u.path,u.children,r,i,o):(I(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.serverCache.isFiltered(),s=Ws(e,t,u.path,u.children,r,i,a,o))}else if(n.type===dt.ACK_USER_WRITE){var c=n;c.revert?s=_y(e,t,c.path,r,i,o):s=py(e,t,c.path,c.affectedTree,r,i,o)}else if(n.type===dt.LISTEN_COMPLETE)s=vy(e,t,n.path,r,o);else throw gr("Unknown operation type: "+n.type);var f=o.getChanges();return hy(t,s,f),{viewCache:s,changes:f}}function hy(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=qi(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(ch(qi(t)))}}function Ch(e,t,n,r,i,o){var s=t.eventCache;if(Xi(r,n)!=null)return t;var a=void 0,l=void 0;if(G(n))if(I(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var u=Mn(t),c=u instanceof V?u:V.EMPTY_NODE,f=La(r,c);a=e.filter.updateFullNode(t.eventCache.getNode(),f,o)}else{var h=Ji(r,Mn(t));a=e.filter.updateFullNode(t.eventCache.getNode(),h,o)}else{var d=$(n);if(d===".priority"){I(un(n)===1,"Can't have a priority with additional path components");var _=s.getNode();l=t.serverCache.getNode();var m=uu(r,n,_,l);m!=null?a=e.filter.updatePriority(_,m):a=s.getNode()}else{var b=le(n),C=void 0;if(s.isCompleteForChild(d)){l=t.serverCache.getNode();var R=uu(r,n,s.getNode(),l);R!=null?C=s.getNode().getImmediateChild(d).updateChild(b,R):C=s.getNode().getImmediateChild(d)}else C=Fa(r,d,t.serverCache);C!=null?a=e.filter.updateChild(s.getNode(),d,C,b,i,o):a=s.getNode()}}return jr(t,a,s.isFullyInitialized()||G(n),e.filter.filtersNodes())}function Zi(e,t,n,r,i,o,s,a){var l=t.serverCache,u,c=s?e.filter:e.filter.getIndexedFilter();if(G(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){var f=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),f,null)}else{var h=$(n);if(!l.isCompleteForPath(n)&&un(n)>1)return t;var d=le(n),_=l.getNode().getImmediateChild(h),m=_.updateChild(d,r);h===".priority"?u=c.updatePriority(l.getNode(),m):u=c.updateChild(l.getNode(),h,m,d,Eh,null)}var b=vh(t,u,l.isFullyInitialized()||G(n),c.filtersNodes()),C=new Ba(i,b,o);return Ch(e,b,n,i,C,a)}function Bs(e,t,n,r,i,o,s){var a=t.eventCache,l,u,c=new Ba(i,t,o);if(G(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,s),l=jr(t,u,!0,e.filter.filtersNodes());else{var f=$(n);if(f===".priority")u=e.filter.updatePriority(t.eventCache.getNode(),r),l=jr(t,u,a.isFullyInitialized(),a.isFiltered());else{var h=le(n),d=a.getNode().getImmediateChild(f),_=void 0;if(G(h))_=r;else{var m=c.getCompleteChild(f);m!=null?Ia(h)===".priority"&&m.getChild(th(h)).isEmpty()?_=m:_=m.updateChild(h,r):_=V.EMPTY_NODE}if(d.equals(_))l=t;else{var b=e.filter.updateChild(a.getNode(),f,_,h,c,s);l=jr(t,b,a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function cu(e,t){return e.eventCache.isCompleteForChild(t)}function dy(e,t,n,r,i,o,s){var a=t;return r.foreach(function(l,u){var c=de(n,l);cu(t,$(c))&&(a=Bs(e,a,c,u,i,o,s))}),r.foreach(function(l,u){var c=de(n,l);cu(t,$(c))||(a=Bs(e,a,c,u,i,o,s))}),a}function fu(e,t,n){return n.foreach(function(r,i){t=t.updateChild(r,i)}),t}function Ws(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var l=t,u;G(n)?u=r:u=new Ze(null).setTree(n,r);var c=t.serverCache.getNode();return u.children.inorderTraversal(function(f,h){if(c.hasChild(f)){var d=t.serverCache.getNode().getImmediateChild(f),_=fu(e,d,h);l=Zi(e,l,new te(f),_,i,o,s,a)}}),u.children.inorderTraversal(function(f,h){var d=!t.serverCache.isCompleteForChild(f)&&h.value===void 0;if(!c.hasChild(f)&&!d){var _=t.serverCache.getNode().getImmediateChild(f),m=fu(e,_,h);l=Zi(e,l,new te(f),m,i,o,s,a)}}),l}function py(e,t,n,r,i,o,s){if(Xi(i,n)!=null)return t;var a=t.serverCache.isFiltered(),l=t.serverCache;if(r.value!=null){if(G(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Zi(e,t,n,l.getNode().getChild(n),i,o,a,s);if(G(n)){var u=new Ze(null);return l.getNode().forEachChild(xt,function(f,h){u=u.set(new te(f),h)}),Ws(e,t,n,u,i,o,a,s)}else return t}else{var c=new Ze(null);return r.foreach(function(f,h){var d=de(n,f);l.isCompleteForPath(d)&&(c=c.set(f,l.getNode().getChild(d)))}),Ws(e,t,n,c,i,o,a,s)}}function vy(e,t,n,r,i){var o=t.serverCache,s=vh(t,o.getNode(),o.isFullyInitialized()||G(n),o.isFiltered());return Ch(e,s,n,r,Eh,i)}function _y(e,t,n,r,i,o){var s;if(Xi(r,n)!=null)return t;var a=new Ba(r,t,i),l=t.eventCache.getNode(),u=void 0;if(G(n)||$(n)===".priority"){var c=void 0;if(t.serverCache.isFullyInitialized())c=Ji(r,Mn(t));else{var f=t.serverCache.getNode();I(f instanceof V,"serverChildren would be complete if leaf node"),c=La(r,f)}c=c,u=e.filter.updateFullNode(l,c,o)}else{var h=$(n),d=Fa(r,h,t.serverCache);d==null&&t.serverCache.isCompleteForChild(h)&&(d=l.getImmediateChild(h)),d!=null?u=e.filter.updateChild(l,h,d,le(n),a,o):t.eventCache.getNode().hasChild(h)?u=e.filter.updateChild(l,h,V.EMPTY_NODE,le(n),a,o):u=l,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=Ji(r,Mn(t)),s.isLeafNode()&&(u=e.filter.updateFullNode(u,s,o)))}return s=t.serverCache.isFullyInitialized()||Xi(r,K())!=null,jr(t,u,s,e.filter.filtersNodes())}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gy=function(){function e(t,n){this.query_=t,this.eventRegistrations_=[];var r=this.query_._queryParams,i=new Pa(r.getIndex()),o=xm(r);this.processor_=uy(o);var s=n.serverCache,a=n.eventCache,l=i.updateFullNode(V.EMPTY_NODE,s.getNode(),null),u=o.updateFullNode(V.EMPTY_NODE,a.getNode(),null),c=new cn(l,s.isFullyInitialized(),i.filtersNodes()),f=new cn(u,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=wo(f,c),this.eventGenerator_=new Vm(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function my(e){return e.viewCache_.serverCache.getNode()}function yy(e){return qi(e.viewCache_)}function by(e,t){var n=Mn(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!G(t)&&!n.getImmediateChild($(t)).isEmpty())?n.getChild(t):null}function hu(e){return e.eventRegistrations_.length===0}function Ey(e,t){e.eventRegistrations_.push(t)}function du(e,t,n){var r=[];if(n){I(t==null,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach(function(l){var u=l.createCancelEvent(n,i);u&&r.push(u)})}if(t){for(var o=[],s=0;s<e.eventRegistrations_.length;++s){var a=e.eventRegistrations_[s];if(!a.matches(t))o.push(a);else if(t.hasAnyCallback()){o=o.concat(e.eventRegistrations_.slice(s+1));break}}e.eventRegistrations_=o}else e.eventRegistrations_=[];return r}function pu(e,t,n,r){t.type===dt.MERGE&&t.source.queryId!==null&&(I(Mn(e.viewCache_),"We should always have a full cache before handling merges"),I(qi(e.viewCache_),"Missing event cache, even though we have a server cache"));var i=e.viewCache_,o=fy(e.processor_,i,t,n,r);return cy(e.processor_,o.viewCache),I(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,wh(e,o.changes,o.viewCache.eventCache.getNode(),null)}function Cy(e,t){var n=e.viewCache_.eventCache,r=[];if(!n.getNode().isLeafNode()){var i=n.getNode();i.forEachChild(fe,function(o,s){r.push(fr(o,s))})}return n.isFullyInitialized()&&r.push(ch(n.getNode())),wh(e,r,n.getNode(),t)}function wh(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return Hm(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eo,Sh=function(){function e(){this.views=new Map}return e}();function wy(e){I(!eo,"__referenceConstructor has already been defined"),eo=e}function Sy(){return I(eo,"Reference.ts has not been loaded"),eo}function Ty(e){return e.views.size===0}function Wa(e,t,n,r){var i,o,s=t.source.queryId;if(s!==null){var a=e.views.get(s);return I(a!=null,"SyncTree gave us an op for an invalid query."),pu(a,t,n,r)}else{var l=[];try{for(var u=Je(e.views.values()),c=u.next();!c.done;c=u.next()){var a=c.value;l=l.concat(pu(a,t,n,r))}}catch(f){i={error:f}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}return l}}function Th(e,t,n,r,i){var o=t._queryIdentifier,s=e.views.get(o);if(!s){var a=Ji(n,i?r:null),l=!1;a?l=!0:r instanceof V?(a=La(n,r),l=!1):(a=V.EMPTY_NODE,l=!1);var u=wo(new cn(a,l,!1),new cn(r,i,!1));return new gy(t,u)}return s}function Iy(e,t,n,r,i,o){var s=Th(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),Ey(s,n),Cy(s,n)}function Ry(e,t,n,r){var i,o,s=t._queryIdentifier,a=[],l=[],u=fn(e);if(s==="default")try{for(var c=Je(e.views.entries()),f=c.next();!f.done;f=c.next()){var h=We(f.value,2),d=h[0],_=h[1];l=l.concat(du(_,n,r)),hu(_)&&(e.views.delete(d),_.query._queryParams.loadsAllData()||a.push(_.query))}}catch(m){i={error:m}}finally{try{f&&!f.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}else{var _=e.views.get(s);_&&(l=l.concat(du(_,n,r)),hu(_)&&(e.views.delete(s),_.query._queryParams.loadsAllData()||a.push(_.query)))}return u&&!fn(e)&&a.push(new(Sy())(t._repo,t._path)),{removed:a,events:l}}function Ih(e){var t,n,r=[];try{for(var i=Je(e.views.values()),o=i.next();!o.done;o=i.next()){var s=o.value;s.query._queryParams.loadsAllData()||r.push(s)}}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function on(e,t){var n,r,i=null;try{for(var o=Je(e.views.values()),s=o.next();!s.done;s=o.next()){var a=s.value;i=i||by(a,t)}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function Rh(e,t){var n=t._queryParams;if(n.loadsAllData())return To(e);var r=t._queryIdentifier;return e.views.get(r)}function Ah(e,t){return Rh(e,t)!=null}function fn(e){return To(e)!=null}function To(e){var t,n;try{for(var r=Je(e.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var to;function Ay(e){I(!to,"__referenceConstructor has already been defined"),to=e}function xy(){return I(to,"Reference.ts has not been loaded"),to}var Oy=1,vu=function(){function e(t){this.listenProvider_=t,this.syncPointTree_=new Ze(null),this.pendingWriteTree_=oy(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return e}();function Ua(e,t,n,r,i){return zm(e.pendingWriteTree_,t,n,r,i),i?Er(e,new Co(Na(),t,n)):[]}function Py(e,t,n,r){Km(e.pendingWriteTree_,t,n,r);var i=Ze.fromObject(n);return Er(e,new Da(Na(),t,i))}function tn(e,t,n){n===void 0&&(n=!1);var r=Ym(e.pendingWriteTree_,t),i=qm(e.pendingWriteTree_,t);if(i){var o=new Ze(null);return r.snap!=null?o=o.set(K(),!0):Ce(r.children,function(s){o=o.set(new te(s),!0)}),Er(e,new jm(r.path,o,n))}else return[]}function vi(e,t,n){return Er(e,new Co(Ma(),t,n))}function Ny(e,t,n){var r=Ze.fromObject(n);return Er(e,new Da(Ma(),t,r))}function My(e,t){return Er(e,new ph(Ma(),t))}function ky(e,t,n){var r=ja(e,n);if(r){var i=Va(r),o=i.path,s=i.queryId,a=Ue(o,t),l=new ph(ka(s),a);return Ha(e,o,l)}else return[]}function Us(e,t,n,r){var i=t._path,o=e.syncPointTree_.get(i),s=[];if(o&&(t._queryIdentifier==="default"||Ah(o,t))){var a=Ry(o,t,n,r);Ty(o)&&(e.syncPointTree_=e.syncPointTree_.remove(i));var l=a.removed;s=a.events;var u=l.findIndex(function(R){return R._queryParams.loadsAllData()})!==-1,c=e.syncPointTree_.findOnPath(i,function(R,N){return fn(N)});if(u&&!c){var f=e.syncPointTree_.subtree(i);if(!f.isEmpty())for(var h=By(f),d=0;d<h.length;++d){var _=h[d],m=_.query,b=Ph(e,_);e.listenProvider_.startListening(Hr(m),no(e,m),b.hashFn,b.onComplete)}}if(!c&&l.length>0&&!r)if(u){var C=null;e.listenProvider_.stopListening(Hr(t),C)}else l.forEach(function(R){var N=e.queryToTagMap.get(Ro(R));e.listenProvider_.stopListening(Hr(R),N)});Wy(e,l)}return s}function Dy(e,t,n,r){var i=ja(e,r);if(i!=null){var o=Va(i),s=o.path,a=o.queryId,l=Ue(s,t),u=new Co(ka(a),l,n);return Ha(e,s,u)}else return[]}function Ly(e,t,n,r){var i=ja(e,r);if(i){var o=Va(i),s=o.path,a=o.queryId,l=Ue(s,t),u=Ze.fromObject(n),c=new Da(ka(a),l,u);return Ha(e,s,c)}else return[]}function _u(e,t,n){var r=t._path,i=null,o=!1;e.syncPointTree_.foreachOnPath(r,function(m,b){var C=Ue(m,r);i=i||on(b,C),o=o||fn(b)});var s=e.syncPointTree_.get(r);s?(o=o||fn(s),i=i||on(s,K())):(s=new Sh,e.syncPointTree_=e.syncPointTree_.set(r,s));var a;if(i!=null)a=!0;else{a=!1,i=V.EMPTY_NODE;var l=e.syncPointTree_.subtree(r);l.foreachChild(function(m,b){var C=on(b,K());C&&(i=i.updateImmediateChild(m,C))})}var u=Ah(s,t);if(!u&&!t._queryParams.loadsAllData()){var c=Ro(t);I(!e.queryToTagMap.has(c),"View does not exist, but we have a tag");var f=Uy();e.queryToTagMap.set(c,f),e.tagToQueryMap.set(f,c)}var h=So(e.pendingWriteTree_,r),d=Iy(s,t,n,h,i,a);if(!u&&!o){var _=Rh(s,t);d=d.concat(jy(e,t,_))}return d}function Io(e,t,n){var r=!0,i=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,function(s,a){var l=Ue(s,t),u=on(a,l);if(u)return u});return mh(i,t,o,n,r)}function Fy(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,function(u,c){var f=Ue(u,n);r=r||on(c,f)});var i=e.syncPointTree_.get(n);i?r=r||on(i,K()):(i=new Sh,e.syncPointTree_=e.syncPointTree_.set(n,i));var o=r!=null,s=o?new cn(r,!0,!1):null,a=So(e.pendingWriteTree_,t._path),l=Th(i,t,a,o?s.getNode():V.EMPTY_NODE,o);return yy(l)}function Er(e,t){return xh(t,e.syncPointTree_,null,So(e.pendingWriteTree_,K()))}function xh(e,t,n,r){if(G(e.path))return Oh(e,t,n,r);var i=t.get(K());n==null&&i!=null&&(n=on(i,K()));var o=[],s=$(e.path),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){var u=n?n.getImmediateChild(s):null,c=yh(r,s);o=o.concat(xh(a,l,u,c))}return i&&(o=o.concat(Wa(i,e,r,n))),o}function Oh(e,t,n,r){var i=t.get(K());n==null&&i!=null&&(n=on(i,K()));var o=[];return t.children.inorderTraversal(function(s,a){var l=n?n.getImmediateChild(s):null,u=yh(r,s),c=e.operationForChild(s);c&&(o=o.concat(Oh(c,a,l,u)))}),i&&(o=o.concat(Wa(i,e,r,n))),o}function Ph(e,t){var n=t.query,r=no(e,n);return{hashFn:function(){var i=my(t)||V.EMPTY_NODE;return i.hash()},onComplete:function(i){if(i==="ok")return r?ky(e,n._path,r):My(e,n._path);var o=Ig(i,n);return Us(e,n,null,o)}}}function no(e,t){var n=Ro(t);return e.queryToTagMap.get(n)}function Ro(e){return e._path.toString()+"$"+e._queryIdentifier}function ja(e,t){return e.tagToQueryMap.get(t)}function Va(e){var t=e.indexOf("$");return I(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new te(e.substr(0,t))}}function Ha(e,t,n){var r=e.syncPointTree_.get(t);I(r,"Missing sync point for query tag that we're tracking");var i=So(e.pendingWriteTree_,t);return Wa(r,n,i,null)}function By(e){return e.fold(function(t,n,r){if(n&&fn(n)){var i=To(n);return[i]}else{var o=[];return n&&(o=Ih(n)),Ce(r,function(s,a){o=o.concat(a)}),o}})}function Hr(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(xy())(e._repo,e._path):e}function Wy(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=Ro(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}function Uy(){return Oy++}function jy(e,t,n){var r=t._path,i=no(e,t),o=Ph(e,n),s=e.listenProvider_.startListening(Hr(t),i,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(r);if(i)I(!fn(a.value),"If we're adding a query, it shouldn't be shadowed");else for(var l=a.fold(function(f,h,d){if(!G(f)&&h&&fn(h))return[To(h).query];var _=[];return h&&(_=_.concat(Ih(h).map(function(m){return m.query}))),Ce(d,function(m,b){_=_.concat(b)}),_}),u=0;u<l.length;++u){var c=l[u];e.listenProvider_.stopListening(Hr(c),no(e,c))}return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vy=function(){function e(t){this.node_=t}return e.prototype.getImmediateChild=function(t){var n=this.node_.getImmediateChild(t);return new e(n)},e.prototype.node=function(){return this.node_},e}(),Hy=function(){function e(t,n){this.syncTree_=t,this.path_=n}return e.prototype.getImmediateChild=function(t){var n=de(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return Io(this.syncTree_,this.path_)},e}(),$y=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},gu=function(e,t,n){if(!e||typeof e!="object")return e;if(I(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return Gy(e[".sv"],t,n);if(typeof e[".sv"]=="object")return Qy(e[".sv"],t);I(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},Gy=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:I(!1,"Unexpected server value: "+e)}},Qy=function(e,t,n){e.hasOwnProperty("increment")||I(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;typeof r!="number"&&I(!1,"Unexpected increment value: "+r);var i=t.node();if(I(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var o=i,s=o.getValue();return typeof s!="number"?r:s+r},Nh=function(e,t,n,r){return Ga(t,new Hy(n,e),r)},$a=function(e,t,n){return Ga(e,new Vy(t),n)};function Ga(e,t,n){var r=e.getPriority().val(),i=gu(r,t.getImmediateChild(".priority"),n),o;if(e.isLeafNode()){var s=e,a=gu(s.getValue(),t,n);return a!==s.getValue()||i!==s.getPriority().val()?new ur(a,_e(i)):e}else{var l=e;return o=l,i!==l.getPriority().val()&&(o=o.updatePriority(new ur(i))),l.forEachChild(fe,function(u,c){var f=Ga(c,t.getImmediateChild(u),n);f!==c&&(o=o.updateImmediateChild(u,f))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qa=function(){function e(t,n,r){t===void 0&&(t=""),n===void 0&&(n=null),r===void 0&&(r={children:{},childCount:0}),this.name=t,this.parent=n,this.node=r}return e}();function Ao(e,t){for(var n=t instanceof te?t:new te(t),r=e,i=$(n);i!==null;){var o=Nn(r.node.children,i)||{children:{},childCount:0};r=new Qa(i,r,o),n=le(n),i=$(n)}return r}function Bn(e){return e.node.value}function za(e,t){e.node.value=t,js(e)}function Mh(e){return e.node.childCount>0}function zy(e){return Bn(e)===void 0&&!Mh(e)}function xo(e,t){Ce(e.node.children,function(n,r){t(new Qa(n,e,r))})}function kh(e,t,n,r){n&&!r&&t(e),xo(e,function(i){kh(i,t,!0,r)}),n&&r&&t(e)}function Ky(e,t,n){for(var r=e.parent;r!==null;){if(t(r))return!0;r=r.parent}return!1}function _i(e){return new te(e.parent===null?e.name:_i(e.parent)+"/"+e.name)}function js(e){e.parent!==null&&Yy(e.parent,e.name,e)}function Yy(e,t,n){var r=zy(n),i=Xe(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,js(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,js(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qy=/[\[\].#$\/\u0000-\u001F\u007F]/,Jy=/[\[\].#$\u0000-\u001F\u007F]/,rs=10*1024*1024,Oo=function(e){return typeof e=="string"&&e.length!==0&&!qy.test(e)},Dh=function(e){return typeof e=="string"&&e.length!==0&&!Jy.test(e)},Xy=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Dh(e)},ii=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!yo(e)||e&&typeof e=="object"&&Xe(e,".sv")},Mt=function(e,t,n,r){r&&t===void 0||gi(He(e,"value"),t,n)},gi=function(e,t,n){var r=n instanceof te?new sm(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+wn(r));if(typeof t=="function")throw new Error(e+"contains a function "+wn(r)+" with contents = "+t.toString());if(yo(t))throw new Error(e+"contains "+t.toString()+" "+wn(r));if(typeof t=="string"&&t.length>rs/3&&mo(t)>rs)throw new Error(e+"contains a string greater than "+rs+" utf8 bytes "+wn(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){var i=!1,o=!1;if(Ce(t,function(s,a){if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!Oo(s)))throw new Error(e+" contains an invalid key ("+s+") "+wn(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);am(r,s),gi(e,a,r),lm(r)}),i&&o)throw new Error(e+' contains ".value" child '+wn(r)+" in addition to actual children.")}},Zy=function(e,t){var n,r;for(n=0;n<t.length;n++){r=t[n];for(var i=ti(r),o=0;o<i.length;o++)if(!(i[o]===".priority"&&o===i.length-1)){if(!Oo(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(om);var s=null;for(n=0;n<t.length;n++){if(r=t[n],s!==null&&rt(s,r))throw new Error(e+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}},Lh=function(e,t,n,r){var i=He(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var o=[];Ce(t,function(s,a){var l=new te(s);if(gi(i,a,de(n,l)),Ia(l)===".priority"&&!ii(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(l)}),Zy(i,o)},Ka=function(e,t,n){if(yo(t))throw new Error(He(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ii(t))throw new Error(He(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")},eb=function(e,t,n){if(t!==void 0)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(He(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},mi=function(e,t,n,r){if(n!==void 0&&!Oo(n))throw new Error(He(e,t)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},oi=function(e,t,n,r){if(!Dh(n))throw new Error(He(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},tb=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),oi(e,t,n)},it=function(e,t){if($(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},Fh=function(e,t){var n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Oo(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Xy(n))throw new Error(He(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)},nb=function(e,t,n,r){if(n!==void 0&&typeof n!="boolean")throw new Error(He(e,t)+"must be a boolean.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rb=function(){function e(){this.eventLists_=[],this.recursionDepth_=0}return e}();function Po(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();n!==null&&!Ra(o,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function Ya(e,t,n){Po(e,n),Bh(e,function(r){return Ra(r,t)})}function at(e,t,n){Po(e,n),Bh(e,function(r){return rt(r,t)||rt(t,r)})}function Bh(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i){var o=i.path;t(o)?(ib(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function ib(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(n!==null){e.events[t]=null;var r=n.getEventRunner();An&&Te("event: "+n.toString()),yr(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wh="repo_interrupt",ob=25,sb=function(){function e(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new rb,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Yi(),this.transactionQueueTree_=new Qa,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function ab(e,t,n){if(e.stats_=Sa(e.repoInfo_),e.forceRestClient_||Ag())e.server_=new km(e.repoInfo_,function(r,i,o,s){mu(e,r,i,o,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(function(){return yu(e,!0)},0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ee(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new xn(e.repoInfo_,t,function(r,i,o,s){mu(e,r,i,o,s)},function(r){yu(e,r)},function(r){ub(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(function(r){e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(function(r){e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=kg(e.repoInfo_,function(){return new Wm(e.stats_,e.server_)}),e.infoData_=new Dm,e.infoSyncTree_=new vu({startListening:function(r,i,o,s){var a=[],l=e.infoData_.getNode(r._path);return l.isEmpty()||(a=vi(e.infoSyncTree_,r._path,l),setTimeout(function(){s("ok")},0)),a},stopListening:function(){}}),qa(e,"connected",!1),e.serverSyncTree_=new vu({startListening:function(r,i,o,s){return e.server_.listen(r,o,i,function(a,l){var u=s(a,l);at(e.eventQueue_,r._path,u)}),[]},stopListening:function(r,i){e.server_.unlisten(r,i)}})}function Uh(e){var t=e.infoData_.getNode(new te(".info/serverTimeOffset")),n=t.val()||0;return new Date().getTime()+n}function yi(e){return $y({timestamp:Uh(e)})}function mu(e,t,n,r,i){e.dataUpdateCount++;var o=new te(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var s=[];if(i)if(r){var a=Hi(n,function(h){return _e(h)});s=Ly(e.serverSyncTree_,o,a,i)}else{var l=_e(n);s=Dy(e.serverSyncTree_,o,l,i)}else if(r){var u=Hi(n,function(h){return _e(h)});s=Ny(e.serverSyncTree_,o,u)}else{var c=_e(n);s=vi(e.serverSyncTree_,o,c)}var f=o;s.length>0&&(f=dr(e,o)),at(e.eventQueue_,f,s)}function lb(e,t){e.interceptServerDataCallback_=t}function yu(e,t){qa(e,"connected",t),t===!1&&hb(e)}function ub(e,t){Ce(t,function(n,r){qa(e,n,r)})}function qa(e,t,n){var r=new te("/.info/"+t),i=_e(n);e.infoData_.updateSnapshot(r,i);var o=vi(e.infoSyncTree_,r,i);at(e.eventQueue_,r,o)}function No(e){return e.nextWriteId_++}function cb(e,t){var n=Fy(e.serverSyncTree_,t);return n!=null?Promise.resolve(n):e.server_.get(t).then(function(r){var i=_e(r).withIndex(t._queryParams.getIndex()),o=vi(e.serverSyncTree_,t._path,i);return Ya(e.eventQueue_,t._path,o),Promise.resolve(i)},function(r){return Cr(e,"get for query "+Ee(t)+" failed: "+r),Promise.reject(new Error(r))})}function Ja(e,t,n,r,i){Cr(e,"set",{path:t.toString(),value:n,priority:r});var o=yi(e),s=_e(n,r),a=Io(e.serverSyncTree_,t),l=$a(s,a,o),u=No(e),c=Ua(e.serverSyncTree_,t,l,u,!0);Po(e.eventQueue_,c),e.server_.put(t.toString(),s.val(!0),function(h,d){var _=h==="ok";_||xe("set at "+t+" failed: "+h);var m=tn(e.serverSyncTree_,u,!_);at(e.eventQueue_,t,m),hn(e,i,h,d)});var f=Za(e,t);dr(e,f),at(e.eventQueue_,f,[])}function fb(e,t,n,r){Cr(e,"update",{path:t.toString(),value:n});var i=!0,o=yi(e),s={};if(Ce(n,function(u,c){i=!1,s[u]=Nh(de(t,u),_e(c),e.serverSyncTree_,o)}),i)Te("update() called with empty data.  Don't do anything."),hn(e,r,"ok",void 0);else{var a=No(e),l=Py(e.serverSyncTree_,t,s,a);Po(e.eventQueue_,l),e.server_.merge(t.toString(),n,function(u,c){var f=u==="ok";f||xe("update at "+t+" failed: "+u);var h=tn(e.serverSyncTree_,a,!f),d=h.length>0?dr(e,t):t;at(e.eventQueue_,d,h),hn(e,r,u,c)}),Ce(n,function(u){var c=Za(e,de(t,u));dr(e,c)}),at(e.eventQueue_,t,[])}}function hb(e){Cr(e,"onDisconnectEvents");var t=yi(e),n=Yi();ks(e.onDisconnect_,K(),function(i,o){var s=Nh(i,o,e.serverSyncTree_,t);br(n,i,s)});var r=[];ks(n,K(),function(i,o){r=r.concat(vi(e.serverSyncTree_,i,o));var s=Za(e,i);dr(e,s)}),e.onDisconnect_=Yi(),at(e.eventQueue_,K(),r)}function db(e,t,n){e.server_.onDisconnectCancel(t.toString(),function(r,i){r==="ok"&&Ms(e.onDisconnect_,t),hn(e,n,r,i)})}function bu(e,t,n,r){var i=_e(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),function(o,s){o==="ok"&&br(e.onDisconnect_,t,i),hn(e,r,o,s)})}function pb(e,t,n,r,i){var o=_e(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),function(s,a){s==="ok"&&br(e.onDisconnect_,t,o),hn(e,i,s,a)})}function vb(e,t,n,r){if(Ts(n)){Te("onDisconnect().update() called with empty data.  Don't do anything."),hn(e,r,"ok",void 0);return}e.server_.onDisconnectMerge(t.toString(),n,function(i,o){i==="ok"&&Ce(n,function(s,a){var l=_e(a);br(e.onDisconnect_,de(t,s),l)}),hn(e,r,i,o)})}function _b(e,t,n){var r;$(t._path)===".info"?r=_u(e.infoSyncTree_,t,n):r=_u(e.serverSyncTree_,t,n),Ya(e.eventQueue_,t._path,r)}function Vs(e,t,n){var r;$(t._path)===".info"?r=Us(e.infoSyncTree_,t,n):r=Us(e.serverSyncTree_,t,n),Ya(e.eventQueue_,t._path,r)}function jh(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Wh)}function gb(e){e.persistentConnection_&&e.persistentConnection_.resume(Wh)}function mb(e,t){if(t===void 0&&(t=!1),!(typeof console>"u")){var n;t?(e.statsListener_||(e.statsListener_=new dh(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce(function(i,o){return Math.max(o.length,i)},0);Ce(n,function(i,o){for(var s=i,a=i.length;a<r+2;a++)s+=" ";console.log(s+o)})}}function yb(e,t){e.stats_.incrementCounter(t),Um(e.statsReporter_,t)}function Cr(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),Te.apply(void 0,ln([r],We(t)))}function hn(e,t,n,r){t&&yr(function(){if(n==="ok")t(null);else{var i=(n||"error").toUpperCase(),o=i;r&&(o+=": "+r);var s=new Error(o);s.code=i,t(s)}})}function bb(e,t,n,r,i,o){Cr(e,"transaction on "+t);var s={path:t,update:n,onComplete:r,status:null,order:Nf(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=Xa(e,t,void 0);s.currentInputSnapshot=a;var l=s.update(a.val());if(l===void 0)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{gi("transaction failed: Data returned ",l,s.path),s.status=0;var u=Ao(e.transactionQueueTree_,t),c=Bn(u)||[];c.push(s),za(u,c);var f=void 0;if(typeof l=="object"&&l!==null&&Xe(l,".priority"))f=Nn(l,".priority"),I(ii(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{var h=Io(e.serverSyncTree_,t)||V.EMPTY_NODE;f=h.getPriority().val()}var d=yi(e),_=_e(l,f),m=$a(_,a,d);s.currentOutputSnapshotRaw=_,s.currentOutputSnapshotResolved=m,s.currentWriteId=No(e);var b=Ua(e.serverSyncTree_,t,m,s.currentWriteId,s.applyLocally);at(e.eventQueue_,t,b),Mo(e,e.transactionQueueTree_)}}function Xa(e,t,n){return Io(e.serverSyncTree_,t,n)||V.EMPTY_NODE}function Mo(e,t){if(t===void 0&&(t=e.transactionQueueTree_),t||ko(e,t),Bn(t)){var n=Hh(e,t);I(n.length>0,"Sending zero length transaction queue");var r=n.every(function(i){return i.status===0});r&&Eb(e,_i(t),n)}else Mh(t)&&xo(t,function(i){Mo(e,i)})}function Eb(e,t,n){for(var r=n.map(function(h){return h.currentWriteId}),i=Xa(e,t,r),o=i,s=i.hash(),a=0;a<n.length;a++){var l=n[a];I(l.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),l.status=1,l.retryCount++;var u=Ue(t,l.path);o=o.updateChild(u,l.currentOutputSnapshotRaw)}var c=o.val(!0),f=t;e.server_.put(f.toString(),c,function(h){Cr(e,"transaction put response",{path:f.toString(),status:h});var d=[];if(h==="ok"){for(var _=[],m=function(C){n[C].status=2,d=d.concat(tn(e.serverSyncTree_,n[C].currentWriteId)),n[C].onComplete&&_.push(function(){return n[C].onComplete(null,!0,n[C].currentOutputSnapshotResolved)}),n[C].unwatcher()},b=0;b<n.length;b++)m(b);ko(e,Ao(e.transactionQueueTree_,t)),Mo(e,e.transactionQueueTree_),at(e.eventQueue_,t,d);for(var b=0;b<_.length;b++)yr(_[b])}else{if(h==="datastale")for(var b=0;b<n.length;b++)n[b].status===3?n[b].status=4:n[b].status=0;else{xe("transaction at "+f.toString()+" failed: "+h);for(var b=0;b<n.length;b++)n[b].status=4,n[b].abortReason=h}dr(e,t)}},s)}function dr(e,t){var n=Vh(e,t),r=_i(n),i=Hh(e,n);return Cb(e,i,r),r}function Cb(e,t,n){if(t.length!==0){for(var r=[],i=[],o=t.filter(function(u){return u.status===0}),s=o.map(function(u){return u.currentWriteId}),a=function(u){var c=t[u],f=Ue(n,c.path),h=!1,d;if(I(f!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)h=!0,d=c.abortReason,i=i.concat(tn(e.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=ob)h=!0,d="maxretry",i=i.concat(tn(e.serverSyncTree_,c.currentWriteId,!0));else{var _=Xa(e,c.path,s);c.currentInputSnapshot=_;var m=t[u].update(_.val());if(m!==void 0){gi("transaction failed: Data returned ",m,c.path);var b=_e(m),C=typeof m=="object"&&m!=null&&Xe(m,".priority");C||(b=b.updatePriority(_.getPriority()));var R=c.currentWriteId,N=yi(e),D=$a(b,_,N);c.currentOutputSnapshotRaw=b,c.currentOutputSnapshotResolved=D,c.currentWriteId=No(e),s.splice(s.indexOf(R),1),i=i.concat(Ua(e.serverSyncTree_,c.path,D,c.currentWriteId,c.applyLocally)),i=i.concat(tn(e.serverSyncTree_,R,!0))}else h=!0,d="nodata",i=i.concat(tn(e.serverSyncTree_,c.currentWriteId,!0))}at(e.eventQueue_,n,i),i=[],h&&(t[u].status=2,function(Y){setTimeout(Y,Math.floor(0))}(t[u].unwatcher),t[u].onComplete&&(d==="nodata"?r.push(function(){return t[u].onComplete(null,!1,t[u].currentInputSnapshot)}):r.push(function(){return t[u].onComplete(new Error(d),!1,null)})))},l=0;l<t.length;l++)a(l);ko(e,e.transactionQueueTree_);for(var l=0;l<r.length;l++)yr(r[l]);Mo(e,e.transactionQueueTree_)}}function Vh(e,t){var n,r=e.transactionQueueTree_;for(n=$(t);n!==null&&Bn(r)===void 0;)r=Ao(r,n),t=le(t),n=$(t);return r}function Hh(e,t){var n=[];return $h(e,t,n),n.sort(function(r,i){return r.order-i.order}),n}function $h(e,t,n){var r=Bn(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);xo(t,function(o){$h(e,o,n)})}function ko(e,t){var n=Bn(t);if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,za(t,n.length>0?n:void 0)}xo(t,function(o){ko(e,o)})}function Za(e,t){var n=_i(Vh(e,t)),r=Ao(e.transactionQueueTree_,t);return Ky(r,function(i){is(e,i)}),is(e,r),kh(r,function(i){is(e,i)}),n}function is(e,t){var n=Bn(t);if(n){for(var r=[],i=[],o=-1,s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(I(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(I(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(tn(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?za(t,void 0):n.length=o+1,at(e.eventQueue_,_i(t),i);for(var s=0;s<r.length;s++)yr(r[s])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function Sb(e){var t,n,r={};e.charAt(0)==="?"&&(e=e.substring(1));try{for(var i=Je(e.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value;if(s.length!==0){var a=s.split("=");a.length===2?r[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):xe("Invalid query segment '"+s+"' in query '"+e+"'")}}}catch(l){t={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}var Hs=function(e,t){var n=Tb(e),r=n.namespace;n.domain==="firebase.com"&&Pt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Pt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Eg();var i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new wa(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new te(n.pathString)}},Tb=function(e){var t="",n="",r="",i="",o="",s=!0,a="https",l=443;if(typeof e=="string"){var u=e.indexOf("//");u>=0&&(a=e.substring(0,u-1),e=e.substring(u+2));var c=e.indexOf("/");c===-1&&(c=e.length);var f=e.indexOf("?");f===-1&&(f=e.length),t=e.substring(0,Math.min(c,f)),c<f&&(i=wb(e.substring(c,f)));var h=Sb(e.substring(Math.min(e.length,f)));u=t.indexOf(":"),u>=0?(s=a==="https"||a==="wss",l=parseInt(t.substring(u+1),10)):u=t.length;var d=t.slice(0,u);if(d.toLowerCase()==="localhost")n="localhost";else if(d.split(".").length<=2)n=d;else{var _=t.indexOf(".");r=t.substring(0,_).toLowerCase(),n=t.substring(_+1),o=r}"ns"in h&&(o=h.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gh=function(){function e(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return e.prototype.getPath=function(){var t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Ee(this.snapshot.exportVal())},e}(),Qh=function(){function e(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zh=function(){function e(t,n){this.snapshotCallback=t,this.cancelCallback=n}return e.prototype.onValue=function(t,n){this.snapshotCallback.call(null,t,n)},e.prototype.onCancel=function(t){return I(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ib=function(){function e(t,n){this._repo=t,this._path=n}return e.prototype.cancel=function(){var t=new Ve;return db(this._repo,this._path,t.wrapCallback(function(){})),t.promise},e.prototype.remove=function(){it("OnDisconnect.remove",this._path);var t=new Ve;return bu(this._repo,this._path,null,t.wrapCallback(function(){})),t.promise},e.prototype.set=function(t){it("OnDisconnect.set",this._path),Mt("OnDisconnect.set",t,this._path,!1);var n=new Ve;return bu(this._repo,this._path,t,n.wrapCallback(function(){})),n.promise},e.prototype.setWithPriority=function(t,n){it("OnDisconnect.setWithPriority",this._path),Mt("OnDisconnect.setWithPriority",t,this._path,!1),Ka("OnDisconnect.setWithPriority",n);var r=new Ve;return pb(this._repo,this._path,t,n,r.wrapCallback(function(){})),r.promise},e.prototype.update=function(t){it("OnDisconnect.update",this._path),Lh("OnDisconnect.update",t,this._path);var n=new Ve;return vb(this._repo,this._path,t,n.wrapCallback(function(){})),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt=function(){function e(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return Object.defineProperty(e.prototype,"key",{get:function(){return G(this._path)?null:Ia(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new kt(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var t=ou(this._queryParams),n=ba(t);return n==="{}"?"default":n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return ou(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(t=et(t),!(t instanceof e))return!1;var n=this._repo===t._repo,r=Ra(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+im(this._path)},e}();function Do(e,t){if(e._orderByCalled===!0)throw new Error(t+": You can't combine multiple orderBy calls.")}function _n(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===xt){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){var o=e.getIndexStartName();if(o!==$t)throw new Error(r);if(typeof t!="string")throw new Error(i)}if(e.hasEnd()){var s=e.getIndexEndName();if(s!==Nt)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(e.getIndex()===fe){if(t!=null&&!ii(t)||n!=null&&!ii(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(I(e.getIndex()instanceof xa||e.getIndex()===Oa,"unknown index type."),t!=null&&typeof t=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Lo(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var kt=function(e){ge(t,e);function t(n,r){return e.call(this,n,r,new hh,!1)||this}return Object.defineProperty(t.prototype,"parent",{get:function(){var n=th(this._path);return n===null?null:new t(this._repo,n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var n=this;n.parent!==null;)n=n.parent;return n},enumerable:!1,configurable:!0}),t}(lt),Fo=function(){function e(t,n,r){this._node=t,this.ref=n,this._index=r}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new te(t),r=kn(this.ref,t);return new e(this._node.getChild(n),r,fe)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;if(this._node.isLeafNode())return!1;var r=this._node;return!!r.forEachChild(this._index,function(i,o){return t(new e(o,kn(n.ref,i),fe))})},e.prototype.hasChild=function(t){var n=new te(t);return!this._node.getChild(n).isEmpty()},e.prototype.hasChildren=function(){return this._node.isLeafNode()?!1:!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function Kh(e,t){return e=et(e),e._checkNotDeleted("ref"),t!==void 0?kn(e._root,t):e._root}function Eu(e,t){e=et(e),e._checkNotDeleted("refFromURL");var n=Hs(t,e._repo.repoInfo_.nodeAdmin);Fh("refFromURL",n);var r=n.repoInfo;return!e._repo.repoInfo_.isCustomHost()&&r.host!==e._repo.repoInfo_.host&&Pt("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),Kh(e,n.path.toString())}function kn(e,t){return e=et(e),$(e._path)===null?tb("child","path",t):oi("child","path",t),new kt(e._repo,de(e._path,t))}function Rb(e,t){e=et(e),it("push",e._path),Mt("push",t,e._path,!0);var n=Uh(e._repo),r=Im(n),i=kn(e,r),o=kn(e,r),s;return t!=null?s=el(o,t).then(function(){return o}):s=Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}function Ab(e){return it("remove",e._path),el(e,null)}function el(e,t){e=et(e),it("set",e._path),Mt("set",t,e._path,!1);var n=new Ve;return Ja(e._repo,e._path,t,null,n.wrapCallback(function(){})),n.promise}function xb(e,t){e=et(e),it("setPriority",e._path),Ka("setPriority",t);var n=new Ve;return Ja(e._repo,de(e._path,".priority"),t,null,n.wrapCallback(function(){})),n.promise}function Ob(e,t,n){if(it("setWithPriority",e._path),Mt("setWithPriority",t,e._path,!1),Ka("setWithPriority",n),e.key===".length"||e.key===".keys")throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new Ve;return Ja(e._repo,e._path,t,n,r.wrapCallback(function(){})),r.promise}function Pb(e,t){Lh("update",t,e._path);var n=new Ve;return fb(e._repo,e._path,t,n.wrapCallback(function(){})),n.promise}function Nb(e){return e=et(e),cb(e._repo,e).then(function(t){return new Fo(t,new kt(e._repo,e._path),e._queryParams.getIndex())})}var Yh=function(){function e(t){this.callbackContext=t}return e.prototype.respondsTo=function(t){return t==="value"},e.prototype.createEvent=function(t,n){var r=n._queryParams.getIndex();return new Gh("value",this,new Fo(t.snapshotNode,new kt(n._repo,n._path),r))},e.prototype.getEventRunner=function(t){var n=this;return t.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(t.error)}:function(){return n.callbackContext.onValue(t.snapshot,null)}},e.prototype.createCancelEvent=function(t,n){return this.callbackContext.hasCancelCallback?new Qh(this,t,n):null},e.prototype.matches=function(t){return t instanceof e?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1},e.prototype.hasAnyCallback=function(){return this.callbackContext!==null},e}(),qh=function(){function e(t,n){this.eventType=t,this.callbackContext=n}return e.prototype.respondsTo=function(t){var n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n},e.prototype.createCancelEvent=function(t,n){return this.callbackContext.hasCancelCallback?new Qh(this,t,n):null},e.prototype.createEvent=function(t,n){I(t.childName!=null,"Child events should have a childName.");var r=kn(new kt(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new Gh(t.type,this,new Fo(t.snapshotNode,r,i),t.prevName)},e.prototype.getEventRunner=function(t){var n=this;return t.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(t.error)}:function(){return n.callbackContext.onValue(t.snapshot,t.prevName)}},e.prototype.matches=function(t){return t instanceof e?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function bi(e,t,n,r,i){var o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){var s=n,a=function(c,f){Vs(e._repo,e,u),s(c,f)};a.userCallback=n.userCallback,a.context=n.context,n=a}var l=new zh(n,o||void 0),u=t==="value"?new Yh(l):new qh(t,l);return _b(e._repo,e,u),function(){return Vs(e._repo,e,u)}}function $s(e,t,n,r){return bi(e,"value",t,n,r)}function Cu(e,t,n,r){return bi(e,"child_added",t,n,r)}function wu(e,t,n,r){return bi(e,"child_changed",t,n,r)}function Su(e,t,n,r){return bi(e,"child_moved",t,n,r)}function Tu(e,t,n,r){return bi(e,"child_removed",t,n,r)}function Iu(e,t,n){var r=null,i=n?new zh(n):null;t==="value"?r=new Yh(i):t&&(r=new qh(t,i)),Vs(e._repo,e,r)}var gt=function(){function e(){}return e}(),Jh=function(e){ge(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){Mt("endAt",this._value,n._path,!0);var r=Ns(n._queryParams,this._value,this._key);if(Lo(r),_n(r),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new lt(n._repo,n._path,r,n._orderByCalled)},t}(gt);function Mb(e,t){return mi("endAt","key",t),new Jh(e,t)}var kb=function(e){ge(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){Mt("endBefore",this._value,n._path,!1);var r=Mm(n._queryParams,this._value,this._key);if(Lo(r),_n(r),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new lt(n._repo,n._path,r,n._orderByCalled)},t}(gt);function Db(e,t){return mi("endBefore","key",t),new kb(e,t)}var Xh=function(e){ge(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){Mt("startAt",this._value,n._path,!0);var r=Ps(n._queryParams,this._value,this._key);if(Lo(r),_n(r),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new lt(n._repo,n._path,r,n._orderByCalled)},t}(gt);function Lb(e,t){return e===void 0&&(e=null),mi("startAt","key",t),new Xh(e,t)}var Fb=function(e){ge(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){Mt("startAfter",this._value,n._path,!1);var r=Nm(n._queryParams,this._value,this._key);if(Lo(r),_n(r),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new lt(n._repo,n._path,r,n._orderByCalled)},t}(gt);function Bb(e,t){return mi("startAfter","key",t),new Fb(e,t)}var Wb=function(e){ge(t,e);function t(n){var r=e.call(this)||this;return r._limit=n,r}return t.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new lt(n._repo,n._path,Om(n._queryParams,this._limit),n._orderByCalled)},t}(gt);function Ub(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Wb(e)}var jb=function(e){ge(t,e);function t(n){var r=e.call(this)||this;return r._limit=n,r}return t.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new lt(n._repo,n._path,Pm(n._queryParams,this._limit),n._orderByCalled)},t}(gt);function Vb(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new jb(e)}var Hb=function(e){ge(t,e);function t(n){var r=e.call(this)||this;return r._path=n,r}return t.prototype._apply=function(n){Do(n,"orderByChild");var r=new te(this._path);if(G(r))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var i=new xa(r),o=Eo(n._queryParams,i);return _n(o),new lt(n._repo,n._path,o,!0)},t}(gt);function $b(e){if(e==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(e==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(e==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return oi("orderByChild","path",e),new Hb(e)}var Gb=function(e){ge(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._apply=function(n){Do(n,"orderByKey");var r=Eo(n._queryParams,xt);return _n(r),new lt(n._repo,n._path,r,!0)},t}(gt);function Qb(){return new Gb}var zb=function(e){ge(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._apply=function(n){Do(n,"orderByPriority");var r=Eo(n._queryParams,fe);return _n(r),new lt(n._repo,n._path,r,!0)},t}(gt);function Kb(){return new zb}var Yb=function(e){ge(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._apply=function(n){Do(n,"orderByValue");var r=Eo(n._queryParams,Oa);return _n(r),new lt(n._repo,n._path,r,!0)},t}(gt);function qb(){return new Yb}var Jb=function(e){ge(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){if(Mt("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Jh(this._value,this._key)._apply(new Xh(this._value,this._key)._apply(n))},t}(gt);function Xb(e,t){return mi("equalTo","key",t),new Jb(e,t)}function ct(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var o=et(e);try{for(var s=Je(r),a=s.next();!a.done;a=s.next()){var l=a.value;o=l._apply(o)}}catch(u){t={error:u}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return o}wy(kt);Ay(kt);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zb="FIREBASE_DATABASE_EMULATOR_HOST",Gs={},Zh=!1;function eE(e,t,n,r){e.repoInfo_=new wa(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}function ed(e,t,n,r,i){var o=r||e.options.databaseURL;o===void 0&&(e.options.projectId||Pt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Te("Using default host for project ",e.options.projectId),o=e.options.projectId+"-default-rtdb.firebaseio.com");var s=Hs(o,i),a=s.repoInfo,l,u=void 0;typeof process<"u"&&(u=_g[Zb]),u?(l=!0,o="http://"+u+"?ns="+a.namespace,s=Hs(o,i),a=s.repoInfo):l=!s.repoInfo.secure;var c=i&&l?new Ur(Ur.OWNER):new Og(e.name,e.options,t);Fh("Invalid Firebase Database URL",s),G(s.path)||Pt("Database URL must point to the root of a Firebase Database (not including a child path).");var f=nE(a,e,c,new xg(e.name,n));return new iE(f,e)}function tE(e,t){var n=Gs[t];(!n||n[e.key]!==e)&&Pt("Database "+t+"("+e.repoInfo_+") has already been deleted."),jh(e),delete n[e.key]}function nE(e,t,n,r){var i=Gs[t.name];i||(i={},Gs[t.name]=i);var o=i[e.toURLString()];return o&&Pt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new sb(e,Zh,n,r),i[e.toURLString()]=o,o}function rE(e){Zh=e}var iE=function(){function e(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(ab(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new kt(this._repo,K())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){return this._rootInternal!==null&&(tE(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},e.prototype._checkNotDeleted=function(t){this._rootInternal===null&&Pt("Cannot call "+t+" on a deleted database.")},e}();function oE(e,t,n,r){r===void 0&&(r={}),e=et(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&Pt("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,o=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Pt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Ur(Ur.OWNER);else if(r.mockUserToken){var s=typeof r.mockUserToken=="string"?r.mockUserToken:S_(r.mockUserToken,e.app.options.projectId);o=new Ur(s)}eE(i,t,n,o)}function sE(e){e=et(e),e._checkNotDeleted("goOffline"),jh(e._repo)}function aE(e){e=et(e),e._checkNotDeleted("goOnline"),gb(e._repo)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lE={".sv":"timestamp"};function uE(){return lE}function cE(e){return{".sv":{increment:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fE=function(){function e(t,n){this.committed=t,this.snapshot=n}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function hE(e,t,n){var r;if(e=et(e),it("Reference.transaction",e._path),e.key===".length"||e.key===".keys")throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=(r=n==null?void 0:n.applyLocally)!==null&&r!==void 0?r:!0,o=new Ve,s=function(l,u,c){var f=null;l?o.reject(l):(f=new Fo(c,new kt(e._repo,e._path),fe),o.resolve(new fE(u,f)))},a=$s(e,function(){});return bb(e._repo,e._path,t,s,a,i),o.promise}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dE=function(){function e(t){this._delegate=t}return e.prototype.cancel=function(t){W("OnDisconnect.cancel",0,1,arguments.length),Se("OnDisconnect.cancel","onComplete",t,!0);var n=this._delegate.cancel();return t&&n.then(function(){return t(null)},function(r){return t(r)}),n},e.prototype.remove=function(t){W("OnDisconnect.remove",0,1,arguments.length),Se("OnDisconnect.remove","onComplete",t,!0);var n=this._delegate.remove();return t&&n.then(function(){return t(null)},function(r){return t(r)}),n},e.prototype.set=function(t,n){W("OnDisconnect.set",1,2,arguments.length),Se("OnDisconnect.set","onComplete",n,!0);var r=this._delegate.set(t);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},e.prototype.setWithPriority=function(t,n,r){W("OnDisconnect.setWithPriority",2,3,arguments.length),Se("OnDisconnect.setWithPriority","onComplete",r,!0);var i=this._delegate.setWithPriority(t,n);return r&&i.then(function(){return r(null)},function(o){return r(o)}),i},e.prototype.update=function(t,n){if(W("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){for(var r={},i=0;i<t.length;++i)r[""+i]=t[i];t=r,xe("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Se("OnDisconnect.update","onComplete",n,!0);var o=this._delegate.update(t);return n&&o.then(function(){return n(null)},function(s){return n(s)}),o},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pE=function(){function e(t,n){this.committed=t,this.snapshot=n}return e.prototype.toJSON=function(){return W("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $r=function(){function e(t,n){this._database=t,this._delegate=n}return e.prototype.val=function(){return W("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return W("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return W("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return W("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return W("DataSnapshot.child",0,1,arguments.length),t=String(t),oi("DataSnapshot.child","path",t),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(t){return W("DataSnapshot.hasChild",1,1,arguments.length),oi("DataSnapshot.hasChild","path",t),this._delegate.hasChild(t)},e.prototype.getPriority=function(){return W("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return W("DataSnapshot.forEach",1,1,arguments.length),Se("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(function(r){return t(new e(n._database,r))})},e.prototype.hasChildren=function(){return W("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return W("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return W("DataSnapshot.ref",0,0,arguments.length),new In(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),td=function(){function e(t,n){this.database=t,this._delegate=n}return e.prototype.on=function(t,n,r,i){var o=this,s;W("Query.on",2,4,arguments.length),Se("Query.on","callback",n,!1);var a=e.getCancelAndContextArgs_("Query.on",r,i),l=function(c,f){n.call(a.context,new $r(o.database,c),f)};l.userCallback=n,l.context=a.context;var u=(s=a.cancel)===null||s===void 0?void 0:s.bind(a.context);switch(t){case"value":return $s(this._delegate,l,u),n;case"child_added":return Cu(this._delegate,l,u),n;case"child_removed":return Tu(this._delegate,l,u),n;case"child_changed":return wu(this._delegate,l,u),n;case"child_moved":return Su(this._delegate,l,u),n;default:throw new Error(He("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(t,n,r){if(W("Query.off",0,3,arguments.length),eb("Query.off",t),Se("Query.off","callback",n,!0),Ul("Query.off","context",r),n){var i=function(){};i.userCallback=n,i.context=r,Iu(this._delegate,t,i)}else Iu(this._delegate,t)},e.prototype.get=function(){var t=this;return Nb(this._delegate).then(function(n){return new $r(t.database,n)})},e.prototype.once=function(t,n,r,i){var o=this;W("Query.once",1,4,arguments.length),Se("Query.once","callback",n,!0);var s=e.getCancelAndContextArgs_("Query.once",r,i),a=new Ve,l=function(c,f){var h=new $r(o.database,c);n&&n.call(s.context,h,f),a.resolve(h)};l.userCallback=n,l.context=s.context;var u=function(c){s.cancel&&s.cancel.call(s.context,c),a.reject(c)};switch(t){case"value":$s(this._delegate,l,u,{onlyOnce:!0});break;case"child_added":Cu(this._delegate,l,u,{onlyOnce:!0});break;case"child_removed":Tu(this._delegate,l,u,{onlyOnce:!0});break;case"child_changed":wu(this._delegate,l,u,{onlyOnce:!0});break;case"child_moved":Su(this._delegate,l,u,{onlyOnce:!0});break;default:throw new Error(He("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return a.promise},e.prototype.limitToFirst=function(t){return W("Query.limitToFirst",1,1,arguments.length),new e(this.database,ct(this._delegate,Ub(t)))},e.prototype.limitToLast=function(t){return W("Query.limitToLast",1,1,arguments.length),new e(this.database,ct(this._delegate,Vb(t)))},e.prototype.orderByChild=function(t){return W("Query.orderByChild",1,1,arguments.length),new e(this.database,ct(this._delegate,$b(t)))},e.prototype.orderByKey=function(){return W("Query.orderByKey",0,0,arguments.length),new e(this.database,ct(this._delegate,Qb()))},e.prototype.orderByPriority=function(){return W("Query.orderByPriority",0,0,arguments.length),new e(this.database,ct(this._delegate,Kb()))},e.prototype.orderByValue=function(){return W("Query.orderByValue",0,0,arguments.length),new e(this.database,ct(this._delegate,qb()))},e.prototype.startAt=function(t,n){return t===void 0&&(t=null),W("Query.startAt",0,2,arguments.length),new e(this.database,ct(this._delegate,Lb(t,n)))},e.prototype.startAfter=function(t,n){return t===void 0&&(t=null),W("Query.startAfter",0,2,arguments.length),new e(this.database,ct(this._delegate,Bb(t,n)))},e.prototype.endAt=function(t,n){return t===void 0&&(t=null),W("Query.endAt",0,2,arguments.length),new e(this.database,ct(this._delegate,Mb(t,n)))},e.prototype.endBefore=function(t,n){return t===void 0&&(t=null),W("Query.endBefore",0,2,arguments.length),new e(this.database,ct(this._delegate,Db(t,n)))},e.prototype.equalTo=function(t,n){return W("Query.equalTo",1,2,arguments.length),new e(this.database,ct(this._delegate,Xb(t,n)))},e.prototype.toString=function(){return W("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return W("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if(W("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(t,n,r){var i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,Se(t,"cancel",i.cancel,!0),i.context=r,Ul(t,"context",i.context);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(He(t,"cancelOrContext")+" must either be a cancel callback or a context object.");return i},Object.defineProperty(e.prototype,"ref",{get:function(){return new In(this.database,new kt(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),In=function(e){ge(t,e);function t(n,r){var i=e.call(this,n,new lt(r._repo,r._path,new hh,!1))||this;return i.database=n,i._delegate=r,i}return t.prototype.getKey=function(){return W("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(n){return W("Reference.child",1,1,arguments.length),typeof n=="number"&&(n=String(n)),new t(this.database,kn(this._delegate,n))},t.prototype.getParent=function(){W("Reference.parent",0,0,arguments.length);var n=this._delegate.parent;return n?new t(this.database,n):null},t.prototype.getRoot=function(){return W("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(n,r){W("Reference.set",1,2,arguments.length),Se("Reference.set","onComplete",r,!0);var i=el(this._delegate,n);return r&&i.then(function(){return r(null)},function(o){return r(o)}),i},t.prototype.update=function(n,r){if(W("Reference.update",1,2,arguments.length),Array.isArray(n)){for(var i={},o=0;o<n.length;++o)i[""+o]=n[o];n=i,xe("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}it("Reference.update",this._delegate._path),Se("Reference.update","onComplete",r,!0);var s=Pb(this._delegate,n);return r&&s.then(function(){return r(null)},function(a){return r(a)}),s},t.prototype.setWithPriority=function(n,r,i){W("Reference.setWithPriority",2,3,arguments.length),Se("Reference.setWithPriority","onComplete",i,!0);var o=Ob(this._delegate,n,r);return i&&o.then(function(){return i(null)},function(s){return i(s)}),o},t.prototype.remove=function(n){W("Reference.remove",0,1,arguments.length),Se("Reference.remove","onComplete",n,!0);var r=Ab(this._delegate);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},t.prototype.transaction=function(n,r,i){var o=this;W("Reference.transaction",1,3,arguments.length),Se("Reference.transaction","transactionUpdate",n,!1),Se("Reference.transaction","onComplete",r,!0),nb("Reference.transaction","applyLocally",i);var s=hE(this._delegate,n,{applyLocally:i}).then(function(a){return new pE(a.committed,new $r(o.database,a.snapshot))});return r&&s.then(function(a){return r(null,a.committed,a.snapshot)},function(a){return r(a,!1,null)}),s},t.prototype.setPriority=function(n,r){W("Reference.setPriority",1,2,arguments.length),Se("Reference.setPriority","onComplete",r,!0);var i=xb(this._delegate,n);return r&&i.then(function(){return r(null)},function(o){return r(o)}),i},t.prototype.push=function(n,r){var i=this;W("Reference.push",0,2,arguments.length),Se("Reference.push","onComplete",r,!0);var o=Rb(this._delegate,n),s=o.then(function(l){return new t(i.database,l)});r&&s.then(function(){return r(null)},function(l){return r(l)});var a=new t(this.database,o);return a.then=s.then.bind(s),a.catch=s.catch.bind(s,void 0),a},t.prototype.onDisconnect=function(){return it("Reference.onDisconnect",this._delegate._path),new dE(new Ib(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(td);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ro=function(){function e(t,n){var r=this;this._delegate=t,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),oE(this._delegate,t,n,r)},e.prototype.ref=function(t){if(W("database.ref",0,1,arguments.length),t instanceof In){var n=Eu(this._delegate,t.toString());return new In(this,n)}else{var n=Kh(this._delegate,t);return new In(this,n)}},e.prototype.refFromURL=function(t){var n="database.refFromURL";W(n,1,1,arguments.length);var r=Eu(this._delegate,t);return new In(this,r)},e.prototype.goOffline=function(){return W("database.goOffline",0,0,arguments.length),sE(this._delegate)},e.prototype.goOnline=function(){return W("database.goOnline",0,0,arguments.length),aE(this._delegate)},e.ServerValue={TIMESTAMP:uE(),increment:function(t){return cE(t)}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vE=function(){Sn.forceDisallow(),Ta.forceAllow()},_E=function(){Ta.forceDisallow()},gE=function(){return Sn.isAvailable()},mE=function(e,t){var n=e._delegate._repo.persistentConnection_;n.securityDebugCallback_=t},yE=function(e,t){mb(e._delegate._repo,t)},bE=function(e,t){yb(e._delegate._repo,t)},EE=function(e){return e._delegate._repo.dataUpdateCount},CE=function(e,t){return lb(e._delegate._repo,t)};function wE(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,o=e.namespace,s=e.nodeAdmin,a=s===void 0?!1:s;Of(r);var l=new Cf("auth-internal",new wf("database-standalone"));return l.setComponent(new fi("auth-internal",function(){return i},"PRIVATE")),{instance:new ro(ed(t,l,void 0,n,a),t),namespace:o}}var SE=Object.freeze({__proto__:null,forceLongPolling:vE,forceWebSockets:_E,isWebSocketsAvailable:gE,setSecurityDebugCallback:mE,stats:yE,statsIncrementCounter:bE,dataUpdateCount:EE,interceptServerData:CE,initStandalone:wE});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TE=xn;xn.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};xn.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var IE=Xf,RE=function(e){var t=xn.prototype.put;return xn.prototype.put=function(n,r,i,o){o!==void 0&&(o=e()),t.call(this,n,r,i,o)},function(){xn.prototype.put=t}},AE=wa,xE=function(e){return e._delegate._queryIdentifier},OE=function(e){rE(e)},PE=Object.freeze({__proto__:null,DataConnection:TE,RealTimeConnection:IE,hijackHash:RE,ConnectionTarget:AE,queryIdentifier:xE,forceRestClient:OE});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NE=ro.ServerValue;function ME(e){Of(e.SDK_VERSION),e.INTERNAL.registerComponent(new fi("database",function(t,n){var r=n.instanceIdentifier,i=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new ro(ed(i,o,s,r),i)},"PUBLIC").setServiceProps({Reference:In,Query:td,Database:ro,DataSnapshot:$r,enableLogging:kf,INTERNAL:SE,ServerValue:NE,TEST_ACCESS:PE}).setMultipleInstances(!0)),e.registerVersion(gg,mg)}ME(mr);const kE={apiKey:"AIzaSyDF2m4vvAS0zQXfn2NQgQxrDZGRblq0wY8",authDomain:"tielbeke3.firebaseapp.com",databaseURL:"https://tielbeke3.firebaseio.com",projectId:"tielbeke3",storageBucket:"tielbeke3.appspot.com",messagingSenderId:"1010883935820",appId:"1:1010883935820:web:7666663961f7de9f4afee9"};mr.initializeApp(kE);const os=mr.database();class DE extends E_{async getAllFilialen(){const t=await os.ref().once("value");if(!t.exists())throw new Error("database error, try again later");return await t.val()}async addMededeling(t){const n=await os.ref().orderByChild("filiaalnummer").equalTo(t.filiaalnummer).once("value");if(!n.exists())throw new Error("filiaal niet gevonden in de database");await os.ref(Object.keys(n.val())[0]).update(t)}}const ss=Symbol();var $u;$u=ss;class nd{static createRepository(t){if(this[ss][t]===void 0)throw new Error("concrete instance of repository does not exists");return this[ss][t]}}sl(nd,$u,{firebase:new DE});const Ei=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n},LE={computed:{...__({filialen:e=>e.filialen})},async mounted(){try{const e=nd.createRepository("firebase");this.$store.commit("setRepository",e),await this.$store.dispatch("getAllFilialen")}catch(e){this.error=e}}},FE={class:"main-bar"},BE={id:"nav"};function WE(e,t,n,r,i,o){const s=sr("router-link"),a=sr("router-view");return oe(),ye(ke,null,[ee("div",FE,[t[2]||(t[2]=ee("h1",{style:{"font-style":"italic","font-size":"2.2em"}},"KCA",-1)),ee("div",BE,[Ie(s,{to:"/"},{default:Fi(()=>t[0]||(t[0]=[ir("Hoofdscherm")])),_:1}),Ie(s,{to:"/mededelingen"},{default:Fi(()=>t[1]||(t[1]=[ir("Mededelingen")])),_:1})])]),Ie(a,{filialen:e.filialen},null,8,["filialen"])],64)}const UE=Ei(LE,[["render",WE]]);/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Yn=typeof document<"u";function rd(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function jE(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&rd(e.default)}const J=Object.assign;function as(e,t){const n={};for(const r in t){const i=t[r];n[r]=vt(i)?i.map(e):e(i)}return n}const Gr=()=>{},vt=Array.isArray,id=/#/g,VE=/&/g,HE=/\//g,$E=/=/g,GE=/\?/g,od=/\+/g,QE=/%5B/g,zE=/%5D/g,sd=/%5E/g,KE=/%60/g,ad=/%7B/g,YE=/%7C/g,ld=/%7D/g,qE=/%20/g;function tl(e){return encodeURI(""+e).replace(YE,"|").replace(QE,"[").replace(zE,"]")}function JE(e){return tl(e).replace(ad,"{").replace(ld,"}").replace(sd,"^")}function Qs(e){return tl(e).replace(od,"%2B").replace(qE,"+").replace(id,"%23").replace(VE,"%26").replace(KE,"`").replace(ad,"{").replace(ld,"}").replace(sd,"^")}function XE(e){return Qs(e).replace($E,"%3D")}function ZE(e){return tl(e).replace(id,"%23").replace(GE,"%3F")}function eC(e){return e==null?"":ZE(e).replace(HE,"%2F")}function si(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const tC=/\/$/,nC=e=>e.replace(tC,"");function ls(e,t,n="/"){let r,i={},o="",s="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=t.slice(0,l),o=t.slice(l+1,a>-1?a:t.length),i=e(o)),a>-1&&(r=r||t.slice(0,a),s=t.slice(a,t.length)),r=sC(r??t,n),{fullPath:r+(o&&"?")+o+s,path:r,query:i,hash:si(s)}}function rC(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Ru(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function iC(e,t,n){const r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&pr(t.matched[r],n.matched[i])&&ud(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function pr(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function ud(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!oC(e[n],t[n]))return!1;return!0}function oC(e,t){return vt(e)?Au(e,t):vt(t)?Au(t,e):e===t}function Au(e,t){return vt(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function sC(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let o=n.length-1,s,a;for(s=0;s<r.length;s++)if(a=r[s],a!==".")if(a==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+r.slice(s).join("/")}const Jt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var ai;(function(e){e.pop="pop",e.push="push"})(ai||(ai={}));var Qr;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Qr||(Qr={}));function aC(e){if(!e)if(Yn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),nC(e)}const lC=/^[^#]+#/;function uC(e,t){return e.replace(lC,"#")+t}function cC(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Bo=()=>({left:window.scrollX,top:window.scrollY});function fC(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=cC(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function xu(e,t){return(history.state?history.state.position-t:-1)+e}const zs=new Map;function hC(e,t){zs.set(e,t)}function dC(e){const t=zs.get(e);return zs.delete(e),t}let pC=()=>location.protocol+"//"+location.host;function cd(e,t){const{pathname:n,search:r,hash:i}=t,o=e.indexOf("#");if(o>-1){let a=i.includes(e.slice(o))?e.slice(o).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),Ru(l,"")}return Ru(n,e)+r+i}function vC(e,t,n,r){let i=[],o=[],s=null;const a=({state:h})=>{const d=cd(e,location),_=n.value,m=t.value;let b=0;if(h){if(n.value=d,t.value=h,s&&s===_){s=null;return}b=m?h.position-m.position:0}else r(d);i.forEach(C=>{C(n.value,_,{delta:b,type:ai.pop,direction:b?b>0?Qr.forward:Qr.back:Qr.unknown})})};function l(){s=n.value}function u(h){i.push(h);const d=()=>{const _=i.indexOf(h);_>-1&&i.splice(_,1)};return o.push(d),d}function c(){const{history:h}=window;h.state&&h.replaceState(J({},h.state,{scroll:Bo()}),"")}function f(){for(const h of o)h();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:f}}function Ou(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?Bo():null}}function _C(e){const{history:t,location:n}=window,r={value:cd(e,n)},i={value:t.state};i.value||o(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(l,u,c){const f=e.indexOf("#"),h=f>-1?(n.host&&document.querySelector("base")?e:e.slice(f))+l:pC()+e+l;try{t[c?"replaceState":"pushState"](u,"",h),i.value=u}catch(d){console.error(d),n[c?"replace":"assign"](h)}}function s(l,u){const c=J({},t.state,Ou(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});o(l,c,!0),r.value=l}function a(l,u){const c=J({},i.value,t.state,{forward:l,scroll:Bo()});o(c.current,c,!0);const f=J({},Ou(r.value,l,null),{position:c.position+1},u);o(l,f,!1),r.value=l}return{location:r,state:i,push:a,replace:s}}function gC(e){e=aC(e);const t=_C(e),n=vC(e,t.state,t.location,t.replace);function r(o,s=!0){s||n.pauseListeners(),history.go(o)}const i=J({location:"",base:e,go:r,createHref:uC.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function mC(e){return typeof e=="string"||e&&typeof e=="object"}function fd(e){return typeof e=="string"||typeof e=="symbol"}const hd=Symbol("");var Pu;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Pu||(Pu={}));function vr(e,t){return J(new Error,{type:e,[hd]:!0},t)}function Ft(e,t){return e instanceof Error&&hd in e&&(t==null||!!(e.type&t))}const Nu="[^/]+?",yC={sensitive:!1,strict:!1,start:!0,end:!0},bC=/[.+*?^${}()[\]/\\]/g;function EC(e,t){const n=J({},yC,t),r=[];let i=n.start?"^":"";const o=[];for(const u of e){const c=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let f=0;f<u.length;f++){const h=u[f];let d=40+(n.sensitive?.25:0);if(h.type===0)f||(i+="/"),i+=h.value.replace(bC,"\\$&"),d+=40;else if(h.type===1){const{value:_,repeatable:m,optional:b,regexp:C}=h;o.push({name:_,repeatable:m,optional:b});const R=C||Nu;if(R!==Nu){d+=10;try{new RegExp(`(${R})`)}catch(D){throw new Error(`Invalid custom RegExp for param "${_}" (${R}): `+D.message)}}let N=m?`((?:${R})(?:/(?:${R}))*)`:`(${R})`;f||(N=b&&u.length<2?`(?:/${N})`:"/"+N),b&&(N+="?"),i+=N,d+=20,b&&(d+=-8),m&&(d+=-20),R===".*"&&(d+=-50)}c.push(d)}r.push(c)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const s=new RegExp(i,n.sensitive?"":"i");function a(u){const c=u.match(s),f={};if(!c)return null;for(let h=1;h<c.length;h++){const d=c[h]||"",_=o[h-1];f[_.name]=d&&_.repeatable?d.split("/"):d}return f}function l(u){let c="",f=!1;for(const h of e){(!f||!c.endsWith("/"))&&(c+="/"),f=!1;for(const d of h)if(d.type===0)c+=d.value;else if(d.type===1){const{value:_,repeatable:m,optional:b}=d,C=_ in u?u[_]:"";if(vt(C)&&!m)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const R=vt(C)?C.join("/"):C;if(!R)if(b)h.length<2&&(c.endsWith("/")?c=c.slice(0,-1):f=!0);else throw new Error(`Missing required param "${_}"`);c+=R}}return c||"/"}return{re:s,score:r,keys:o,parse:a,stringify:l}}function CC(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function dd(e,t){let n=0;const r=e.score,i=t.score;for(;n<r.length&&n<i.length;){const o=CC(r[n],i[n]);if(o)return o;n++}if(Math.abs(i.length-r.length)===1){if(Mu(r))return 1;if(Mu(i))return-1}return i.length-r.length}function Mu(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const wC={type:0,value:""},SC=/[a-zA-Z0-9_]/;function TC(e){if(!e)return[[]];if(e==="/")return[[wC]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(d){throw new Error(`ERR (${n})/"${u}": ${d}`)}let n=0,r=n;const i=[];let o;function s(){o&&i.push(o),o=[]}let a=0,l,u="",c="";function f(){u&&(n===0?o.push({type:0,value:u}):n===1||n===2||n===3?(o.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),u="")}function h(){u+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&f(),s()):l===":"?(f(),n=1):h();break;case 4:h(),n=r;break;case 1:l==="("?n=2:SC.test(l)?h():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${u}"`),f(),s(),i}function IC(e,t,n){const r=EC(TC(e.path),n),i=J(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function RC(e,t){const n=[],r=new Map;t=Fu({strict:!1,end:!0,sensitive:!1},t);function i(f){return r.get(f)}function o(f,h,d){const _=!d,m=Du(f);m.aliasOf=d&&d.record;const b=Fu(t,f),C=[m];if("alias"in f){const D=typeof f.alias=="string"?[f.alias]:f.alias;for(const Y of D)C.push(Du(J({},m,{components:d?d.record.components:m.components,path:Y,aliasOf:d?d.record:m})))}let R,N;for(const D of C){const{path:Y}=D;if(h&&Y[0]!=="/"){const me=h.record.path,he=me[me.length-1]==="/"?"":"/";D.path=h.record.path+(Y&&he+Y)}if(R=IC(D,h,b),d?d.alias.push(R):(N=N||R,N!==R&&N.alias.push(R),_&&f.name&&!Lu(R)&&s(f.name)),pd(R)&&l(R),m.children){const me=m.children;for(let he=0;he<me.length;he++)o(me[he],R,d&&d.children[he])}d=d||R}return N?()=>{s(N)}:Gr}function s(f){if(fd(f)){const h=r.get(f);h&&(r.delete(f),n.splice(n.indexOf(h),1),h.children.forEach(s),h.alias.forEach(s))}else{const h=n.indexOf(f);h>-1&&(n.splice(h,1),f.record.name&&r.delete(f.record.name),f.children.forEach(s),f.alias.forEach(s))}}function a(){return n}function l(f){const h=OC(f,n);n.splice(h,0,f),f.record.name&&!Lu(f)&&r.set(f.record.name,f)}function u(f,h){let d,_={},m,b;if("name"in f&&f.name){if(d=r.get(f.name),!d)throw vr(1,{location:f});b=d.record.name,_=J(ku(h.params,d.keys.filter(N=>!N.optional).concat(d.parent?d.parent.keys.filter(N=>N.optional):[]).map(N=>N.name)),f.params&&ku(f.params,d.keys.map(N=>N.name))),m=d.stringify(_)}else if(f.path!=null)m=f.path,d=n.find(N=>N.re.test(m)),d&&(_=d.parse(m),b=d.record.name);else{if(d=h.name?r.get(h.name):n.find(N=>N.re.test(h.path)),!d)throw vr(1,{location:f,currentLocation:h});b=d.record.name,_=J({},h.params,f.params),m=d.stringify(_)}const C=[];let R=d;for(;R;)C.unshift(R.record),R=R.parent;return{name:b,path:m,params:_,matched:C,meta:xC(C)}}e.forEach(f=>o(f));function c(){n.length=0,r.clear()}return{addRoute:o,resolve:u,removeRoute:s,clearRoutes:c,getRoutes:a,getRecordMatcher:i}}function ku(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function Du(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:AC(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function AC(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function Lu(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function xC(e){return e.reduce((t,n)=>J(t,n.meta),{})}function Fu(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function OC(e,t){let n=0,r=t.length;for(;n!==r;){const o=n+r>>1;dd(e,t[o])<0?r=o:n=o+1}const i=PC(e);return i&&(r=t.lastIndexOf(i,r-1)),r}function PC(e){let t=e;for(;t=t.parent;)if(pd(t)&&dd(e,t)===0)return t}function pd({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function NC(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<r.length;++i){const o=r[i].replace(od," "),s=o.indexOf("="),a=si(s<0?o:o.slice(0,s)),l=s<0?null:si(o.slice(s+1));if(a in t){let u=t[a];vt(u)||(u=t[a]=[u]),u.push(l)}else t[a]=l}return t}function Bu(e){let t="";for(let n in e){const r=e[n];if(n=XE(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(vt(r)?r.map(o=>o&&Qs(o)):[r&&Qs(r)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+n,o!=null&&(t+="="+o))})}return t}function MC(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=vt(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return t}const kC=Symbol(""),Wu=Symbol(""),nl=Symbol(""),vd=Symbol(""),Ks=Symbol("");function Nr(){let e=[];function t(r){return e.push(r),()=>{const i=e.indexOf(r);i>-1&&e.splice(i,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function en(e,t,n,r,i,o=s=>s()){const s=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const u=h=>{h===!1?l(vr(4,{from:n,to:t})):h instanceof Error?l(h):mC(h)?l(vr(2,{from:t,to:h})):(s&&r.enterCallbacks[i]===s&&typeof h=="function"&&s.push(h),a())},c=o(()=>e.call(r&&r.instances[i],t,n,u));let f=Promise.resolve(c);e.length<3&&(f=f.then(u)),f.catch(h=>l(h))})}function us(e,t,n,r,i=o=>o()){const o=[];for(const s of e)for(const a in s.components){let l=s.components[a];if(!(t!=="beforeRouteEnter"&&!s.instances[a]))if(rd(l)){const c=(l.__vccOpts||l)[t];c&&o.push(en(c,n,r,s,a,i))}else{let u=l();o.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${s.path}"`);const f=jE(c)?c.default:c;s.mods[a]=c,s.components[a]=f;const d=(f.__vccOpts||f)[t];return d&&en(d,n,r,s,a,i)()}))}}return o}function Uu(e){const t=Vt(nl),n=Vt(vd),r=nt(()=>{const l=Zn(e.to);return t.resolve(l)}),i=nt(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],f=n.matched;if(!c||!f.length)return-1;const h=f.findIndex(pr.bind(null,c));if(h>-1)return h;const d=ju(l[u-2]);return u>1&&ju(c)===d&&f[f.length-1].path!==d?f.findIndex(pr.bind(null,l[u-2])):h}),o=nt(()=>i.value>-1&&WC(n.params,r.value.params)),s=nt(()=>i.value>-1&&i.value===n.matched.length-1&&ud(n.params,r.value.params));function a(l={}){if(BC(l)){const u=t[Zn(e.replace)?"replace":"push"](Zn(e.to)).catch(Gr);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:r,href:nt(()=>r.value.href),isActive:o,isExactActive:s,navigate:a}}function DC(e){return e.length===1?e[0]:e}const LC=Tc({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Uu,setup(e,{slots:t}){const n=li(Uu(e)),{options:r}=Vt(nl),i=nt(()=>({[Vu(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Vu(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=t.default&&DC(t.default(n));return e.custom?o:Xc("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},o)}}}),FC=LC;function BC(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function WC(e,t){for(const n in t){const r=t[n],i=e[n];if(typeof r=="string"){if(r!==i)return!1}else if(!vt(i)||i.length!==r.length||r.some((o,s)=>o!==i[s]))return!1}return!0}function ju(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Vu=(e,t,n)=>e??t??n,UC=Tc({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=Vt(Ks),i=nt(()=>e.route||r.value),o=Vt(Wu,0),s=nt(()=>{let u=Zn(o);const{matched:c}=i.value;let f;for(;(f=c[u])&&!f.components;)u++;return u}),a=nt(()=>i.value.matched[s.value]);xi(Wu,nt(()=>s.value+1)),xi(kC,a),xi(Ks,i);const l=Zd();return rr(()=>[l.value,a.value,e.name],([u,c,f],[h,d,_])=>{c&&(c.instances[f]=u,d&&d!==c&&u&&u===h&&(c.leaveGuards.size||(c.leaveGuards=d.leaveGuards),c.updateGuards.size||(c.updateGuards=d.updateGuards))),u&&c&&(!d||!pr(c,d)||!h)&&(c.enterCallbacks[f]||[]).forEach(m=>m(u))},{flush:"post"}),()=>{const u=i.value,c=e.name,f=a.value,h=f&&f.components[c];if(!h)return Hu(n.default,{Component:h,route:u});const d=f.props[c],_=d?d===!0?u.params:typeof d=="function"?d(u):d:null,b=Xc(h,J({},_,t,{onVnodeUnmounted:C=>{C.component.isUnmounted&&(f.instances[c]=null)},ref:l}));return Hu(n.default,{Component:b,route:u})||b}}});function Hu(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const jC=UC;function VC(e){const t=RC(e.routes,e),n=e.parseQuery||NC,r=e.stringifyQuery||Bu,i=e.history,o=Nr(),s=Nr(),a=Nr(),l=ep(Jt);let u=Jt;Yn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=as.bind(null,E=>""+E),f=as.bind(null,eC),h=as.bind(null,si);function d(E,k){let P,L;return fd(E)?(P=t.getRecordMatcher(E),L=k):L=E,t.addRoute(L,P)}function _(E){const k=t.getRecordMatcher(E);k&&t.removeRoute(k)}function m(){return t.getRoutes().map(E=>E.record)}function b(E){return!!t.getRecordMatcher(E)}function C(E,k){if(k=J({},k||l.value),typeof E=="string"){const v=ls(n,E,k.path),g=t.resolve({path:v.path},k),w=i.createHref(v.fullPath);return J(v,g,{params:h(g.params),hash:si(v.hash),redirectedFrom:void 0,href:w})}let P;if(E.path!=null)P=J({},E,{path:ls(n,E.path,k.path).path});else{const v=J({},E.params);for(const g in v)v[g]==null&&delete v[g];P=J({},E,{params:f(v)}),k.params=f(k.params)}const L=t.resolve(P,k),ne=E.hash||"";L.params=c(h(L.params));const ve=rC(r,J({},E,{hash:JE(ne),path:L.path})),p=i.createHref(ve);return J({fullPath:ve,hash:ne,query:r===Bu?MC(E.query):E.query||{}},L,{redirectedFrom:void 0,href:p})}function R(E){return typeof E=="string"?ls(n,E,l.value.path):J({},E)}function N(E,k){if(u!==E)return vr(8,{from:k,to:E})}function D(E){return he(E)}function Y(E){return D(J(R(E),{replace:!0}))}function me(E){const k=E.matched[E.matched.length-1];if(k&&k.redirect){const{redirect:P}=k;let L=typeof P=="function"?P(E):P;return typeof L=="string"&&(L=L.includes("?")||L.includes("#")?L=R(L):{path:L},L.params={}),J({query:E.query,hash:E.hash,params:L.path!=null?{}:E.params},L)}}function he(E,k){const P=u=C(E),L=l.value,ne=E.state,ve=E.force,p=E.replace===!0,v=me(P);if(v)return he(J(R(v),{state:typeof v=="object"?J({},ne,v.state):ne,force:ve,replace:p}),k||P);const g=P;g.redirectedFrom=k;let w;return!ve&&iC(r,L,P)&&(w=vr(16,{to:g,from:L}),Et(L,L,!0,!1)),(w?Promise.resolve(w):yt(g,L)).catch(y=>Ft(y)?Ft(y,2)?y:Yt(y):q(y,g,L)).then(y=>{if(y){if(Ft(y,2))return he(J({replace:p},R(y.to),{state:typeof y.to=="object"?J({},ne,y.to.state):ne,force:ve}),k||g)}else y=gn(g,L,!0,p,ne);return Kt(g,L,y),y})}function mt(E,k){const P=N(E,k);return P?Promise.reject(P):Promise.resolve()}function zt(E){const k=jn.values().next().value;return k&&typeof k.runWithContext=="function"?k.runWithContext(E):E()}function yt(E,k){let P;const[L,ne,ve]=HC(E,k);P=us(L.reverse(),"beforeRouteLeave",E,k);for(const v of L)v.leaveGuards.forEach(g=>{P.push(en(g,E,k))});const p=mt.bind(null,E,k);return P.push(p),tt(P).then(()=>{P=[];for(const v of o.list())P.push(en(v,E,k));return P.push(p),tt(P)}).then(()=>{P=us(ne,"beforeRouteUpdate",E,k);for(const v of ne)v.updateGuards.forEach(g=>{P.push(en(g,E,k))});return P.push(p),tt(P)}).then(()=>{P=[];for(const v of ve)if(v.beforeEnter)if(vt(v.beforeEnter))for(const g of v.beforeEnter)P.push(en(g,E,k));else P.push(en(v.beforeEnter,E,k));return P.push(p),tt(P)}).then(()=>(E.matched.forEach(v=>v.enterCallbacks={}),P=us(ve,"beforeRouteEnter",E,k,zt),P.push(p),tt(P))).then(()=>{P=[];for(const v of s.list())P.push(en(v,E,k));return P.push(p),tt(P)}).catch(v=>Ft(v,8)?v:Promise.reject(v))}function Kt(E,k,P){a.list().forEach(L=>zt(()=>L(E,k,P)))}function gn(E,k,P,L,ne){const ve=N(E,k);if(ve)return ve;const p=k===Jt,v=Yn?history.state:{};P&&(L||p?i.replace(E.fullPath,J({scroll:p&&v&&v.scroll},ne)):i.push(E.fullPath,ne)),l.value=E,Et(E,k,P,p),Yt()}let bt;function wr(){bt||(bt=i.listen((E,k,P)=>{if(!Ci.listening)return;const L=C(E),ne=me(L);if(ne){he(J(ne,{replace:!0,force:!0}),L).catch(Gr);return}u=L;const ve=l.value;Yn&&hC(xu(ve.fullPath,P.delta),Bo()),yt(L,ve).catch(p=>Ft(p,12)?p:Ft(p,2)?(he(J(R(p.to),{force:!0}),L).then(v=>{Ft(v,20)&&!P.delta&&P.type===ai.pop&&i.go(-1,!1)}).catch(Gr),Promise.reject()):(P.delta&&i.go(-P.delta,!1),q(p,L,ve))).then(p=>{p=p||gn(L,ve,!1),p&&(P.delta&&!Ft(p,8)?i.go(-P.delta,!1):P.type===ai.pop&&Ft(p,20)&&i.go(-1,!1)),Kt(L,ve,p)}).catch(Gr)}))}let Wn=Nr(),we=Nr(),ie;function q(E,k,P){Yt(E);const L=we.list();return L.length?L.forEach(ne=>ne(E,k,P)):console.error(E),Promise.reject(E)}function Dt(){return ie&&l.value!==Jt?Promise.resolve():new Promise((E,k)=>{Wn.add([E,k])})}function Yt(E){return ie||(ie=!E,wr(),Wn.list().forEach(([k,P])=>E?P(E):k()),Wn.reset()),E}function Et(E,k,P,L){const{scrollBehavior:ne}=e;if(!Yn||!ne)return Promise.resolve();const ve=!P&&dC(xu(E.fullPath,0))||(L||!P)&&history.state&&history.state.scroll||null;return yc().then(()=>ne(E,k,ve)).then(p=>p&&fC(p)).catch(p=>q(p,E,k))}const je=E=>i.go(E);let Un;const jn=new Set,Ci={currentRoute:l,listening:!0,addRoute:d,removeRoute:_,clearRoutes:t.clearRoutes,hasRoute:b,getRoutes:m,resolve:C,options:e,push:D,replace:Y,go:je,back:()=>je(-1),forward:()=>je(1),beforeEach:o.add,beforeResolve:s.add,afterEach:a.add,onError:we.add,isReady:Dt,install(E){const k=this;E.component("RouterLink",FC),E.component("RouterView",jC),E.config.globalProperties.$router=k,Object.defineProperty(E.config.globalProperties,"$route",{enumerable:!0,get:()=>Zn(l)}),Yn&&!Un&&l.value===Jt&&(Un=!0,D(i.location).catch(ne=>{}));const P={};for(const ne in Jt)Object.defineProperty(P,ne,{get:()=>l.value[ne],enumerable:!0});E.provide(nl,k),E.provide(vd,pc(P)),E.provide(Ks,l);const L=E.unmount;jn.add(E),E.unmount=function(){jn.delete(E),jn.size<1&&(u=Jt,bt&&bt(),bt=null,l.value=Jt,Un=!1,ie=!1),L()}}};function tt(E){return E.reduce((k,P)=>k.then(()=>zt(P)),Promise.resolve())}return Ci}function HC(e,t){const n=[],r=[],i=[],o=Math.max(t.matched.length,e.matched.length);for(let s=0;s<o;s++){const a=t.matched[s];a&&(e.matched.find(u=>pr(u,a))?r.push(a):n.push(a));const l=e.matched[s];l&&(t.matched.find(u=>pr(u,l))||i.push(l))}return[n,r,i]}const $C={data(){return{enteredMededeling:this.filiaal.mededeling}},props:{filiaal:{type:Object},editMededelingMode:{type:Boolean,default:!1}},computed:{addressMapUrl(){return`https://maps.google.com/?q=${this.filiaal.address}`},mededeling:{get(){return this.enteredMededeling},set(e){this.enteredMededeling=e,this.$emit("mededelingAdded",e)}}}},GC={class:"result-card"},QC=["href"],zC={key:0,class:"header"},KC={key:1},YC={key:2,class:"header"},qC={key:3},JC={key:4},XC={key:0,class:"mededeling"};function ZC(e,t,n,r,i,o){return oe(),ye("div",GC,[t[2]||(t[2]=ee("p",{class:"header"},"FiliaalNummer:",-1)),ee("p",null,It(n.filiaal.filiaalnummer),1),t[3]||(t[3]=ee("p",{class:"header"},"Adres:",-1)),ee("a",{class:"address-link",href:o.addressMapUrl},[ee("p",null,It(n.filiaal.address),1)],8,QC),n.filiaal.postcode?(oe(),ye("p",zC,"Postcode")):Rt("",!0),n.filiaal.postcode?(oe(),ye("p",KC,It(n.filiaal.postcode),1)):Rt("",!0),n.filiaal.info?(oe(),ye("p",YC,"Info:")):Rt("",!0),n.filiaal.info?(oe(),ye("p",qC,It(n.filiaal.info),1)):Rt("",!0),n.filiaal.mededeling?(oe(),ye("div",JC,[t[1]||(t[1]=ee("p",{class:"header"},"Mededeling",-1)),n.editMededelingMode?Sc((oe(),ye("textarea",{key:1,class:"edit-mededeling","onUpdate:modelValue":t[0]||(t[0]=s=>o.mededeling=s),cols:"50",rows:"4"},null,512)),[[Fv,o.mededeling]]):(oe(),ye("p",XC,It(o.mededeling),1))])):Rt("",!0),Rp(e.$slots,"default",{},void 0)])}const _d=Ei($C,[["render",ZC],["__scopeId","data-v-89ba9fca"]]),ew={data(){return{currentPage:1}},props:{resultAmount:{type:Number,default:0}},computed:{paginationSize(){const e=this.resultAmount/"10"+1,t=[];if(e>0){for(let n=1;n<e;++n)t.push(n);return t}return[]}},methods:{paginationButtonSelected(e){return e===this.currentPage?{backgroundColor:"#f9bca3"}:{}},setPagination(e){this.currentPage=e,this.$emit("paginationChanged",this.currentPage)}}},tw={class:"pagination-container"},nw={class:"result-amount"},rw={key:0,class:"pagination-btns"},iw=["onClick"];function ow(e,t,n,r,i,o){return oe(),ye("div",tw,[ee("p",nw,"Resultaten: "+It(n.resultAmount),1),o.paginationSize.length>1?(oe(),ye("div",rw,[(oe(!0),ye(ke,null,ua(o.paginationSize,s=>(oe(),ye("button",{class:"pagination-btn",role:"button",onClick:a=>o.setPagination(s),key:s,style:uo(o.paginationButtonSelected(s))},It(s),13,iw))),128))])):Rt("",!0)])}const gd=Ei(ew,[["render",ow],["__scopeId","data-v-bf3d6dd0"]]),md={data(){return{currentPaginatedResultSet:[]}},computed:{showPagination(){return this.resultSet.length>"10"}},methods:{changePagination(e){this.currentPaginatedResultSet=this.resultSet.slice((e-1)*"10",e*"10")}}},sw={mixins:[md],components:{FiliaalCard:_d,Pagination:gd},props:{filialen:{type:Object}},data(){return{resultSet:[],error:"",searchMode:"filiaal-nummer"}},computed:{searchBarMode(){return{"filiaal-nummer":{type:"number",placeholder:"Voer filiaalnummer in",fn:this.searchFiliaalNummer},"adres/plaats":{type:"text",placeholder:"Voer adres of plaats in",fn:this.searchAddress},postcode:{type:"text",placeholder:"Voer postcode in",fn:this.searchPostcode}}[this.searchMode]},results(){return this.currentPaginatedResultSet.length>0?this.currentPaginatedResultSet:this.resultSet}},methods:{searchFiliaalNummer(e){const t=e.target.value,n=this.filialen[t];if(n===void 0){this.error=`filiaal met nummer: "${t}" niet gevonden`;return}this.resultSet.push(n)},searchAddress(e){const t=e.target.value;t!==""&&this.searchImpl(t,"address",n=>n.toLowerCase().includes(t.toLowerCase()))},searchPostcode(e){const t=e.target.value;if(!/(^\d{4}\s*\w{2}$)|(^[B|b]*\s*\d{4,5}$)/.test(t)){this.error="Postcode moet naar geldig Nederlandse of Belgische conventie ingevoerd worden";return}const r=/\s+/g;this.searchImpl(t,"postcode",i=>i.toLowerCase().replace(r,"")===t.toLowerCase().replace(r,""))},searchImpl(e,t,n){for(let r of Object.values(this.filialen))r&&r[t]&&n(r[t])&&this.resultSet.push(r);this.resultSet.length===0&&(this.error=`Geen filialen gevonden met zoekterm: "${e}"`)},search(e,t){this.resetScreen(),t(e),this.changePagination(1),this.clearInput()},resetScreen(){this.resultSet=[],this.error=""},changeSearchMode(e){this.searchMode=e.target.value},clearInput(){document.querySelector("#search-field").value=""}}},aw={class:"container"},lw={class:"search-choices"},uw={class:"search-form"},cw=["placeholder","type"],fw={class:"results"},hw={key:0,class:"error"};function dw(e,t,n,r,i,o){const s=sr("Pagination"),a=sr("FiliaalCard");return oe(),ye("div",aw,[t[8]||(t[8]=ee("h2",{style:{"text-align":"center","font-size":"1.4em"}},"Filiaal Zoeken",-1)),ee("div",lw,[ee("label",null,[ee("input",{id:"filiaal-number",onChange:t[0]||(t[0]=(...l)=>o.changeSearchMode&&o.changeSearchMode(...l)),checked:"",type:"radio",name:"search-type",value:"filiaal-nummer"},null,32),t[5]||(t[5]=ir(" FiliaalNummer "))]),ee("label",null,[ee("input",{type:"radio",onChange:t[1]||(t[1]=(...l)=>o.changeSearchMode&&o.changeSearchMode(...l)),name:"search-type",value:"adres/plaats"},null,32),t[6]||(t[6]=ir(" Adres/plaats "))]),ee("label",null,[ee("input",{type:"radio",onChange:t[2]||(t[2]=(...l)=>o.changeSearchMode&&o.changeSearchMode(...l)),name:"search-type",value:"postcode"},null,32),t[7]||(t[7]=ir(" Postcode "))])]),ee("div",uw,[ee("input",{placeholder:o.searchBarMode.placeholder,type:o.searchBarMode.type,id:"search-field",class:"search-input-field",onKeyup:t[3]||(t[3]=Wv(l=>o.search(l,o.searchBarMode.fn),["enter"]))},null,40,cw)]),e.showPagination?(oe(),Pn(s,{key:0,onPaginationChanged:t[4]||(t[4]=l=>e.changePagination(l)),resultAmount:i.resultSet.length},null,8,["resultAmount"])):Rt("",!0),ee("div",fw,[(oe(!0),ye(ke,null,ua(o.results,l=>(oe(),Pn(a,{key:l.filiaalnummer,filiaal:l},null,8,["filiaal"]))),128)),i.error?(oe(),ye("p",hw,It(i.error),1)):Rt("",!0)])])}const pw=Ei(sw,[["render",dw],["__scopeId","data-v-5568956e"]]),vw={mixins:[md],components:{FiliaalCard:_d,Pagination:gd},props:{filialen:{type:Object}},data(){return{showAddMededelingModal:!1,editMode:{},message:"",editMededelingMode:{},mededeling:""}},computed:{resultSet(){return Object.values(this.filialen).filter(e=>e.mededeling).map(e=>({filiaalnummer:e.filiaalnummer,address:e.address,mededeling:e.mededeling}))},results(){return this.currentPaginatedResultSet.length===0?this.resultSet.slice(0,"10"):this.currentPaginatedResultSet}},methods:{toggleAddMededelingModal(){this.showAddMededelingModal=!this.showAddMededelingModal,this.toggleScrolling()},toggleScrolling(){const e=document.querySelector("body");this.showAddMededelingModal?e.style.overflow="hidden":e.style.overflow="auto"},editMededeling(e,t){if(!this.mededeling){this.setMessage(`Er is geen mededeling ingevoerd voor filiaal met nummer: ${e.filiaalnummer}, graag een mededeling invoeren`,!1);return}e.mededeling=this.mededeling,this.updateMededeling(e),this.editMededelingMode[t]=!1},addMededeling(){const e=document.querySelector('[data-role="input-filiaalnummer"]').value,t=this.filialen[e];if(t===void 0)this.setMessage(`Filiaal met nummer: ${e} bestaat niet`,!1);else{const n=document.querySelector('[data-role="input-mededeling"]').value;t.mededeling?t.mededeling+=`
`+n:t.mededeling=n,this.updateMededeling(t)}this.toggleAddMededelingModal()},async updateMededeling(e){try{await this.$store.dispatch("addMededeling",e),e.mededeling?this.setMessage(`Mededeling toevoegd aan filiaal met nummer: ${e.filiaalnummer}`,!0):this.setMessage(`Mededeling verwijderd van filiaal met nummer: ${e.filiaalnummer}`,!0)}catch(t){this.setMessage(t,!1)}},setMessage(e,t){this.message=e;const n=t?"success":"error",r=document.querySelector(".message");r.classList.add(n),setTimeout(()=>{r.classList.remove(n),this.message=""},3e3)}}},_w={class:"container"},gw={key:1,class:"modal"},mw={class:"modal-body"},yw={class:"modal-btns"},bw={class:"results"},Ew=["onClick"],Cw=["onClick"];function ww(e,t,n,r,i,o){const s=sr("Pagination"),a=sr("FiliaalCard");return oe(),ye("div",_w,[Sc(ee("div",{class:"message"},It(i.message),513),[[Cv,i.message]]),ee("button",{class:"btn add-mededeling-btn",role:"button",onClick:t[0]||(t[0]=(...l)=>o.toggleAddMededelingModal&&o.toggleAddMededelingModal(...l))}," Mededeling toevoegen "),e.showPagination?(oe(),Pn(s,{key:0,onPaginationChanged:t[1]||(t[1]=l=>e.changePagination(l)),resultAmount:o.resultSet.length},null,8,["resultAmount"])):Rt("",!0),i.showAddMededelingModal?(oe(),ye("div",gw,[ee("div",mw,[t[5]||(t[5]=ov('<p class="modal-body-text" data-v-f831cc69>Mededeling toevoegen</p><span class="input-field" data-v-f831cc69><label for="modal-filiaal-nummer" data-v-f831cc69>FiliaalNummer:</label><input style="width:4.5em;" type="Number" id="modal-filiaal-nummer" data-role="input-filiaalnummer" data-v-f831cc69></span><span class="input-field" data-v-f831cc69><label for="modal-mededeling" data-v-f831cc69>Mededeling:</label><textarea id="modal-mededeling" data-role="input-mededeling" cols="50" rows="5" data-v-f831cc69></textarea></span>',3)),ee("div",yw,[ee("button",{role:"button",class:"modal-btn",onClick:t[2]||(t[2]=(...l)=>o.addMededeling&&o.addMededeling(...l))}," Toevoegen "),ee("button",{onClick:t[3]||(t[3]=(...l)=>o.toggleAddMededelingModal&&o.toggleAddMededelingModal(...l)),role:"button",class:"modal-btn"}," Annuleren ")])])])):Rt("",!0),ee("div",bw,[(oe(!0),ye(ke,null,ua(o.results,(l,u)=>(oe(),Pn(a,{key:l.filiaalnummer,filiaal:l,editMededelingMode:i.editMededelingMode[u],onMededelingAdded:t[4]||(t[4]=c=>i.mededeling=c)},{default:Fi(()=>[i.editMededelingMode[u]?(oe(),ye("button",{key:0,role:"button",class:"btn edit-mededeling-btn",onClick:c=>o.editMededeling(l,u)}," Opslaan ",8,Ew)):(oe(),ye("button",{key:1,onClick:c=>i.editMededelingMode[u]=!0,role:"button",class:"btn edit-mededeling-btn"}," Aanpassen ",8,Cw))]),_:2},1032,["filiaal","editMededelingMode"]))),128))])])}const Sw=Ei(vw,[["render",ww],["__scopeId","data-v-f831cc69"]]),Tw=[{path:"/",name:"mainScreen",component:pw},{path:"/mededelingen",name:"Mededelingen",component:Sw}],Iw=VC({history:gC("/KCA/"),routes:Tw}),Rw=v_({state:{filialen:{},repository:null},mutations:{setAllFilialen(e,t){for(const n of Object.values(t))e.filialen[n.filiaalnummer]=n},setMededeling(e,t){e.filialen[t.filiaalnummer].mededeling=t.mededeling},setRepository(e,t){e.repository=t}},actions:{async getAllFilialen({state:e,commit:t}){const n=await e.repository.getAllFilialen();t("setAllFilialen",n)},async addMededeling({state:e,commit:t},n){e.repository.addMededeling(n),t("setMededeling",n)}},modules:{}}),rl=Vv(UE);rl.use(Iw);rl.use(Rw);rl.mount("#app");
